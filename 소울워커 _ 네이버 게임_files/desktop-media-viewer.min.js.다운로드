!function(t,e){"object"==typeof exports&&"undefined"!=typeof module?module.exports=e():"function"==typeof define&&define.amd?define(e):(t=t||self).MediaViewer=e()}(this,function(){"use strict";var F="undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:{};function t(t,e){return t(e={exports:{}},e.exports),e.exports}var e=function(t){return t&&t.Math==Math&&t},_=e("object"==typeof globalThis&&globalThis)||e("object"==typeof window&&window)||e("object"==typeof self&&self)||e("object"==typeof F&&F)||Function("return this")(),s=function(t){try{return!!t()}catch(t){return!0}},f=!s(function(){return 7!=Object.defineProperty({},1,{get:function(){return 7}})[1]}),n={}.propertyIsEnumerable,i=Object.getOwnPropertyDescriptor,d={f:i&&!n.call({1:2},1)?function(t){var e=i(this,t);return!!e&&e.enumerable}:n},E=function(t,e){return{enumerable:!(1&t),configurable:!(2&t),writable:!(4&t),value:e}},r={}.toString,o=function(t){return r.call(t).slice(8,-1)},a="".split,I=s(function(){return!Object("z").propertyIsEnumerable(0)})?function(t){return"String"==o(t)?a.call(t,""):Object(t)}:Object,l=function(t){if(null==t)throw TypeError("Can't call method on "+t);return t},u=function(t){return I(l(t))},c=function(t){return"object"==typeof t?null!==t:"function"==typeof t},h=function(t,e){if(!c(t))return t;var n,i;if(e&&"function"==typeof(n=t.toString)&&!c(i=n.call(t)))return i;if("function"==typeof(n=t.valueOf)&&!c(i=n.call(t)))return i;if(!e&&"function"==typeof(n=t.toString)&&!c(i=n.call(t)))return i;throw TypeError("Can't convert object to primitive value")},p={}.hasOwnProperty,m=function(t,e){return p.call(t,e)},v=_.document,g=c(v)&&c(v.createElement),y=function(t){return g?v.createElement(t):{}},b=!f&&!s(function(){return 7!=Object.defineProperty(y("div"),"a",{get:function(){return 7}}).a}),T=Object.getOwnPropertyDescriptor,S={f:f?T:function(t,e){if(t=u(t),e=h(e,!0),b)try{return T(t,e)}catch(t){}if(m(t,e))return E(!d.f.call(t,e),t[e])}},x=/#|\.prototype\./,w=function(t,e){var n=O[P(t)];return n==L||n!=A&&("function"==typeof e?s(e):!!e)},P=w.normalize=function(t){return String(t).replace(x,".").toLowerCase()},O=w.data={},A=w.NATIVE="N",L=w.POLYFILL="P",C=w,D={},M=function(t){if("function"!=typeof t)throw TypeError(String(t)+" is not a function");return t},N=function(i,r,t){if(M(i),void 0===r)return i;switch(t){case 0:return function(){return i.call(r)};case 1:return function(t){return i.call(r,t)};case 2:return function(t,e){return i.call(r,t,e)};case 3:return function(t,e,n){return i.call(r,t,e,n)}}return function(){return i.apply(r,arguments)}},R=function(t){if(!c(t))throw TypeError(String(t)+" is not an object");return t},k=Object.defineProperty,V={f:f?k:function(t,e,n){if(R(t),e=h(e,!0),R(n),b)try{return k(t,e,n)}catch(t){}if("get"in n||"set"in n)throw TypeError("Accessors not supported");return"value"in n&&(t[e]=n.value),t}},B=f?function(t,e,n){return V.f(t,e,E(1,n))}:function(t,e,n){return t[e]=n,t},z=S.f,G=function(i){var t=function(t,e,n){if(this instanceof i){switch(arguments.length){case 0:return new i;case 1:return new i(t);case 2:return new i(t,e)}return new i(t,e,n)}return i.apply(this,arguments)};return t.prototype=i.prototype,t},H=function(t,e){var n,i,r,o,s,a,l,u,c=t.target,h=t.global,p=t.stat,f=t.proto,d=h?_:p?_[c]:(_[c]||{}).prototype,v=h?D:D[c]||(D[c]={}),g=v.prototype;for(r in e)n=!C(h?r:c+(p?".":"#")+r,t.forced)&&d&&m(d,r),s=v[r],n&&(a=t.noTargetGet?(u=z(d,r))&&u.value:d[r]),o=n&&a?a:e[r],n&&typeof s==typeof o||(l=t.bind&&n?N(o,_):t.wrap&&n?G(o):f&&"function"==typeof o?N(Function.call,o):o,(t.sham||o&&o.sham||s&&s.sham)&&B(l,"sham",!0),v[r]=l,f&&(m(D,i=c+"Prototype")||B(D,i,{}),D[i][r]=o,t.real&&g&&!g[r]&&B(g,r,o)))},U=Math.ceil,j=Math.floor,X=function(t){return isNaN(t=+t)?0:(0<t?j:U)(t)},W=Math.min,q=function(t){return 0<t?W(X(t),9007199254740991):0},Y=Math.max,K=Math.min,$=function(t,e){var n=X(t);return n<0?Y(n+e,0):K(n,e)},Z=function(a){return function(t,e,n){var i,r=u(t),o=q(r.length),s=$(n,o);if(a&&e!=e){for(;s<o;)if((i=r[s++])!=i)return!0}else for(;s<o;s++)if((a||s in r)&&r[s]===e)return a||s||0;return!a&&-1}},Q={includes:Z(!0),indexOf:Z(!1)},J={},tt=Q.indexOf,et=function(t,e){var n,i=u(t),r=0,o=[];for(n in i)!m(J,n)&&m(i,n)&&o.push(n);for(;e.length>r;)m(i,n=e[r++])&&(~tt(o,n)||o.push(n));return o},nt=["constructor","hasOwnProperty","isPrototypeOf","propertyIsEnumerable","toLocaleString","toString","valueOf"],it=Object.keys||function(t){return et(t,nt)},rt={f:Object.getOwnPropertySymbols},ot=function(t){return Object(l(t))},st=Object.assign,at=Object.defineProperty,lt=!st||s(function(){if(f&&1!==st({b:1},st(at({},"a",{enumerable:!0,get:function(){at(this,"b",{value:3,enumerable:!1})}}),{b:2})).b)return!0;var t={},e={},n=Symbol(),i="abcdefghijklmnopqrst";return t[n]=7,i.split("").forEach(function(t){e[t]=t}),7!=st({},t)[n]||it(st({},e)).join("")!=i})?function(t,e){for(var n=arguments,i=ot(t),r=arguments.length,o=1,s=rt.f,a=d.f;o<r;)for(var l,u=I(n[o++]),c=s?it(u).concat(s(u)):it(u),h=c.length,p=0;p<h;)l=c[p++],f&&!a.call(u,l)||(i[l]=u[l]);return i}:st;H({target:"Object",stat:!0,forced:Object.assign!==lt},{assign:lt});var ut=D.Object.assign,ct=s(function(){it(1)});H({target:"Object",stat:!0,forced:ct},{keys:function(t){return it(ot(t))}});var ht=D.Object.keys,pt=function(u){return function(t,e,n,i){M(e);var r=ot(t),o=I(r),s=q(r.length),a=u?s-1:0,l=u?-1:1;if(n<2)for(;;){if(a in o){i=o[a],a+=l;break}if(a+=l,u?a<0:s<=a)throw TypeError("Reduce of empty array with no initial value")}for(;u?0<=a:a<s;a+=l)a in o&&(i=e(i,o[a],a,r));return i}},ft={left:pt(!1),right:pt(!0)},dt=function(t,e){var n=[][t];return!!n&&s(function(){n.call(null,e||function(){throw 1},1)})},vt=Object.defineProperty,gt={},_t=function(t){throw t},mt=function(t,e){if(m(gt,t))return gt[t];e||(e={});var n=[][t],i=!!m(e,"ACCESSORS")&&e.ACCESSORS,r=m(e,0)?e[0]:_t,o=m(e,1)?e[1]:void 0;return gt[t]=!!n&&!s(function(){if(i&&!f)return!0;var t={length:-1};i?vt(t,1,{enumerable:!0,get:_t}):t[1]=1,n.call(t,r,o)})},yt=ft.left,Et=dt("reduce"),It=mt("reduce",{1:0});H({target:"Array",proto:!0,forced:!Et||!It},{reduce:function(t){return yt(this,t,arguments.length,1<arguments.length?arguments[1]:void 0)}});var bt,Tt,St,xt,wt=function(t){return D[t+"Prototype"]},Pt=wt("Array").reduce,Ot=Array.prototype,At=function(t){var e=t.reduce;return t===Ot||t instanceof Array&&e===Ot.reduce?Pt:e},Lt="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7",Ct="naverapp://fullscreen?top=show&bottom=show",Dt={OPEN:"open",CLOSE:"close",DATA_CHANGE:"data_change",H_INDEX_CHANGE:"horizontal_index_change",H_INDEX_OPEN:"horizontal_index_open",H_INDEX_CLOSE:"horizontal_index_close",H_INDEX_CLICK:"horizontal_index_click",H_INDEX_NEXT_MOVE:"horizontal_index_next_move",H_INDEX_PREV_MOVE:"horizontal_index_prev_move",V_INDEX_CHANGE:"vertical_index_change",V_INDEX_OPEN:"vertical_index_open",V_INDEX_CLOSE:"vertical_index_close",V_INDEX_CLICK:"vertical_index_click",CHANGE_FULL_MODE:"change_full_mode",CHANGE_NORMAL_MODE:"change_normal_mode",PREV_MOVE:"prev_move",NEXT_MOVE:"next_move",FLICK:"flick",ZOOM_ENTER:"zoom_enter",ZOOM_LEAVE:"zoom_leave",ZOOM_MIN:"zoom_min",ZOOM_MAX:"zoom_max",ZOOM_SCALE:"zoom_scale",INDEX_CHANGE:"index_change"};(Tt||(Tt={})).LOAD_CURRENT_ITEM="LOAD_CURRENT_ITEM",(xt=St||(St={})).DESKTOP="desktop",xt.MOBILE="mobile",xt.UNSUPPORT="unsupport";var Mt={HEADER:"header",FOOTTER:"footter",BACKGROUND:"background",H_IMAGE_INDEX:"h_imageIndex",V_IMAGE_INDEX:"v_imageIndex",GHOST_IMAGE:"ghostImage",EXCEPTION:"exception",TOAST:"toast",CAPTION:"caption",CLOSE_BTN:"close_btn",INDEX_INDICATOR:"index_indicator",LINK:"link",SHARE_BTN:"share_btn",VIDEO_TOOLBAR:"videoToolbar"},Nt="civ",Rt={ROOT:""+Nt,FADEOUT:"fadeout",FADEIN:"fadein",FADEHIDE:"fadehide",RESTORE:"restore",BUILD_IN:"anim-in",BUILD_OUT:"anim-out",IS_HOVER:Nt+"__is_hover",CAPTION:Nt+"__caption",CAPTION_LINK:Nt+"__caption_link",CAPTION_DESC:Nt+"__caption_desc",CAPTION_SVCNAME:Nt+"__caption_category",CAPTION_TITLE:Nt+"__caption_title",CLOSE_BUTTON:Nt+"__header__btn--close",FLICK_WRAPPER:Nt+"_wrap",FLICK_CONTENTS:Nt+"__content",FLICK_PANEL:Nt+"__panel",FLICK_PANEL_INDEX:Nt+"__panel--index",FLICK_PANEL_ACTIVE:Nt+"__panel--active",GHOST_IMAGE:"_CV_Ghost",HIDDEN:Nt+"__is-hidden",HIDE:Nt+"__is-closed",LAYOUT_BOTTOM:Nt+"__bottom",HEADER:Nt+"__header",FOOTER:Nt+"__footer_layout",INDEX_INDICATOR:Nt+"__header__number",NAVI_ROOT:Nt+"__navi_root",V_IMAGE_INDEX:Nt+"__side_index",V_INDEX_OPEN:Nt+"__is_side_open",V_INDEX_OPEN_ANIMATION:Nt+"__with_animation",V_INDEX_HEADER:Nt+"__side_index_header",V_INDEX_TOTLAL:Nt+"__side_total",V_INDEX_CURRENT:Nt+"__side_current",V_INDEX_LIST:Nt+"__side_index_list",V_INDEX_ITEM:Nt+"__side_index_item",V_INDEX_ITEM_LINK:Nt+"__item_link",V_INDEX_LOAD_ITEM:Nt+"__load_item",V_INDEX_FAIL_ITEM:Nt+"__fail_item",V_INDEX_ITEM_WRAPPER:Nt+"__item_wrapper",V_INDEX_ITEM_SIZE:Nt+"__item_size",V_INDEX_ITEM_INDEX:Nt+"__item__",THUMB_IMG_LOAD_COMPLTE:Nt+"__thumb_img_load_list",V_ITEM_LOADING:Nt+"--loading",V_ITEM_WIDE:Nt+"--wide",V_ITEM_TALL:Nt+"--tall",V_INDEX_LOADING:Nt+"__list_loading",V_INDEX_FOCUS:Nt+"--focused",V_INDEX_SCROLL:Nt+"__list_scroll",V_INDEX_MOVE_GHOST:Nt+"__side_ghost",V_INDEX_EXCEPTION:Nt+"__side_error_view",ICON:Nt+"__icon",H_IMAGE_INDEX:Nt+"__index",H_IMAGE_INDEX_FAIL:Nt+"__thumb--fail",H_IMAGE_INDEX_LOADED:Nt+"__thumb--transparent",H_IMAGE_INDEX_FOCUS:Nt+"__thumb--focused",H_IMAGE_INDEX_DEFAULT:Nt+"__thumb--default",H_IMAGE_INDEX_LOADING:Nt+"__thumb--loading",H_IMAGE_INDEX_LOADING_ICON:Nt+"__placeholder--loading",H_IMAGE_INDEX_LONG:Nt+"__thumb-img--long",H_IMAGE_INDEX_SCROLL:Nt+"__index ."+Nt+"__thumbs",H_IMAGE_INDEX_WRAP:Nt+"__index",H_IMAGE_INDEX_PREV_BTN:Nt+"__thumb_arrow--prev",H_IMAGE_INDEX_NEXT_BTN:Nt+"__thumb_arrow--next",H_IMAGE_INDEX_SCROLL_WRAPPER:Nt+"__thumbs_wrapper",H_INDEX_INDICATOR:Nt+"__index_count",IMAGE_PANEL:Nt+"__content",IMAGE_PANEL_LOADING:Nt+"__placeholder--loading",IMAGE_ITEM:Nt+"__img",IMAGE_WRAP:Nt+"__img_wrap",VIDEO_WRAP:Nt+"__video_wrap",VIDEO_ITEM:Nt+"__video",VIDEO_BUTTONS:Nt+"__buttons",VIDEO_TOOLBAR:Nt+"__video_toolbar",VIDEO_TOOLBAR_PLAY_BUTTON:Nt+"__video_toolbar_play",VIDEO_TOOLBAR_PAUSE_BUTTON:Nt+"__video_toolbar_pause",VIDEO_TOOLBAR_SOUND_MUTE_ON_BUTTON:Nt+"__video_toolbar_sound_mute_on",VIDEO_TOOLBAR_SOUND_MUTE_OFF_BUTTON:Nt+"__video_toolbar_sound_mute_off",VIDEO_TOOLBAR_CURRENT_TIME:Nt+"__video_toolbar_current_time",VIDEO_TOOLBAR_DURATION_TIME:Nt+"__video_toolbar_duration_time",VIDEO_TOOLBAR_PROGRESS_BAR:Nt+"__video_toolbar_progressbar",VIDEO_TOOLBAR_LOAD_BAR:Nt+"__video_toolbar_loadbar",VIDEO_TOOLBAR_PROGRESS_BTN:Nt+"__video_toolbar_progress_btn",VIDEO_TOOLBAR_PROGRESS_CONTAINER:Nt+"__video_toolbar_progress_container",VIDEO_CONTENTS:Nt+"__video_content",VIDEO_SOURCE:Nt+"__video_source",PLAY_BUTTON:Nt+"__play_button",PAUSE_BUTTON:Nt+"__pause_button",IMAGE_TRANSPARENT_BG:Nt+"__img--transparent-bg",IMAGE_WILL_CHANGE:Nt+"__img--will_change",INDEX_THUMB_IMAGE:Nt+"__thumb",INDEX_INDICATOR_CURRENT:Nt+"__current",INDEX_INDICATOR_TOTAL:Nt+"__length",INDEX_HEADER_BTN:Nt+"__header_number_btn",INDEX_ARROW_ICON:Nt+"_arrow_icon",INDEX_ARROW_ICON_HIDDEN:Nt+"_btn_icon",LINK:Nt+"__url_link",LINK_TEXT:Nt+"__url",LINK_WRAP:Nt+"__url_wrap",RELOAD_BTN:Nt+"__btn--refresh",SHARE_BUTTON:Nt+"__header__btn--share",TOAST:Nt+"__toast",TOUCH_HOME_BUTTON:"touch-home-button",TRANSFORM_TWEEN:Nt+"__tween--transform",BACKGROUND_TWEEN:Nt+"__tween--background",NOT_SUPPORT_CLOSE:Nt+"__btn--close",NOT_SUPPORT_WRAP:Nt+"__placeholder--error",CUSTOM_LAYOUT_POSITION_TOP:Nt+"__viewer_custom_top",CUSTOM_LAYOUT_POSITION_LEFT:Nt+"__viewer_custom_left",CUSTOM_LAYOUT_POSITION_RIGHT:Nt+"__viewer_custom_right",CUSTOM_LAYOUT_POSITION_BOTTOM:Nt+"__viewer_custom_bottom",CUSTOM_LAYOUT_POSITION_BUTTONS:Nt+"__viewer_custom_buttons",SHARE_BTN_AREA:Nt+"__shared_button",DOWN_LOAD_BTN:Nt+"__header__btn--download"};var kt,Vt,Bt,Ft,zt,Gt,Ht=At(bt=ht(Rt)).call(bt,function(t,e){return t[e]="."+Rt[e],t},{}),Ut="이미지를 불러오지 못했습니다. <br>새로고침 해주세요.",jt="파일을 불러오지 못했습니다. <br>새로고침 해주세요.",Xt="사용 중인 브라우저가 뷰어 기능을<br> 지원하지 않습니다.",Wt=2e3,qt=20,Yt=[27,27,30],Kt=40,$t=300,Zt=20,Qt=92,Jt=12,te=8,ee=34,ne={SHOW:"EXCEPTION_SHOW",HIDE:"EXCEPTION_HIDE",REFRESH:"EXCEPTION_REFRESH"},ie={SHOW:"IMAGEINDEX_SHOW",HIDE:"IMAGEINDEX_HIDE",HIDED:"IMAGEINDEX_HIDED",REFRESH:"IMAGEINDEX_REFRESH",CLICK:"IMAGEINDEX_CLICK",TOGGLE:"IMAGEINDEX_TOGGLE",NEXT_CLICK:"NEXT_CLICK",PREV_CLICK:"PREV_CLICK"},re="V_IMAGEINDEX_SHOW",oe="V_IMAGEINDEX_HIDE",se="V_IMAGEINDEX_CLICK",ae="LAYOUT_RELOAD",le="TOGGLE_INDEX",ue="RESIZE",ce="GHOST_MOVE_START",he="GHOST_MOVE_END",pe={TOGGLE:"INDICATOR_EVENT_TOGGLE"};(Vt=kt||(kt={})).IMAGE="image",Vt.VIDEO="video",(Ft=Bt||(Bt={})).DATA="data",Ft.VOD="vod",(Gt=zt||(zt={})).READY="VIDEO_READY",Gt.CANPLAY="VIDEO_CANPLAY",Gt.PLAY="VIDEO_PLAY",Gt.PLAYING="VIDEO_PLAYING",Gt.PAUSE="VIDEO_PAUSE",Gt.UPDATE_CURRENT_TIME="VIDEO_UPDATE_CURRENT_TIME",Gt.UPDATE_DURATION_TIME="VIDEO_UPDATE_DURATION_TIME",Gt.PROGRESS="VIDEO_PROGRESS",Gt.SUSPEND="VIDEO_SUSPEND",Gt.ERROR="ERROR",Gt.END="END",Gt.VOLUME_CHANGE="VIDEO_VOLUME_CHANGE",Gt.TIGGER_TOGGLE_PLAY="VIDEO_TOGGLE_PLAY",Gt.TRIGGER_SOUND_MUTE_ON="VIDEO_SOUND_MUTE_ON",Gt.TRIGGER_SOUND_MUTE_OFF="VIDEO_SOUND_MUTE_OFF",Gt.TRIGGER_CHANGE_TIME="CHANGE_TIME",Gt.TRIGGER_PLAY="TRIGGER_PLAY",Gt.TRIGGER_PAUSE="TRIGGER_PAUSE",Gt.TRIGGER_CLOSE="TRIGGER_CLOSE",Gt.TRIGGER_RESIZE="TRIGGER_RESIZE",Gt.TRIGGER_UNBIND="TRIGGER_UNBIND";var fe="dev",de={VINFRA:"VINFRA_CORE",CUSTOM:"CUSTOM",DUMMY:"Dummy"},ve=Mt.V_IMAGE_INDEX+"_visibility",ge="media_viewer_video_mute",_e="VIDEO_TOOLBAR_SHOW",me="VIDEO_TOOLBAR_HIDE",ye="VIDEO_TOOLBAR_PLAY",Ee="VIDEO_TOOLBAR_PAUSE",Ie="VIDEO_TOOLBAR_SOUND_MUTE_ON",be="VIDEO_TOOLBAR_SOUND_MUTE_OFF",Te="VIDEO_TOOLBAR_SEEK_TIME",Se=function(t){return t&&t.Math==Math&&t},xe=Se("object"==typeof globalThis&&globalThis)||Se("object"==typeof window&&window)||Se("object"==typeof self&&self)||Se("object"==typeof F&&F)||Function("return this")(),we=function(t){try{return!!t()}catch(t){return!0}},Pe=!we(function(){return 7!=Object.defineProperty({},1,{get:function(){return 7}})[1]}),Oe={}.propertyIsEnumerable,Ae=Object.getOwnPropertyDescriptor,Le={f:Ae&&!Oe.call({1:2},1)?function(t){var e=Ae(this,t);return!!e&&e.enumerable}:Oe},Ce=function(t,e){return{enumerable:!(1&t),configurable:!(2&t),writable:!(4&t),value:e}},De={}.toString,Me=function(t){return De.call(t).slice(8,-1)},Ne="".split,Re=we(function(){return!Object("z").propertyIsEnumerable(0)})?function(t){return"String"==Me(t)?Ne.call(t,""):Object(t)}:Object,ke=function(t){if(null==t)throw TypeError("Can't call method on "+t);return t},Ve=function(t){return Re(ke(t))},Be=function(t){return"object"==typeof t?null!==t:"function"==typeof t},Fe=function(t,e){if(!Be(t))return t;var n,i;if(e&&"function"==typeof(n=t.toString)&&!Be(i=n.call(t)))return i;if("function"==typeof(n=t.valueOf)&&!Be(i=n.call(t)))return i;if(!e&&"function"==typeof(n=t.toString)&&!Be(i=n.call(t)))return i;throw TypeError("Can't convert object to primitive value")},ze={}.hasOwnProperty,Ge=function(t,e){return ze.call(t,e)},He=xe.document,Ue=Be(He)&&Be(He.createElement),je=function(t){return Ue?He.createElement(t):{}},Xe=!Pe&&!we(function(){return 7!=Object.defineProperty(je("div"),"a",{get:function(){return 7}}).a}),We=Object.getOwnPropertyDescriptor,qe={f:Pe?We:function(t,e){if(t=Ve(t),e=Fe(e,!0),Xe)try{return We(t,e)}catch(t){}if(Ge(t,e))return Ce(!Le.f.call(t,e),t[e])}},Ye=function(t){if(!Be(t))throw TypeError(String(t)+" is not an object");return t},Ke=Object.defineProperty,$e={f:Pe?Ke:function(t,e,n){if(Ye(t),e=Fe(e,!0),Ye(n),Xe)try{return Ke(t,e,n)}catch(t){}if("get"in n||"set"in n)throw TypeError("Accessors not supported");return"value"in n&&(t[e]=n.value),t}},Ze=Pe?function(t,e,n){return $e.f(t,e,Ce(1,n))}:function(t,e,n){return t[e]=n,t},Qe=function(e,n){try{Ze(xe,e,n)}catch(t){xe[e]=n}return n},Je="__core-js_shared__",tn=xe[Je]||Qe(Je,{}),en=Function.toString;"function"!=typeof tn.inspectSource&&(tn.inspectSource=function(t){return en.call(t)});var nn,rn,on,sn=tn.inspectSource,an=xe.WeakMap,ln="function"==typeof an&&/native code/.test(sn(an)),un=t(function(t){(t.exports=function(t,e){return tn[t]||(tn[t]=void 0!==e?e:{})})("versions",[]).push({version:"3.6.4",mode:"global",copyright:"© 2020 Denis Pushkarev (zloirock.ru)"})}),cn=0,hn=Math.random(),pn=function(t){return"Symbol("+String(void 0===t?"":t)+")_"+(++cn+hn).toString(36)},fn=un("keys"),dn=function(t){return fn[t]||(fn[t]=pn(t))},vn={},gn=xe.WeakMap;if(ln){var _n=new gn,mn=_n.get,yn=_n.has,En=_n.set;nn=function(t,e){return En.call(_n,t,e),e},rn=function(t){return mn.call(_n,t)||{}},on=function(t){return yn.call(_n,t)}}else{var In=dn("state");vn[In]=!0,nn=function(t,e){return Ze(t,In,e),e},rn=function(t){return Ge(t,In)?t[In]:{}},on=function(t){return Ge(t,In)}}var bn={set:nn,get:rn,has:on,enforce:function(t){return on(t)?rn(t):nn(t,{})},getterFor:function(n){return function(t){var e;if(!Be(t)||(e=rn(t)).type!==n)throw TypeError("Incompatible receiver, "+n+" required");return e}}},Tn=t(function(t){var e=bn.get,a=bn.enforce,l=String(String).split("String");(t.exports=function(t,e,n,i){var r=!!i&&!!i.unsafe,o=!!i&&!!i.enumerable,s=!!i&&!!i.noTargetGet;"function"==typeof n&&("string"!=typeof e||Ge(n,"name")||Ze(n,"name",e),a(n).source=l.join("string"==typeof e?e:"")),t!==xe?(r?!s&&t[e]&&(o=!0):delete t[e],o?t[e]=n:Ze(t,e,n)):o?t[e]=n:Qe(e,n)})(Function.prototype,"toString",function(){return"function"==typeof this&&e(this).source||sn(this)})}),Sn=xe,xn=function(t){return"function"==typeof t?t:void 0},wn=function(t,e){return arguments.length<2?xn(Sn[t])||xn(xe[t]):Sn[t]&&Sn[t][e]||xe[t]&&xe[t][e]},Pn=Math.ceil,On=Math.floor,An=function(t){return isNaN(t=+t)?0:(0<t?On:Pn)(t)},Ln=Math.min,Cn=function(t){return 0<t?Ln(An(t),9007199254740991):0},Dn=Math.max,Mn=Math.min,Nn=function(u){return function(t,e,n){var i,r,o,s=Ve(t),a=Cn(s.length),l=(i=a,(r=An(n))<0?Dn(r+i,0):Mn(r,i));if(u&&e!=e){for(;l<a;)if((o=s[l++])!=o)return!0}else for(;l<a;l++)if((u||l in s)&&s[l]===e)return u||l||0;return!u&&-1}},Rn={includes:Nn(!0),indexOf:Nn(!1)}.indexOf,kn=function(t,e){var n,i=Ve(t),r=0,o=[];for(n in i)!Ge(vn,n)&&Ge(i,n)&&o.push(n);for(;e.length>r;)Ge(i,n=e[r++])&&(~Rn(o,n)||o.push(n));return o},Vn=["constructor","hasOwnProperty","isPrototypeOf","propertyIsEnumerable","toLocaleString","toString","valueOf"],Bn=Vn.concat("length","prototype"),Fn={f:Object.getOwnPropertyNames||function(t){return kn(t,Bn)}},zn={f:Object.getOwnPropertySymbols},Gn=wn("Reflect","ownKeys")||function(t){var e=Fn.f(Ye(t)),n=zn.f;return n?e.concat(n(t)):e},Hn=function(t,e){for(var n=Gn(e),i=$e.f,r=qe.f,o=0;o<n.length;o++){var s=n[o];Ge(t,s)||i(t,s,r(e,s))}},Un=/#|\.prototype\./,jn=function(t,e){var n=Wn[Xn(t)];return n==Yn||n!=qn&&("function"==typeof e?we(e):!!e)},Xn=jn.normalize=function(t){return String(t).replace(Un,".").toLowerCase()},Wn=jn.data={},qn=jn.NATIVE="N",Yn=jn.POLYFILL="P",Kn=jn,$n=qe.f,Zn=function(t,e){var n,i,r,o,s,a=t.target,l=t.global,u=t.stat;if(n=l?xe:u?xe[a]||Qe(a,{}):(xe[a]||{}).prototype)for(i in e){if(o=e[i],r=t.noTargetGet?(s=$n(n,i))&&s.value:n[i],!Kn(l?i:a+(u?".":"#")+i,t.forced)&&void 0!==r){if(typeof o==typeof r)continue;Hn(o,r)}(t.sham||r&&r.sham)&&Ze(o,"sham",!0),Tn(n,i,o,t)}},Qn=function(){var t=Ye(this),e="";return t.global&&(e+="g"),t.ignoreCase&&(e+="i"),t.multiline&&(e+="m"),t.dotAll&&(e+="s"),t.unicode&&(e+="u"),t.sticky&&(e+="y"),e};function Jn(t,e){return RegExp(t,e)}var ti,ei,ni={UNSUPPORTED_Y:we(function(){var t=Jn("a","y");return t.lastIndex=2,null!=t.exec("abcd")}),BROKEN_CARET:we(function(){var t=Jn("^r","gy");return t.lastIndex=2,null!=t.exec("str")})},ii=RegExp.prototype.exec,ri=String.prototype.replace,oi=ii,si=(ti=/a/,ei=/b*/g,ii.call(ti,"a"),ii.call(ei,"a"),0!==ti.lastIndex||0!==ei.lastIndex),ai=ni.UNSUPPORTED_Y||ni.BROKEN_CARET,li=void 0!==/()??/.exec("")[1];(si||li||ai)&&(oi=function(t){var e,n,i,r,o=this,s=ai&&o.sticky,a=Qn.call(o),l=o.source,u=0,c=t;return s&&(-1===(a=a.replace("y","")).indexOf("g")&&(a+="g"),c=String(t).slice(o.lastIndex),0<o.lastIndex&&(!o.multiline||o.multiline&&"\n"!==t[o.lastIndex-1])&&(l="(?: "+l+")",c=" "+c,u++),n=new RegExp("^(?:"+l+")",a)),li&&(n=new RegExp("^"+l+"$(?!\\s)",a)),si&&(e=o.lastIndex),i=ii.call(s?n:o,c),s?i?(i.input=i.input.slice(u),i[0]=i[0].slice(u),i.index=o.lastIndex,o.lastIndex+=i[0].length):o.lastIndex=0:si&&i&&(o.lastIndex=o.global?i.index+i[0].length:e),li&&i&&1<i.length&&ri.call(i[0],n,function(){var t=arguments;for(r=1;r<arguments.length-2;r++)void 0===t[r]&&(i[r]=void 0)}),i});var ui=oi;Zn({target:"RegExp",proto:!0,forced:/./.exec!==ui},{exec:ui});var ci=!!Object.getOwnPropertySymbols&&!we(function(){return!String(Symbol())}),hi=ci&&!Symbol.sham&&"symbol"==typeof Symbol.iterator,pi=un("wks"),fi=xe.Symbol,di=hi?fi:fi&&fi.withoutSetter||pn,vi=function(t){return Ge(pi,t)||(ci&&Ge(fi,t)?pi[t]=fi[t]:pi[t]=di("Symbol."+t)),pi[t]},gi=vi("species"),_i=!we(function(){var t=/./;return t.exec=function(){var t=[];return t.groups={a:"7"},t},"7"!=="".replace(t,"$<a>")}),mi="$0"==="a".replace(/./,"$0"),yi=vi("replace"),Ei=!!/./[yi]&&""===/./[yi]("a","$0"),Ii=!we(function(){var t=/(?:)/,e=t.exec;t.exec=function(){return e.apply(this,arguments)};var n="ab".split(t);return 2!==n.length||"a"!==n[0]||"b"!==n[1]}),bi=function(n,t,e,i){var r=vi(n),o=!we(function(){var t={};return t[r]=function(){return 7},7!=""[n](t)}),s=o&&!we(function(){var t=!1,e=/a/;return"split"===n&&((e={constructor:{}}).constructor[gi]=function(){return e},e.flags="",e[r]=/./[r]),e.exec=function(){return t=!0,null},e[r](""),!t});if(!o||!s||"replace"===n&&(!_i||!mi||Ei)||"split"===n&&!Ii){var a=/./[r],l=e(r,""[n],function(t,e,n,i,r){return e.exec===ui?o&&!r?{done:!0,value:a.call(e,n,i)}:{done:!0,value:t.call(n,e,i)}:{done:!1}},{REPLACE_KEEPS_$0:mi,REGEXP_REPLACE_SUBSTITUTES_UNDEFINED_CAPTURE:Ei}),u=l[0],c=l[1];Tn(String.prototype,n,u),Tn(RegExp.prototype,r,2==t?function(t,e){return c.call(t,this,e)}:function(t){return c.call(t,this)})}i&&Ze(RegExp.prototype[r],"sham",!0)},Ti=vi("match"),Si=function(t){var e;return Be(t)&&(void 0!==(e=t[Ti])?!!e:"RegExp"==Me(t))},xi=function(t){if("function"!=typeof t)throw TypeError(String(t)+" is not a function");return t},wi=vi("species"),Pi=function(a){return function(t,e){var n,i,r=String(ke(t)),o=An(e),s=r.length;return o<0||s<=o?a?"":void 0:(n=r.charCodeAt(o))<55296||56319<n||o+1===s||(i=r.charCodeAt(o+1))<56320||57343<i?a?r.charAt(o):n:a?r.slice(o,o+2):i-56320+(n-55296<<10)+65536}},Oi={codeAt:Pi(!1),charAt:Pi(!0)}.charAt,Ai=function(t,e,n){return e+(n?Oi(t,e).length:1)},Li=function(t,e){var n=t.exec;if("function"==typeof n){var i=n.call(t,e);if("object"!=typeof i)throw TypeError("RegExp exec method returned something other than an Object or null");return i}if("RegExp"!==Me(t))throw TypeError("RegExp#exec called on incompatible receiver");return ui.call(t,e)},Ci=[].push,Di=Math.min,Mi=4294967295,Ni=!we(function(){return!RegExp(Mi,"y")});bi("split",2,function(r,y,E){var I;return I="c"=="abbc".split(/(b)*/)[1]||4!="test".split(/(?:)/,-1).length||2!="ab".split(/(?:ab)*/).length||4!=".".split(/(.?)(.?)/).length||1<".".split(/()()/).length||"".split(/.?/).length?function(t,e){var n=String(ke(this)),i=void 0===e?Mi:e>>>0;if(0===i)return[];if(void 0===t)return[n];if(!Si(t))return y.call(n,t,i);for(var r,o,s,a=[],l=(t.ignoreCase?"i":"")+(t.multiline?"m":"")+(t.unicode?"u":"")+(t.sticky?"y":""),u=0,c=new RegExp(t.source,l+"g");(r=ui.call(c,n))&&!(u<(o=c.lastIndex)&&(a.push(n.slice(u,r.index)),1<r.length&&r.index<n.length&&Ci.apply(a,r.slice(1)),s=r[0].length,u=o,a.length>=i));)c.lastIndex===r.index&&c.lastIndex++;return u===n.length?!s&&c.test("")||a.push(""):a.push(n.slice(u)),a.length>i?a.slice(0,i):a}:"0".split(void 0,0).length?function(t,e){return void 0===t&&0===e?[]:y.call(this,t,e)}:y,[function(t,e){var n=ke(this),i=null==t?void 0:t[r];return void 0!==i?i.call(t,n,e):I.call(String(n),t,e)},function(t,e){var n=E(I,t,this,e,I!==y);if(n.done)return n.value;var i,r,o,s=Ye(t),a=String(this),l=(i=RegExp,void 0===(o=Ye(s).constructor)||null==(r=Ye(o)[wi])?i:xi(r)),u=s.unicode,c=(s.ignoreCase?"i":"")+(s.multiline?"m":"")+(s.unicode?"u":"")+(Ni?"y":"g"),h=new l(Ni?s:"^(?:"+s.source+")",c),p=void 0===e?Mi:e>>>0;if(0===p)return[];if(0===a.length)return null===Li(h,a)?[a]:[];for(var f=0,d=0,v=[];d<a.length;){h.lastIndex=Ni?d:0;var g,_=Li(h,Ni?a:a.slice(d));if(null===_||(g=Di(Cn(h.lastIndex+(Ni?0:d)),a.length))===f)d=Ai(a,d,u);else{if(v.push(a.slice(f,d)),v.length===p)return v;for(var m=1;m<=_.length-1;m++)if(v.push(_[m]),v.length===p)return v;d=f=g}}return v.push(a.slice(f)),v}]},!Ni);var Ri=function(t){return"function"==typeof t?t:void 0},ki=function(t,e){return arguments.length<2?Ri(D[t])||Ri(_[t]):D[t]&&D[t][e]||_[t]&&_[t][e]},Vi=ki("navigator","userAgent")||"",Bi=[].slice,Fi=/MSIE .\./.test(Vi),zi=function(r){return function(t,e){var n=2<arguments.length,i=n?Bi.call(arguments,2):void 0;return r(n?function(){("function"==typeof t?t:Function(t)).apply(this,i)}:t,e)}};H({global:!0,bind:!0,forced:Fi},{setTimeout:zi(_.setTimeout),setInterval:zi(_.setInterval)});var Gi,Hi,Ui=D.setTimeout,ji=void 0!==ji&&ji.Math===Math?ji:"undefined"!=typeof self&&(self.Math===Math?self:Function("return this")()),Xi=ji.document,Wi=function(t,e){ji.localStorage.setItem(t,e)},qi=function(t){return ji.localStorage.getItem(t)},Yi=function(t){return ji.localStorage.removeItem(t)},Ki=[].join,$i=Re!=Object,Zi=(Gi=",",!!(Hi=[]["join"])&&we(function(){Hi.call(null,Gi||function(){throw 1},1)}));Zn({target:"Array",proto:!0,forced:$i||!Zi},{join:function(t){return Ki.call(Ve(this),void 0===t?",":t)}});var Qi,Ji,tr=Object.setPrototypeOf||("__proto__"in{}?function(){var n,i=!1,t={};try{(n=Object.getOwnPropertyDescriptor(Object.prototype,"__proto__").set).call(t,[]),i=t instanceof Array}catch(t){}return function(t,e){return Ye(t),function(t){if(!Be(t)&&null!==t)throw TypeError("Can't set "+String(t)+" as a prototype")}(e),i?n.call(t,e):t.__proto__=e,t}}():void 0),er=function(t,e,n){var i,r;return tr&&"function"==typeof(i=e.constructor)&&i!==n&&Be(r=i.prototype)&&r!==n.prototype&&tr(t,r),t},nr=vi("species"),ir=$e.f,rr=Fn.f,or=bn.set,sr=vi("match"),ar=xe.RegExp,lr=ar.prototype,ur=/a/g,cr=/a/g,hr=new ar(ur)!==ur,pr=ni.UNSUPPORTED_Y;if(Pe&&Kn("RegExp",!hr||pr||we(function(){return cr[sr]=!1,ar(ur)!=ur||ar(cr)==cr||"/a/i"!=ar(ur,"i")}))){for(var fr=function(t,e){var n,i=this instanceof fr,r=Si(t),o=void 0===e;if(!i&&r&&t.constructor===fr&&o)return t;hr?r&&!o&&(t=t.source):t instanceof fr&&(o&&(e=Qn.call(t)),t=t.source),pr&&(n=!!e&&-1<e.indexOf("y"))&&(e=e.replace(/y/g,""));var s=er(hr?new ar(t,e):ar(t,e),i?this:lr,fr);return pr&&n&&or(s,{sticky:n}),s},dr=function(e){e in fr||ir(fr,e,{configurable:!0,get:function(){return ar[e]},set:function(t){ar[e]=t}})},vr=rr(ar),gr=0;vr.length>gr;)dr(vr[gr++]);(lr.constructor=fr).prototype=lr,Tn(xe,"RegExp",fr)}Qi=wn("RegExp"),Ji=$e.f,Pe&&Qi&&!Qi[nr]&&Ji(Qi,nr,{configurable:!0,get:function(){return this}});var _r="toString",mr=RegExp.prototype,yr=mr[_r],Er=we(function(){return"/a/b"!=yr.call({source:"a",flags:"b"})}),Ir=yr.name!=_r;(Er||Ir)&&Tn(RegExp.prototype,_r,function(){var t=Ye(this),e=String(t.source),n=t.flags;return"/"+e+"/"+String(void 0===n&&t instanceof RegExp&&!("flags"in mr)?Qn.call(t):n)},{unsafe:!0}),bi("match",1,function(i,u,c){return[function(t){var e=ke(this),n=null==t?void 0:t[i];return void 0!==n?n.call(t,e):new RegExp(t)[i](String(e))},function(t){var e=c(u,t,this);if(e.done)return e.value;var n=Ye(t),i=String(this);if(!n.global)return Li(n,i);for(var r,o=n.unicode,s=[],a=n.lastIndex=0;null!==(r=Li(n,i));){var l=String(r[0]);""===(s[a]=l)&&(n.lastIndex=Ai(i,Cn(n.lastIndex),o)),a++}return 0===a?null:s}]});var br=function(t){return Object(ke(t))},Tr=Math.max,Sr=Math.min,xr=Math.floor,wr=/\$([$&'`]|\d\d?|<[^>]*>)/g,Pr=/\$([$&'`]|\d\d?)/g;bi("replace",2,function(r,I,b,t){var T=t.REGEXP_REPLACE_SUBSTITUTES_UNDEFINED_CAPTURE,S=t.REPLACE_KEEPS_$0,x=T?"$":"$0";return[function(t,e){var n=ke(this),i=null==t?void 0:t[r];return void 0!==i?i.call(t,n,e):I.call(String(n),t,e)},function(t,e){if(!T&&S||"string"==typeof e&&-1===e.indexOf(x)){var n=b(I,t,this,e);if(n.done)return n.value}var i=Ye(t),r=String(this),o="function"==typeof e;o||(e=String(e));var s=i.global;if(s){var a=i.unicode;i.lastIndex=0}for(var l=[];;){var u=Li(i,r);if(null===u)break;if(l.push(u),!s)break;""===String(u[0])&&(i.lastIndex=Ai(r,Cn(i.lastIndex),a))}for(var c,h="",p=0,f=0;f<l.length;f++){u=l[f];for(var d=String(u[0]),v=Tr(Sr(An(u.index),r.length),0),g=[],_=1;_<u.length;_++)g.push(void 0===(c=u[_])?c:String(c));var m=u.groups;if(o){var y=[d].concat(g,v,r);void 0!==m&&y.push(m);var E=String(e.apply(void 0,y))}else E=w(d,r,v,g,m,e);p<=v&&(h+=r.slice(p,v)+E,p=v+d.length)}return h+r.slice(p)}];function w(o,s,a,l,u,t){var c=a+o.length,h=l.length,e=Pr;return void 0!==u&&(u=br(u),e=wr),I.call(t,e,function(t,e){var n;switch(e.charAt(0)){case"$":return"$";case"&":return o;case"`":return s.slice(0,a);case"'":return s.slice(c);case"<":n=u[e.slice(1,-1)];break;default:var i=+e;if(0===i)return t;if(h<i){var r=xr(i/10);return 0===r?t:r<=h?void 0===l[r-1]?e.charAt(1):l[r-1]+e.charAt(1):t}n=l[i-1]}return void 0===n?"":n})}});var Or,Ar,Lr=Array.isArray||function(t){return"Array"==o(t)},Cr="__core-js_shared__",Dr=_[Cr]||function(e,n){try{B(_,e,n)}catch(t){_[e]=n}return n}(Cr,{}),Mr=t(function(t){(t.exports=function(t,e){return Dr[t]||(Dr[t]=void 0!==e?e:{})})("versions",[]).push({version:"3.6.4",mode:"pure",copyright:"© 2020 Denis Pushkarev (zloirock.ru)"})}),Nr=0,Rr=Math.random(),kr=function(t){return"Symbol("+String(void 0===t?"":t)+")_"+(++Nr+Rr).toString(36)},Vr=!!Object.getOwnPropertySymbols&&!s(function(){return!String(Symbol())}),Br=Vr&&!Symbol.sham&&"symbol"==typeof Symbol.iterator,Fr=Mr("wks"),zr=_.Symbol,Gr=Br?zr:zr&&zr.withoutSetter||kr,Hr=function(t){return m(Fr,t)||(Vr&&m(zr,t)?Fr[t]=zr[t]:Fr[t]=Gr("Symbol."+t)),Fr[t]},Ur=Hr("species"),jr=function(t,e){var n;return Lr(t)&&("function"!=typeof(n=t.constructor)||n!==Array&&!Lr(n.prototype)?c(n)&&null===(n=n[Ur])&&(n=void 0):n=void 0),new(void 0===n?Array:n)(0===e?0:e)},Xr=[].push,Wr=function(f){var d=1==f,v=2==f,g=3==f,_=4==f,m=6==f,y=5==f||m;return function(t,e,n,i){for(var r,o,s=ot(t),a=I(s),l=N(e,n,3),u=q(a.length),c=0,h=i||jr,p=d?h(t,u):v?h(t,0):void 0;c<u;c++)if((y||c in a)&&(o=l(r=a[c],c,s),f))if(d)p[c]=o;else if(o)switch(f){case 3:return!0;case 5:return r;case 6:return c;case 2:Xr.call(p,r)}else if(_)return!1;return m?-1:g||_?_:p}},qr={forEach:Wr(0),map:Wr(1),filter:Wr(2),some:Wr(3),every:Wr(4),find:Wr(5),findIndex:Wr(6)},Yr=_.process,Kr=Yr&&Yr.versions,$r=Kr&&Kr.v8;$r?Ar=(Or=$r.split("."))[0]+Or[1]:Vi&&(!(Or=Vi.match(/Edge\/(\d+)/))||74<=Or[1])&&(Or=Vi.match(/Chrome\/(\d+)/))&&(Ar=Or[1]);var Zr=Ar&&+Ar,Qr=Hr("species"),Jr=function(e){return 51<=Zr||!s(function(){var t=[];return(t.constructor={})[Qr]=function(){return{foo:1}},1!==t[e](Boolean).foo})},to=qr.map,eo=Jr("map"),no=mt("map");H({target:"Array",proto:!0,forced:!eo||!no},{map:function(t){return to(this,t,1<arguments.length?arguments[1]:void 0)}});var io=wt("Array").map,ro=Array.prototype,oo=function(t){var e=t.map;return t===ro||t instanceof Array&&e===ro.map?io:e},so=Q.indexOf,ao=[].indexOf,lo=!!ao&&1/[1].indexOf(1,-0)<0,uo=dt("indexOf"),co=mt("indexOf",{ACCESSORS:!0,1:0});H({target:"Array",proto:!0,forced:lo||!uo||!co},{indexOf:function(t){return lo?ao.apply(this,arguments)||0:so(this,t,1<arguments.length?arguments[1]:void 0)}});var ho=wt("Array").indexOf,po=Array.prototype,fo=function(t){var e=t.indexOf;return t===po||t instanceof Array&&e===po.indexOf?ho:e},vo="\t\n\v\f\r                　\u2028\u2029\ufeff",go="["+vo+"]",_o=RegExp("^"+go+go+"*"),mo=RegExp(go+go+"*$"),yo=function(n){return function(t){var e=String(l(t));return 1&n&&(e=e.replace(_o,"")),2&n&&(e=e.replace(mo,"")),e}},Eo={start:yo(1),end:yo(2),trim:yo(3)},Io=Eo.trim,bo=_.parseFloat,To=1/bo(vo+"-0")!=-1/0?function(t){var e=Io(String(t)),n=bo(e);return 0===n&&"-"==e.charAt(0)?-0:n}:bo;H({global:!0,forced:parseFloat!=To},{parseFloat:To});var So=D.parseFloat,xo={},wo=Function.toString;"function"!=typeof Dr.inspectSource&&(Dr.inspectSource=function(t){return wo.call(t)});var Po,Oo,Ao,Lo=Dr.inspectSource,Co=_.WeakMap,Do="function"==typeof Co&&/native code/.test(Lo(Co)),Mo=Mr("keys"),No=function(t){return Mo[t]||(Mo[t]=kr(t))},Ro=_.WeakMap;if(Do){var ko=new Ro,Vo=ko.get,Bo=ko.has,Fo=ko.set;Po=function(t,e){return Fo.call(ko,t,e),e},Oo=function(t){return Vo.call(ko,t)||{}},Ao=function(t){return Bo.call(ko,t)}}else{var zo=No("state");J[zo]=!0,Po=function(t,e){return B(t,zo,e),e},Oo=function(t){return m(t,zo)?t[zo]:{}},Ao=function(t){return m(t,zo)}}var Go,Ho,Uo,jo={set:Po,get:Oo,has:Ao,enforce:function(t){return Ao(t)?Oo(t):Po(t,{})},getterFor:function(n){return function(t){var e;if(!c(t)||(e=Oo(t)).type!==n)throw TypeError("Incompatible receiver, "+n+" required");return e}}},Xo=!s(function(){function t(){}return t.prototype.constructor=null,Object.getPrototypeOf(new t)!==t.prototype}),Wo=No("IE_PROTO"),qo=Object.prototype,Yo=Xo?Object.getPrototypeOf:function(t){return t=ot(t),m(t,Wo)?t[Wo]:"function"==typeof t.constructor&&t instanceof t.constructor?t.constructor.prototype:t instanceof Object?qo:null},Ko=(Hr("iterator"),!1);[].keys&&("next"in(Uo=[].keys())?(Ho=Yo(Yo(Uo)))!==Object.prototype&&(Go=Ho):Ko=!0),null==Go&&(Go={});var $o,Zo={IteratorPrototype:Go,BUGGY_SAFARI_ITERATORS:Ko},Qo=f?Object.defineProperties:function(t,e){R(t);for(var n,i=it(e),r=i.length,o=0;o<r;)V.f(t,n=i[o++],e[n]);return t},Jo=ki("document","documentElement"),ts="prototype",es="script",ns=No("IE_PROTO"),is=function(){},rs=function(t){return"<script>"+t+"</"+es+">"},os=function(){try{$o=document.domain&&new ActiveXObject("htmlfile")}catch(t){}var t,e;os=$o?function(t){t.write(rs("")),t.close();var e=t.parentWindow.Object;return t=null,e}($o):((e=y("iframe")).style.display="none",Jo.appendChild(e),e.src=String("javascript:"),(t=e.contentWindow.document).open(),t.write(rs("document.F=Object")),t.close(),t.F);for(var n=nt.length;n--;)delete os[ts][nt[n]];return os()};J[ns]=!0;var ss=Object.create||function(t,e){var n;return null!==t?(is[ts]=R(t),n=new is,is[ts]=null,n[ns]=t):n=os(),void 0===e?n:Qo(n,e)},as={};as[Hr("toStringTag")]="z";var ls="[object z]"===String(as),us=Hr("toStringTag"),cs="Arguments"==o(function(){return arguments}()),hs=ls?o:function(t){var e,n,i;return void 0===t?"Undefined":null===t?"Null":"string"==typeof(n=function(t,e){try{return t[e]}catch(t){}}(e=Object(t),us))?n:cs?o(e):"Object"==(i=o(e))&&"function"==typeof e.callee?"Arguments":i},ps=ls?{}.toString:function(){return"[object "+hs(this)+"]"},fs=V.f,ds=Hr("toStringTag"),vs=function(t,e,n,i){if(t){var r=n?t:t.prototype;m(r,ds)||fs(r,ds,{configurable:!0,value:e}),i&&!ls&&B(r,"toString",ps)}},gs=Zo.IteratorPrototype,_s=function(){return this},ms=(Object.setPrototypeOf||"__proto__"in{}&&function(){var t,e=!1,n={};try{(t=Object.getOwnPropertyDescriptor(Object.prototype,"__proto__").set).call(n,[]),e=n instanceof Array}catch(t){}}(),function(t,e,n,i){i&&i.enumerable?t[e]=n:B(t,e,n)}),ys=Zo.IteratorPrototype,Es=Zo.BUGGY_SAFARI_ITERATORS,Is=Hr("iterator"),bs="values",Ts="entries",Ss=function(){return this},xs=function(t,e,n,i,r,o,s){var a,l,u;l=i,u=e+" Iterator",(a=n).prototype=ss(gs,{next:E(1,l)}),vs(a,u,!1,!0),xo[u]=_s;var c,h,p,f=function(t){if(t===r&&m)return m;if(!Es&&t in g)return g[t];switch(t){case"keys":case bs:case Ts:return function(){return new n(this,t)}}return function(){return new n(this)}},d=e+" Iterator",v=!1,g=t.prototype,_=g[Is]||g["@@iterator"]||r&&g[r],m=!Es&&_||f(r),y="Array"==e&&g.entries||_;if(y&&(c=Yo(y.call(new t)),ys!==Object.prototype&&c.next&&(vs(c,d,!0,!0),xo[d]=Ss)),r==bs&&_&&_.name!==bs&&(v=!0,m=function(){return _.call(this)}),s&&g[Is]!==m&&B(g,Is,m),xo[e]=m,r)if(h={values:f(bs),keys:o?m:f("keys"),entries:f(Ts)},s)for(p in h)!Es&&!v&&p in g||ms(g,p,h[p]);else H({target:e,proto:!0,forced:Es||v},h);return h},ws="Array Iterator",Ps=jo.set,Os=jo.getterFor(ws);xs(Array,"Array",function(t,e){Ps(this,{type:ws,target:u(t),index:0,kind:e})},function(){var t=Os(this),e=t.target,n=t.kind,i=t.index++;return!e||i>=e.length?{value:t.target=void 0,done:!0}:"keys"==n?{value:i,done:!1}:"values"==n?{value:e[i],done:!1}:{value:[i,e[i]],done:!1}},"values");xo.Arguments=xo.Array;var As=Hr("toStringTag");for(var Ls in{CSSRuleList:0,CSSStyleDeclaration:0,CSSValueList:0,ClientRectList:0,DOMRectList:0,DOMStringList:0,DOMTokenList:1,DataTransferItemList:0,FileList:0,HTMLAllCollection:0,HTMLCollection:0,HTMLFormElement:0,HTMLSelectElement:0,MediaList:0,MimeTypeArray:0,NamedNodeMap:0,NodeList:1,PaintRequestList:0,Plugin:0,PluginArray:0,SVGLengthList:0,SVGNumberList:0,SVGPathSegList:0,SVGPointList:0,SVGStringList:0,SVGTransformList:0,SourceBufferList:0,StyleSheetList:0,TextTrackCueList:0,TextTrackList:0,TouchList:0}){var Cs=_[Ls],Ds=Cs&&Cs.prototype;Ds&&hs(Ds)!==As&&B(Ds,As,Ls),xo[Ls]=xo.Array}var Ms=qr.forEach,Ns=dt("forEach"),Rs=mt("forEach"),ks=Ns&&Rs?[].forEach:function(t){return Ms(this,t,1<arguments.length?arguments[1]:void 0)};H({target:"Array",proto:!0,forced:[].forEach!=ks},{forEach:ks});var Vs,Bs=wt("Array").forEach,Fs=Array.prototype,zs={DOMTokenList:!0,NodeList:!0},Gs=function(t){var e=t.forEach;return t===Fs||t instanceof Array&&e===Fs.forEach||zs.hasOwnProperty(hs(t))?Bs:e},Hs=Eo.trim;H({target:"String",proto:!0,forced:(Vs="trim",s(function(){return!!vo[Vs]()||"​᠎"!="​᠎"[Vs]()||vo[Vs].name!==Vs}))},{trim:function(){return Hs(this)}});wt("String").trim;var Us=function(t,e){return(Us=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)};function js(t,e){function n(){this.constructor=t}Us(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}var Xs=function(){return(Xs=Object.assign||function(t){for(var e,n=arguments,i=1,r=arguments.length;i<r;i++)for(var o in e=n[i])Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o]);return t}).apply(this,arguments)};function Ws(t,e,n,i){var r,o=arguments.length,s=o<3?e:null===i?i=Object.getOwnPropertyDescriptor(e,n):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,n,i);else for(var a=t.length-1;0<=a;a--)(r=t[a])&&(s=(o<3?r(s):3<o?r(e,n,s):r(e,n))||s);return 3<o&&s&&Object.defineProperty(e,n,s),s}function qs(t,s,a,l){return new(a||(a=Promise))(function(n,e){function i(t){try{o(l.next(t))}catch(t){e(t)}}function r(t){try{o(l.throw(t))}catch(t){e(t)}}function o(t){var e;t.done?n(t.value):(e=t.value,e instanceof a?e:new a(function(t){t(e)})).then(i,r)}o((l=l.apply(t,s||[])).next())})}function Ys(n,i){var r,o,s,t,a={label:0,sent:function(){if(1&s[0])throw s[1];return s[1]},trys:[],ops:[]};return t={next:e(0),throw:e(1),return:e(2)},"function"==typeof Symbol&&(t[Symbol.iterator]=function(){return this}),t;function e(e){return function(t){return function(e){if(r)throw new TypeError("Generator is already executing.");for(;a;)try{if(r=1,o&&(s=2&e[0]?o.return:e[0]?o.throw||((s=o.return)&&s.call(o),0):o.next)&&!(s=s.call(o,e[1])).done)return s;switch(o=0,s&&(e=[2&e[0],s.value]),e[0]){case 0:case 1:s=e;break;case 4:return a.label++,{value:e[1],done:!1};case 5:a.label++,o=e[1],e=[0];continue;case 7:e=a.ops.pop(),a.trys.pop();continue;default:if(!(s=0<(s=a.trys).length&&s[s.length-1])&&(6===e[0]||2===e[0])){a=0;continue}if(3===e[0]&&(!s||e[1]>s[0]&&e[1]<s[3])){a.label=e[1];break}if(6===e[0]&&a.label<s[1]){a.label=s[1],s=e;break}if(s&&a.label<s[2]){a.label=s[2],a.ops.push(e);break}s[2]&&a.ops.pop(),a.trys.pop();continue}e=i.call(n,a)}catch(t){e=[6,t],o=0}finally{r=s=0}if(5&e[0])throw e[1];return{value:e[0]?e[1]:void 0,done:!0}}([e,t])}}}var Ks,$s=Object.keys||function(t){return kn(t,Vn)},Zs=Pe?Object.defineProperties:function(t,e){Ye(t);for(var n,i=$s(e),r=i.length,o=0;o<r;)$e.f(t,n=i[o++],e[n]);return t},Qs=wn("document","documentElement"),Js="prototype",ta="script",ea=dn("IE_PROTO"),na=function(){},ia=function(t){return"<script>"+t+"</"+ta+">"},ra=function(){try{Ks=document.domain&&new ActiveXObject("htmlfile")}catch(t){}var t,e;ra=Ks?function(t){t.write(ia("")),t.close();var e=t.parentWindow.Object;return t=null,e}(Ks):((e=je("iframe")).style.display="none",Qs.appendChild(e),e.src=String("javascript:"),(t=e.contentWindow.document).open(),t.write(ia("document.F=Object")),t.close(),t.F);for(var n=Vn.length;n--;)delete ra[Js][Vn[n]];return ra()};vn[ea]=!0;var oa=Object.create||function(t,e){var n;return null!==t?(na[Js]=Ye(t),n=new na,na[Js]=null,n[ea]=t):n=ra(),void 0===e?n:Zs(n,e)},sa="[\t\n\v\f\r                　\u2028\u2029\ufeff]",aa=RegExp("^"+sa+sa+"*"),la=RegExp(sa+sa+"*$"),ua=function(n){return function(t){var e=String(ke(t));return 1&n&&(e=e.replace(aa,"")),2&n&&(e=e.replace(la,"")),e}},ca={start:ua(1),end:ua(2),trim:ua(3)},ha=Fn.f,pa=qe.f,fa=$e.f,da=ca.trim,va="Number",ga=xe[va],_a=ga.prototype,ma=Me(oa(_a))==va,ya=function(t){var e,n,i,r,o,s,a,l,u=Fe(t,!1);if("string"==typeof u&&2<u.length)if(43===(e=(u=da(u)).charCodeAt(0))||45===e){if(88===(n=u.charCodeAt(2))||120===n)return NaN}else if(48===e){switch(u.charCodeAt(1)){case 66:case 98:i=2,r=49;break;case 79:case 111:i=8,r=55;break;default:return+u}for(s=(o=u.slice(2)).length,a=0;a<s;a++)if((l=o.charCodeAt(a))<48||r<l)return NaN;return parseInt(o,i)}return+u};if(Kn(va,!ga(" 0o1")||!ga("0b1")||ga("+0x1"))){for(var Ea,Ia=function(t){var e=arguments.length<1?0:t,n=this;return n instanceof Ia&&(ma?we(function(){_a.valueOf.call(n)}):Me(n)!=va)?er(new ga(ya(e)),n,Ia):ya(e)},ba=Pe?ha(ga):"MAX_VALUE,MIN_VALUE,NaN,NEGATIVE_INFINITY,POSITIVE_INFINITY,EPSILON,isFinite,isInteger,isNaN,isSafeInteger,MAX_SAFE_INTEGER,MIN_SAFE_INTEGER,parseFloat,parseInt,isInteger".split(","),Ta=0;ba.length>Ta;Ta++)Ge(ga,Ea=ba[Ta])&&!Ge(Ia,Ea)&&fa(Ia,Ea,pa(ga,Ea));(Ia.prototype=_a).constructor=Ia,Tn(xe,va,Ia)}var Sa=qr.some,xa=dt("some"),wa=mt("some");H({target:"Array",proto:!0,forced:!xa||!wa},{some:function(t){return Sa(this,t,1<arguments.length?arguments[1]:void 0)}});var Pa=wt("Array").some,Oa=Array.prototype,Aa=function(t){var e=t.some;return t===Oa||t instanceof Array&&e===Oa.some?Pa:e},La=function(t,e,n){var i=h(e);i in t?V.f(t,i,E(0,n)):t[i]=n},Ca=Jr("slice"),Da=mt("slice",{ACCESSORS:!0,0:0,1:2}),Ma=Hr("species"),Na=[].slice,Ra=Math.max;H({target:"Array",proto:!0,forced:!Ca||!Da},{slice:function(t,e){var n,i,r,o=u(this),s=q(o.length),a=$(t,s),l=$(void 0===e?s:e,s);if(Lr(o)&&("function"!=typeof(n=o.constructor)||n!==Array&&!Lr(n.prototype)?c(n)&&null===(n=n[Ma])&&(n=void 0):n=void 0,n===Array||void 0===n))return Na.call(o,a,l);for(i=new(void 0===n?Array:n)(Ra(l-a,0)),r=0;a<l;a++,r++)a in o&&La(i,r,o[a]);return i.length=r,i}});var ka=wt("Array").slice,Va=Array.prototype,Ba=function(t){var e=t.slice;return t===Va||t instanceof Array&&e===Va.slice?ka:e};function Fa(t,e){var n,i=new RegExp("("+e+")+(\\/|\\s)([\\d_\\.]+|\\d_0)","i");i.exec(t)&&(n=i.exec(t)[3].replace(/_/g,".").replace(/;|\)/g,"")),n||(n="999");var r;return So(1===(r=n.split(".")).length?r[0]:[r[0],Ba(r).call(r,1).join("")].join("."))}function za(){return window.innerWidth<window.innerHeight}var Ga,Ha,Ua=function(t){return(/(iPad|iPhone|iphone|iPod).*?(OS |os |OS)(\d+((_|\.)\d)?((_|\.)\d)?)/.test(t)||"MacIntel"===navigator.platform&&1<navigator.maxTouchPoints)&&!window.MSStream},ja=/MSIE|Trident|Windows Phone/,Xa=/Windows|MAC|Windows 2000|Windows NT|Mac|OS X|Macintosh/,Wa=/Android/,qa=/OS X|Mac/;(Ha=Ga||(Ga={})).ANDROID="android",Ha.IOS="ios",Ha.IE="ie",Ha.UNKNOWN="unknown";var Ya=null;function Ka(e,n){return function(t){return e>=Number(t[n])}}var $a=function(u){return(u||null===Ya)&&(Ya=function(i){var t,e,n,r,o,s=Xa.test(i)&&!Ua(i),a={isNaverApp:!!(/NAVER/.test(i)||window.g_inapp&&1===window.g_inapp),type:Ga.UNKNOWN,isAndroid:!1,isIOS:!1,isIE:!1,cssPrefix:(t="",void 0!==document.body.style.webkitTransition&&(t="webkit"),{transition:t?t+"Transition":"transition",transform:t?t+"Transform":"transform",transformOrigin:t?t+"TransformOrigin":"transformOrigin",transitionEnd:t?t+"TransitionEnd":"transitionend"}),useCss3d:!0,supportBrowser:function(){return e=i,Aa(t=ht(n={whale:/Whale/,edge:/Edge/,chrome:/Chrome|CriOS/,safari:/Apple|iPhone|iPad/,firefox:/Firefox/,samsung:/SAMSUNG |SamsungBrowser/})).call(t,function(t){return n[t].test(e)});var e,t,n},isUnbackableBrowser:!1,isDeskTop:s,isMobile:!s,isMacOs:qa.test(u)};if(Wa.test(i)){var l=Fa(i,"Android");a=Xs({},a,{version:l,type:Ga.ANDROID,isAndroid:!0,supportBrowser:Ka(l,"ANDROID"),useDominantColor:6<=l,isLowerAndroidBrowserVersion:l<6})}else if(Ua(i)){l=Fa(i,"iPhone OS|CPU OS|Version");a=Xs({},a,{version:l,type:Ga.IOS,isIOS:!0,isTouchHomeButtonIOS:(o=null,null===o&&(e=["1125x2436","1242x2688","750x1624"],n=window.devicePixelRatio||1,r=window.screen.width*n+"x"+window.screen.height*n,o=-1<fo(e).call(e,r)),o),supportBrowser:Ka(l,"IOS"),useDominantColor:10<=l,isUnbackableBrowser:a.isNaverApp})}else if(ja.test(i)){l=Fa(i,"MSIE");a=Xs({},a,{type:Ga.IE,supportBrowser:Ka(l,"IE"),isIE:!0})}return a}(u||navigator.userAgent)),Ya},Za=Eo.trim,Qa=_.parseInt,Ja=/^[+-]?0[Xx]/,tl=8!==Qa(vo+"08")||22!==Qa(vo+"0x16")?function(t,e){var n=Za(String(t));return Qa(n,e>>>0||(Ja.test(n)?16:10))}:Qa;H({global:!0,forced:parseInt!=tl},{parseInt:tl});var el=D.parseInt,nl=Hr("isConcatSpreadable"),il=9007199254740991,rl="Maximum allowed index exceeded",ol=51<=Zr||!s(function(){var t=[];return t[nl]=!1,t.concat()[0]!==t}),sl=Jr("concat"),al=function(t){if(!c(t))return!1;var e=t[nl];return void 0!==e?!!e:Lr(t)};H({target:"Array",proto:!0,forced:!ol||!sl},{concat:function(t){var e,n,i,r,o,s=arguments,a=ot(this),l=jr(a,0),u=0;for(e=-1,i=arguments.length;e<i;e++)if(o=-1===e?a:s[e],al(o)){if(r=q(o.length),il<u+r)throw TypeError(rl);for(n=0;n<r;n++,u++)n in o&&La(l,u,o[n])}else{if(il<=u)throw TypeError(rl);La(l,u++,o)}return l.length=u,l}});var ll=wt("Array").concat,ul=Array.prototype,cl=function(t){var e=t.concat;return t===ul||t instanceof Array&&e===ul.concat?ll:e},hl={f:Hr},pl=V.f,fl=function(t){var e=D.Symbol||(D.Symbol={});m(e,t)||pl(e,t,{value:hl.f(t)})};fl("iterator");var dl=function(a){return function(t,e){var n,i,r=String(l(t)),o=X(e),s=r.length;return o<0||s<=o?a?"":void 0:(n=r.charCodeAt(o))<55296||56319<n||o+1===s||(i=r.charCodeAt(o+1))<56320||57343<i?a?r.charAt(o):n:a?r.slice(o,o+2):i-56320+(n-55296<<10)+65536}},vl={codeAt:dl(!1),charAt:dl(!0)}.charAt,gl="String Iterator",_l=jo.set,ml=jo.getterFor(gl);xs(String,"String",function(t){_l(this,{type:gl,string:String(t),index:0})},function(){var t,e=ml(this),n=e.string,i=e.index;return i>=n.length?{value:void 0,done:!0}:(t=vl(n,i),e.index+=t.length,{value:t,done:!1})});var yl=hl.f("iterator"),El=nt.concat("length","prototype"),Il={f:Object.getOwnPropertyNames||function(t){return et(t,El)}},bl=Il.f,Tl={}.toString,Sl="object"==typeof window&&window&&Object.getOwnPropertyNames?Object.getOwnPropertyNames(window):[],xl={f:function(t){return Sl&&"[object Window]"==Tl.call(t)?function(t){try{return bl(t)}catch(t){return Sl.slice()}}(t):bl(u(t))}},wl=qr.forEach,Pl=No("hidden"),Ol="Symbol",Al="prototype",Ll=Hr("toPrimitive"),Cl=jo.set,Dl=jo.getterFor(Ol),Ml=Object[Al],Nl=_.Symbol,Rl=ki("JSON","stringify"),kl=S.f,Vl=V.f,Bl=xl.f,Fl=d.f,zl=Mr("symbols"),Gl=Mr("op-symbols"),Hl=Mr("string-to-symbol-registry"),Ul=Mr("symbol-to-string-registry"),jl=Mr("wks"),Xl=_.QObject,Wl=!Xl||!Xl[Al]||!Xl[Al].findChild,ql=f&&s(function(){return 7!=ss(Vl({},"a",{get:function(){return Vl(this,"a",{value:7}).a}})).a})?function(t,e,n){var i=kl(Ml,e);i&&delete Ml[e],Vl(t,e,n),i&&t!==Ml&&Vl(Ml,e,i)}:Vl,Yl=function(t,e){var n=zl[t]=ss(Nl[Al]);return Cl(n,{type:Ol,tag:t,description:e}),f||(n.description=e),n},Kl=Br?function(t){return"symbol"==typeof t}:function(t){return Object(t)instanceof Nl},$l=function(t,e,n){t===Ml&&$l(Gl,e,n),R(t);var i=h(e,!0);return R(n),m(zl,i)?(n.enumerable?(m(t,Pl)&&t[Pl][i]&&(t[Pl][i]=!1),n=ss(n,{enumerable:E(0,!1)})):(m(t,Pl)||Vl(t,Pl,E(1,{})),t[Pl][i]=!0),ql(t,i,n)):Vl(t,i,n)},Zl=function(e,t){R(e);var n=u(t),i=it(n).concat(eu(n));return wl(i,function(t){f&&!Ql.call(n,t)||$l(e,t,n[t])}),e},Ql=function(t){var e=h(t,!0),n=Fl.call(this,e);return!(this===Ml&&m(zl,e)&&!m(Gl,e))&&(!(n||!m(this,e)||!m(zl,e)||m(this,Pl)&&this[Pl][e])||n)},Jl=function(t,e){var n=u(t),i=h(e,!0);if(n!==Ml||!m(zl,i)||m(Gl,i)){var r=kl(n,i);return!r||!m(zl,i)||m(n,Pl)&&n[Pl][i]||(r.enumerable=!0),r}},tu=function(t){var e=Bl(u(t)),n=[];return wl(e,function(t){m(zl,t)||m(J,t)||n.push(t)}),n},eu=function(t){var e=t===Ml,n=Bl(e?Gl:u(t)),i=[];return wl(n,function(t){!m(zl,t)||e&&!m(Ml,t)||i.push(zl[t])}),i};if(Vr||(ms((Nl=function(){if(this instanceof Nl)throw TypeError("Symbol is not a constructor");var t=arguments.length&&void 0!==arguments[0]?String(arguments[0]):void 0,e=kr(t),n=function(t){this===Ml&&n.call(Gl,t),m(this,Pl)&&m(this[Pl],e)&&(this[Pl][e]=!1),ql(this,e,E(1,t))};return f&&Wl&&ql(Ml,e,{configurable:!0,set:n}),Yl(e,t)})[Al],"toString",function(){return Dl(this).tag}),ms(Nl,"withoutSetter",function(t){return Yl(kr(t),t)}),d.f=Ql,V.f=$l,S.f=Jl,Il.f=xl.f=tu,rt.f=eu,hl.f=function(t){return Yl(Hr(t),t)},f&&Vl(Nl[Al],"description",{configurable:!0,get:function(){return Dl(this).description}})),H({global:!0,wrap:!0,forced:!Vr,sham:!Vr},{Symbol:Nl}),wl(it(jl),function(t){fl(t)}),H({target:Ol,stat:!0,forced:!Vr},{for:function(t){var e=String(t);if(m(Hl,e))return Hl[e];var n=Nl(e);return Hl[e]=n,Ul[n]=e,n},keyFor:function(t){if(!Kl(t))throw TypeError(t+" is not a symbol");if(m(Ul,t))return Ul[t]},useSetter:function(){Wl=!0},useSimple:function(){Wl=!1}}),H({target:"Object",stat:!0,forced:!Vr,sham:!f},{create:function(t,e){return void 0===e?ss(t):Zl(ss(t),e)},defineProperty:$l,defineProperties:Zl,getOwnPropertyDescriptor:Jl}),H({target:"Object",stat:!0,forced:!Vr},{getOwnPropertyNames:tu,getOwnPropertySymbols:eu}),H({target:"Object",stat:!0,forced:s(function(){rt.f(1)})},{getOwnPropertySymbols:function(t){return rt.f(ot(t))}}),Rl){var nu=!Vr||s(function(){var t=Nl();return"[null]"!=Rl([t])||"{}"!=Rl({a:t})||"{}"!=Rl(Object(t))});H({target:"JSON",stat:!0,forced:nu},{stringify:function(t,e,n){for(var i,r=arguments,o=[t],s=1;arguments.length>s;)o.push(r[s++]);if((c(i=e)||void 0!==t)&&!Kl(t))return Lr(e)||(e=function(t,e){if("function"==typeof i&&(e=i.call(this,t,e)),!Kl(e))return e}),o[1]=e,Rl.apply(null,o)}})}Nl[Al][Ll]||B(Nl[Al],Ll,Nl[Al].valueOf),vs(Nl,Ol),J[Pl]=!0,fl("asyncIterator"),fl("hasInstance"),fl("isConcatSpreadable"),fl("match"),fl("matchAll"),fl("replace"),fl("search"),fl("species"),fl("split"),fl("toPrimitive"),fl("toStringTag"),fl("unscopables"),vs(Math,"Math",!0),vs(_.JSON,"JSON",!0);var iu=D.Symbol;fl("asyncDispose"),fl("dispose"),fl("observable"),fl("patternMatch"),fl("replaceAll");var ru=iu,ou=t(function(e){function n(t){return e.exports=n="function"==typeof ru&&"symbol"==typeof yl?function(t){return typeof t}:function(t){return t&&"function"==typeof ru&&t.constructor===ru&&t!==ru.prototype?"symbol":typeof t},n(t)}e.exports=n});function su(t){return Ba([]).call(t)}function au(t){return t&&t.constructor===Array}function lu(t){return t&&!t.nodeType&&"object"===ou(t)&&!au(t)}function uu(n){for(var t,e=arguments,i=[],r=1;r<arguments.length;r++)i[r-1]=e[r];if(!i.length||1===i.length&&!i[0])return n;var o,s=i.shift();lu(n)&&lu(s)&&Gs(o=ht(s)).call(o,function(t){var e=s[t];lu(e)?(!n[t]&&(n[t]={}),n[t]=uu(n[t],e)):n[t]=au(e)?cl(e).call(e):e});return uu.apply(void 0,cl(t=[n]).call(t,i))}function cu(t){return t?Number(t.replace(/px/,"")):0}function hu(t,e){return function t(e,n){return null==e?null:0===n.length?e:t(e[n.shift()],n)}(t,e.match(/[^.]+/g)||[])}var pu=[].slice,fu={},du=Function.bind||function(e){var n=M(this),i=pu.call(arguments,1),r=function(){var t=i.concat(pu.call(arguments));return this instanceof r?function(t,e,n){if(!(e in fu)){for(var i=[],r=0;r<e;r++)i[r]="a["+r+"]";fu[e]=Function("C,a","return new C("+i.join(",")+")")}return fu[e](t,n)}(n,t.length,t):n.apply(e,t)};return c(n.prototype)&&(r.prototype=n.prototype),r};H({target:"Function",proto:!0},{bind:du});var vu=wt("Function").bind,gu=Function.prototype,_u=function(t){var e=t.bind;return t===gu||t instanceof Function&&e===gu.bind?vu:e};function mu(t,e){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&e(t[n],n,t)}function yu(t,e,n,i){var o=t[e];if(o&&"function"==typeof o){var s=n,a=i;t[e]=function(){for(var t,e=arguments,n=[],i=0;i<arguments.length;i++)n[i]=e[i];if(s&&!1===s())return null;var r=_u(o).apply(o,cl(t=[this]).call(t,n))();return a&&a(),r}}}var Eu=function(t){return $a().cssPrefix[t]||t};function Iu(t){return $a().useCss3d?"translate3d(0, "+t+"px, 0)":"translate(0, "+t+"px, 0)"}var bu={display:{show:"block",hide:"none"},"display-inline":{show:"block",hide:"none"},visibility:{show:"visible",hide:"hidden"}};function Tu(t,e,n){var i=n||"display",r=bu[n]?bu[n].show:"block",o=bu[n]?bu[n].hide:"none",s=e?r:o;t&&(au(t)?Gs(t).call(t,function(t){return t.style[i]=s}):t.style[i]=s)}function Su(t){return Tu(t,!0),t}function xu(t){return Tu(t,!1),t}function wu(t,e,n){if(void 0===n&&(n=!1),t){if("string"==typeof e){var i=ji.getComputedStyle(t)[Eu(e)];return n?this.getNumValue(i):i}var r=function(e,n){var t;return Gs(t=ht(n)).call(t,function(t){e[Eu(t)]=n[t]})};au(t)?Gs(t).call(t,function(t){return r(t.style,e)}):r(t.style,e)}return t}function Pu(t,e,n){var i,r="boolean"==typeof n;return t&&(t.classList?i=t.classList[r&&(n?"add":"remove")||"contains"](e):(i=t.className,r?n&&-1===fo(i).call(i,e)?(t.className=(i+" "+e).replace(/\s{2,}/g," "),i=t.className):n||(t.className=i.replace(e,""),i=t.className):i=new RegExp("\\b"+e+"\\b").test(i))),i}function Ou(t,e){var n;return t?0<=fo(n=t.className).call(n,e):null}function Au(t,e,n){t&&t.addEventListener(e,n)}function Lu(t,e,n){t&&t.removeEventListener(e,n)}function Cu(n,i,r){var t=function t(e){r(e),n.removeEventListener(i,t)};return n.addEventListener(i,t),t}var Du=null;function Mu(){return Du||(Du=Xi.documentElement||Xi.body.parentNode||Xi.body),Du}function Nu(){var t=Mu(),e={scrollLeft:t.scrollLeft||Xi.body.scrollLeft||0,scrollTop:t.scrollTop||Xi.body.scrollTop||0};return Xs({},e,{x:e.scrollLeft,y:e.scrollTop})}function Ru(t,e,n){var i=Nu(),r=i.scrollLeft,o=i.scrollTop,s=e.left,a=e.top,l=e.width,u=e.height;return wu(t,Xs({},n||{},{left:s+r+"px",top:a+o+"px",width:l+"px",height:u+"px"})),t}function ku(t,e){if(t.closest)return t.closest(e);var n=t;if(!Xi.documentElement.contains(t))return null;do{if(Element.prototype.matches.call(n,e))return n;n=n.parentElement||n.parentNode}while(null!==n&&1===n.nodeType);return null}function Vu(i,t,e,n){var r,o,s,a;if((e&&("function"==typeof e?o=e:(r=e,n&&(o=n))),r)&&(s=function(t,e,n){return t&&i.style[n]===e},a=!0,mu(r,function(t,e,n){a=void 0===a?t:s(a,t,e,n)}),a))return void(o&&o());Pu(i,t,!0),Cu(i,Eu("transitionEnd"),function(){Pu(i,t,!1),o&&o()}),r&&wu(i,Xs({},r))}function Bu(t,e,n,i){var r=function(t){ku(t.target,n)&&i(t)};return t&&t.addEventListener(e,r),r}function Fu(t){t.style.setProperty("-webkit-user-select","none","important"),t.style.setProperty("user-select","none","important")}function zu(t,e){return{x:t.x-e.x,y:t.y-e.y}}Element.prototype.matches||(Element.prototype.matches=Element.prototype.matchesSelector||Element.prototype.mozMatchesSelector||Element.prototype.msMatchesSelector||Element.prototype.oMatchesSelector||Element.prototype.webkitMatchesSelector||function(t){for(var e=(this.document||this.ownerDocument).querySelectorAll(t),n=e.length;0<=--n&&e.item(n)!==this;);return-1<n});var Gu=Math.min,Hu=[].lastIndexOf,Uu=!!Hu&&1/[1].lastIndexOf(1,-0)<0,ju=dt("lastIndexOf"),Xu=mt("indexOf",{ACCESSORS:!0,1:0}),Wu=Uu||!ju||!Xu?function(t){if(Uu)return Hu.apply(this,arguments)||0;var e=u(this),n=q(e.length),i=n-1;for(1<arguments.length&&(i=Gu(i,X(arguments[1]))),i<0&&(i=n+i);0<=i;i--)if(i in e&&e[i]===t)return i||0;return-1}:Hu;H({target:"Array",proto:!0,forced:Wu!==[].lastIndexOf},{lastIndexOf:Wu});wt("Array").lastIndexOf;var qu=_.Promise,Yu=Hr("species"),Ku=Hr("iterator"),$u=Array.prototype,Zu=function(t){return void 0!==t&&(xo.Array===t||$u[Ku]===t)},Qu=Hr("iterator"),Ju=function(t){if(null!=t)return t[Qu]||t["@@iterator"]||xo[hs(t)]},tc=function(e,t,n,i){try{return i?t(R(n)[0],n[1]):t(n)}catch(t){var r=e.return;throw void 0!==r&&R(r.call(e)),t}},ec=t(function(t){var f=function(t,e){this.stopped=t,this.result=e};(t.exports=function(t,e,n,i,r){var o,s,a,l,u,c,h,p=N(e,n,i?2:1);if(r)o=t;else{if("function"!=typeof(s=Ju(t)))throw TypeError("Target is not iterable");if(Zu(s)){for(a=0,l=q(t.length);a<l;a++)if((u=i?p(R(h=t[a])[0],h[1]):p(t[a]))&&u instanceof f)return u;return new f(!1)}o=s.call(t)}for(c=o.next;!(h=c.call(o)).done;)if("object"==typeof(u=tc(o,p,h.value,i))&&u&&u instanceof f)return u;return new f(!1)}).stop=function(t){return new f(!0,t)}}),nc=Hr("iterator"),ic=!1;try{var rc=0;({next:function(){return{done:!!rc++}},return:function(){ic=!0}})[nc]=function(){return this}}catch(t){}var oc,sc,ac,lc=function(t,e){if(!e&&!ic)return!1;var n=!1;try{var i={};i[nc]=function(){return{next:function(){return{done:n=!0}}}},t(i)}catch(t){}return n},uc=Hr("species"),cc=function(t,e){var n,i=R(t).constructor;return void 0===i||null==(n=R(i)[uc])?e:M(n)},hc=/(iphone|ipod|ipad).*applewebkit/i.test(Vi),pc=_.location,fc=_.setImmediate,dc=_.clearImmediate,vc=_.process,gc=_.MessageChannel,_c=_.Dispatch,mc=0,yc={},Ec="onreadystatechange",Ic=function(t){if(yc.hasOwnProperty(t)){var e=yc[t];delete yc[t],e()}},bc=function(t){return function(){Ic(t)}},Tc=function(t){Ic(t.data)},Sc=function(t){_.postMessage(t+"",pc.protocol+"//"+pc.host)};fc&&dc||(fc=function(t){for(var e=arguments,n=[],i=1;arguments.length>i;)n.push(e[i++]);return yc[++mc]=function(){("function"==typeof t?t:Function(t)).apply(void 0,n)},oc(mc),mc},dc=function(t){delete yc[t]},"process"==o(vc)?oc=function(t){vc.nextTick(bc(t))}:_c&&_c.now?oc=function(t){_c.now(bc(t))}:gc&&!hc?(ac=(sc=new gc).port2,sc.port1.onmessage=Tc,oc=N(ac.postMessage,ac,1)):!_.addEventListener||"function"!=typeof postMessage||_.importScripts||s(Sc)?oc=Ec in y("script")?function(t){Jo.appendChild(y("script"))[Ec]=function(){Jo.removeChild(this),Ic(t)}}:function(t){setTimeout(bc(t),0)}:(oc=Sc,_.addEventListener("message",Tc,!1)));var xc,wc,Pc,Oc,Ac,Lc,Cc,Dc,Mc={set:fc,clear:dc},Nc=S.f,Rc=Mc.set,kc=_.MutationObserver||_.WebKitMutationObserver,Vc=_.process,Bc=_.Promise,Fc="process"==o(Vc),zc=Nc(_,"queueMicrotask"),Gc=zc&&zc.value;Gc||(xc=function(){var t,e;for(Fc&&(t=Vc.domain)&&t.exit();wc;){e=wc.fn,wc=wc.next;try{e()}catch(t){throw wc?Oc():Pc=void 0,t}}Pc=void 0,t&&t.enter()},Oc=Fc?function(){Vc.nextTick(xc)}:kc&&!hc?(Ac=!0,Lc=document.createTextNode(""),new kc(xc).observe(Lc,{characterData:!0}),function(){Lc.data=Ac=!Ac}):Bc&&Bc.resolve?(Cc=Bc.resolve(void 0),Dc=Cc.then,function(){Dc.call(Cc,xc)}):function(){Rc.call(_,xc)});var Hc,Uc,jc,Xc,Wc,qc=Gc||function(t){var e={fn:t,next:void 0};Pc&&(Pc.next=e),wc||(wc=e,Oc()),Pc=e},Yc=function(t){var n,i;this.promise=new t(function(t,e){if(void 0!==n||void 0!==i)throw TypeError("Bad Promise constructor");n=t,i=e}),this.resolve=M(n),this.reject=M(i)},Kc={f:function(t){return new Yc(t)}},$c=function(t,e){if(R(t),c(e)&&e.constructor===t)return e;var n=Kc.f(t);return(0,n.resolve)(e),n.promise},Zc=function(t){try{return{error:!1,value:t()}}catch(t){return{error:!0,value:t}}},Qc=Mc.set,Jc=Hr("species"),th="Promise",eh=jo.get,nh=jo.set,ih=jo.getterFor(th),rh=qu,oh=_.TypeError,sh=_.document,ah=_.process,lh=(ki("fetch"),Kc.f),uh=lh,ch="process"==o(ah),hh=!!(sh&&sh.createEvent&&_.dispatchEvent),ph="unhandledrejection",fh=C(th,function(){if(!(Lo(rh)!==String(rh))){if(66===Zr)return!0;if(!ch&&"function"!=typeof PromiseRejectionEvent)return!0}if(!rh.prototype.finally)return!0;if(51<=Zr&&/native code/.test(rh))return!1;var t=rh.resolve(1),e=function(t){t(function(){},function(){})};return(t.constructor={})[Jc]=e,!(t.then(function(){})instanceof e)}),dh=fh||!lc(function(t){rh.all(t).catch(function(){})}),vh=function(t){var e;return!(!c(t)||"function"!=typeof(e=t.then))&&e},gh=function(h,p,f){if(!p.notified){p.notified=!0;var d=p.reactions;qc(function(){for(var t=p.value,e=1==p.state,n=0;d.length>n;){var i,r,o,s=d[n++],a=e?s.ok:s.fail,l=s.resolve,u=s.reject,c=s.domain;try{a?(e||(2===p.rejection&&Eh(h,p),p.rejection=1),!0===a?i=t:(c&&c.enter(),i=a(t),c&&(c.exit(),o=!0)),i===s.promise?u(oh("Promise-chain cycle")):(r=vh(i))?r.call(i,l,u):l(i)):u(t)}catch(t){c&&!o&&c.exit(),u(t)}}p.reactions=[],p.notified=!1,f&&!p.rejection&&mh(h,p)})}},_h=function(t,e,n){var i,r;hh?((i=sh.createEvent("Event")).promise=e,i.reason=n,i.initEvent(t,!1,!0),_.dispatchEvent(i)):i={promise:e,reason:n},(r=_["on"+t])?r(i):t===ph&&function(t,e){var n=_.console;n&&n.error&&(1===arguments.length?n.error(t):n.error(t,e))}("Unhandled promise rejection",n)},mh=function(n,i){Qc.call(_,function(){var t,e=i.value;if(yh(i)&&(t=Zc(function(){ch?ah.emit("unhandledRejection",e,n):_h(ph,n,e)}),i.rejection=ch||yh(i)?2:1,t.error))throw t.value})},yh=function(t){return 1!==t.rejection&&!t.parent},Eh=function(t,e){Qc.call(_,function(){ch?ah.emit("rejectionHandled",t):_h("rejectionhandled",t,e.value)})},Ih=function(e,n,i,r){return function(t){e(n,i,t,r)}},bh=function(t,e,n,i){e.done||(e.done=!0,i&&(e=i),e.value=n,e.state=2,gh(t,e,!0))},Th=function(n,i,t,e){if(!i.done){i.done=!0,e&&(i=e);try{if(n===t)throw oh("Promise can't be resolved itself");var r=vh(t);r?qc(function(){var e={done:!1};try{r.call(t,Ih(Th,n,e,i),Ih(bh,n,e,i))}catch(t){bh(n,e,t,i)}}):(i.value=t,i.state=1,gh(n,i,!1))}catch(t){bh(n,{done:!1},t,i)}}};fh&&(rh=function(t){!function(t,e,n){if(!(t instanceof e))throw TypeError("Incorrect "+(n?n+" ":"")+"invocation")}(this,rh,th),M(t),Hc.call(this);var e=eh(this);try{t(Ih(Th,this,e),Ih(bh,this,e))}catch(t){bh(this,e,t)}},(Hc=function(t){nh(this,{type:th,done:!1,notified:!1,parent:!1,reactions:[],rejection:!1,state:0,value:void 0})}).prototype=function(t,e,n){for(var i in e)n&&n.unsafe&&t[i]?t[i]=e[i]:ms(t,i,e[i],n);return t}(rh.prototype,{then:function(t,e){var n=ih(this),i=lh(cc(this,rh));return i.ok="function"!=typeof t||t,i.fail="function"==typeof e&&e,i.domain=ch?ah.domain:void 0,n.parent=!0,n.reactions.push(i),0!=n.state&&gh(this,n,!1),i.promise},catch:function(t){return this.then(void 0,t)}}),Uc=function(){var t=new Hc,e=eh(t);this.promise=t,this.resolve=Ih(Th,t,e),this.reject=Ih(bh,t,e)},Kc.f=lh=function(t){return t===rh||t===jc?new Uc(t):uh(t)}),H({global:!0,wrap:!0,forced:fh},{Promise:rh}),vs(rh,th,!1,!0),Xc=ki(th),Wc=V.f,f&&Xc&&!Xc[Yu]&&Wc(Xc,Yu,{configurable:!0,get:function(){return this}}),jc=ki(th),H({target:th,stat:!0,forced:fh},{reject:function(t){var e=lh(this);return e.reject.call(void 0,t),e.promise}}),H({target:th,stat:!0,forced:!0},{resolve:function(t){return $c(this===jc?rh:this,t)}}),H({target:th,stat:!0,forced:dh},{all:function(t){var a=this,e=lh(a),l=e.resolve,u=e.reject,n=Zc(function(){var i=M(a.resolve),r=[],o=0,s=1;ec(t,function(t){var e=o++,n=!1;r.push(void 0),s++,i.call(a,t).then(function(t){n||(n=!0,r[e]=t,--s||l(r))},u)}),--s||l(r)});return n.error&&u(n.value),e.promise},race:function(t){var n=this,i=lh(n),r=i.reject,e=Zc(function(){var e=M(n.resolve);ec(t,function(t){e.call(n,t).then(i.resolve,r)})});return e.error&&r(e.value),i.promise}}),H({target:"Promise",stat:!0},{allSettled:function(t){var a=this,e=Kc.f(a),l=e.resolve,n=e.reject,i=Zc(function(){var i=M(a.resolve),r=[],o=0,s=1;ec(t,function(t){var e=o++,n=!1;r.push(void 0),s++,i.call(a,t).then(function(t){n||(n=!0,r[e]={status:"fulfilled",value:t},--s||l(r))},function(t){n||(n=!0,r[e]={status:"rejected",reason:t},--s||l(r))})}),--s||l(r)});return i.error&&n(i.value),e.promise}});var Sh=!!qu&&s(function(){qu.prototype.finally.call({then:function(){}},function(){})});H({target:"Promise",proto:!0,real:!0,forced:Sh},{finally:function(e){var n=cc(this,ki("Promise")),t="function"==typeof e;return this.then(t?function(t){return $c(n,e()).then(function(){return t})}:e,t?function(t){return $c(n,e()).then(function(){throw t})}:e)}});var xh=D.Promise;function wh(t){return void 0===t}var Ph=function(){var t=function(){function t(){this._eventHandler={},this.options={}}var e=t.prototype;return e.trigger=function(t,e){var n=arguments;void 0===e&&(e={});var i=this._eventHandler[t]||[];if(!(0<i.length))return!0;i=i.concat(),e.eventType=t;var r=!1,o=[e],s=0;e.stop=function(){r=!0},e.currentTarget=this;for(var a=arguments.length,l=new Array(2<a?a-2:0),u=2;u<a;u++)l[u-2]=n[u];for(1<=l.length&&(o=o.concat(l)),s=0;i[s];s++)i[s].apply(this,o);return!r},e.once=function(o,s){if("object"==typeof o&&wh(s)){var t,e=o;for(t in e)this.once(t,e[t]);return this}if("string"==typeof o&&"function"==typeof s){var a=this;this.on(o,function t(){for(var e=arguments,n=arguments.length,i=new Array(n),r=0;r<n;r++)i[r]=e[r];s.apply(a,i),a.off(o,t)})}return this},e.hasOn=function(t){return!!this._eventHandler[t]},e.on=function(t,e){if("object"==typeof t&&wh(e)){var n,i=t;for(n in i)this.on(n,i[n]);return this}if("string"==typeof t&&"function"==typeof e){var r=this._eventHandler[t];wh(r)&&(this._eventHandler[t]=[],r=this._eventHandler[t]),r.push(e)}return this},e.off=function(t,e){if(wh(t))return this._eventHandler={},this;if(wh(e)){if("string"==typeof t)return this._eventHandler[t]=void 0,this;var n,i=t;for(n in i)this.off(n,i[n]);return this}var r,o,s=this._eventHandler[t];if(s)for(r=0;void 0!==(o=s[r]);r++)if(o===e){s=s.splice(r,1);break}return this},t}();return t.VERSION="2.1.2",t}();H({target:"Object",stat:!0,forced:!f,sham:!f},{defineProperty:V.f});var Oh=t(function(t){var i=D.Object,e=t.exports=function(t,e,n){return i.defineProperty(t,e,n)};i.defineProperty.sham&&(e.sham=!0)}),Ah=Jr("splice"),Lh=mt("splice",{ACCESSORS:!0,0:0,1:2}),Ch=Math.max,Dh=Math.min;H({target:"Array",proto:!0,forced:!Ah||!Lh},{splice:function(t,e){var n,i,r,o,s,a,l=arguments,u=ot(this),c=q(u.length),h=$(t,c),p=arguments.length;if(0===p?n=i=0:i=1===p?(n=0,c-h):(n=p-2,Dh(Ch(X(e),0),c-h)),9007199254740991<c+n-i)throw TypeError("Maximum allowed length exceeded");for(r=jr(u,i),o=0;o<i;o++)(s=h+o)in u&&La(r,o,u[s]);if(n<(r.length=i)){for(o=h;o<c-i;o++)a=o+n,(s=o+i)in u?u[a]=u[s]:delete u[a];for(o=c;c-i+n<o;o--)delete u[o-1]}else if(i<n)for(o=c-i;h<o;o--)a=o+n-1,(s=o+i-1)in u?u[a]=u[s]:delete u[a];for(o=0;o<n;o++)u[o+h]=l[o+2];return u.length=c-i+n,r}});var Mh=wt("Array").splice,Nh=Array.prototype,Rh=function(t){var e=t.splice;return t===Nh||t instanceof Array&&e===Nh.splice?Mh:e};function kh(t){return"string"==typeof t?{itemType:kt.IMAGE,thumbUrl:t,orgUrl:t,vIndexThumbUrl:t,hIndexThumbUrl:t,selector:"img[src='"+t+"']",imgType:""}:{selector:t.selector||"img[src*='"+t.thumbUrl+"']:not(.civ__img)",itemType:t.itemType,orgUrl:t.orgUrl||t.thumbUrl,vIndexThumbUrl:t.vIndexThumbUrl||t.thumbUrl,hIndexThumbUrl:t.hIndexThumbUrl||t.thumbUrl,imgType:t.imgType?t.imgType.toLowerCase():""}}function Vh(t,i){return void 0===t&&(t=[]),oo(t).call(t,function(t){return"string"==typeof t?kh(t):t.itemType===kt.VIDEO?Xs({},t,kh(t),{videoData:(e=t.videoData,n=i,{type:e.type||"normal",provider:e.provider,url:e.url||"",vodKey:e.vodKey||"",vodId:e.vodId||"",serviceId:n||"",autoPlay:e.autoPlay||!1})}):Xs({},t,kh(t));var e,n})}function Bh(t,e){return!(!au(t)||-1===fo(t).call(t,e))||e===t}var Fh=function(o){function s(t,e){var n=o.call(this)||this;if(n.events=["add","setat","removeat","indexChanged"],n.data=[],n.index=-1,n.vodServiceId="",e){var i=e.vodServiceId,r=e.loadImageTimeout;n.vodServiceId=i,s.loadImageTimeout=r||2e3}return n.add(t,0),n}return js(s,o),s.prototype.getReadonly=function(){var t,e,n,i,r,o,s=this;return{get:_u(t=this.get).call(t,this),getComputedIndex:_u(e=this.getComputedIndex).call(e,this),getIndexByUrl:_u(n=this.getIndexByUrl).call(n,this),getCurrent:_u(i=this.getCurrent).call(i,this),getLength:function(){return s.length},isFirst:_u(r=this.isFirst).call(r,this),isLast:_u(o=this.isLast).call(o,this)}},s.prototype.setIndex=function(t,e){if(t<0||t>this.data.length-1)return this.index;var n=Number(this.index);return n===t||e?-1:(this.index=t,this.trigger(Dt.INDEX_CHANGE,{oldIndex:n,newIndex:t,dataSet:this.dataSet}),this.index)},s.prototype.getComputedIndex=function(){return this.index<0?0:this.index},s.prototype.getNotCumputedIndex=function(){return this.index},s.prototype.movePrev=function(t){return this.setIndex(this.index-1,t)},s.prototype.moveNext=function(t){return this.setIndex(this.index+1,t)},s.prototype.isFirst=function(){return 0===this.index},s.prototype.isLast=function(){return this.index+1===this.length},s.prototype.add=function(t,e){var n,i,r=Vh(t||[],this.vodServiceId);Rh(i=this.data).apply(i,cl(n=[e,0]).call(n,r)),this.trigger(Dt.DATA_CHANGE,{dataList:r})},s.prototype.get=function(t){return this.data[t]||null},s.prototype.getIndexByUrl=function(t){for(var e=0;e<this.data.length;e++){if(Bh(this.data[e].thumbUrl,t))return e;if(Bh(this.data[e].orgUrl,t))return e;if(Bh(this.data[e].vIndexThumbUrl,t))return e;if(Bh(this.data[e].hIndexThumbUrl,t))return e}return-1},s.prototype.set=function(t,e,n){var i=Vh([e],this.vodServiceId);this.data[t]=i[0],n||this.trigger(Dt.DATA_CHANGE)},s.prototype.remove=function(t){var e;t?Rh(e=this.data).call(e,t,1):(this.data=[],this.index=-1);this.index>=this.data.length&&this.setIndex(this.data.length-1),this.trigger(Dt.DATA_CHANGE)},s.prototype.getData=function(){return this.data},s.prototype.getCurrent=function(){return this.get(this.index)},Oh(s.prototype,"length",{get:function(){return this.data.length},enumerable:!0,configurable:!0}),Oh(s.prototype,"dataSet",{get:function(){var t=this.getComputedIndex();return{prev:this.data[t-1]||null,current:this.data[t],next:this.data[t+1]||null}},enumerable:!0,configurable:!0}),s.prototype.resetIndex=function(){this.index=-1},s.prototype.setDominantColor=function(e,n){var t;Gs(t=this.data).call(t,function(t){t.thumbUrl===e&&(t.dominantColor=n.join("|"))})},s}(Ph),zh=function(t){var e="string"==typeof t,l=e?new Image:t,u=e?t:l.getAttribute("data-src");return new xh(function(t,e){var n,i=Fh.loadImageTimeout,r=function(){clearTimeout(n),l.removeAttribute("data-src"),a(),t(u)},o=function(){clearTimeout(n),a(),e(u)},s=function(t){t.addEventListener("load",r),t.addEventListener("error",o)},a=function(){l.removeEventListener("load",r),l.removeEventListener("error",o)};null!==u&&(s(l),l.src=u,n=Ui(function(){var t=new Image;s(t),t.src=u,l.src=t.src},i))})},Gh=function(){var t,e=$a(),n=e.isAndroid,i=e.version;if(n&&i<5)return!1;var r=document.createElement("canvas");return r.width=r.height=1,!!r.toDataURL&&5===fo(t=r.toDataURL("image/webp")).call(t,"image/webp")}();function Hh(t,e){var n;if(void 0===e&&(e=Gh),au(t)){var i=Ba(t).call(t);n=2===i.length?Gh?i.shift():i.pop():i.shift()}else n=t;return n}var Uh,jh,Xh,Wh=function(t){function i(){return null!==t&&t.apply(this,arguments)||this}return js(i,t),i.start=function(t,e,n){return zh(i.loadingSrc=t).then(function(t){i.loadingSrc=null,e(t)}).catch(function(){i.loadingSrc=null,n&&n()})},i.getCurrentImageSrc=function(){return i.loadingSrc},i.loadingSrc=null,i}(Ph);(Xh=jh||(jh={})).NAVI_BTN="navi_btn",Xh.NORMAL_MODE="normal_mode",Xh.FULL_MODE="full_mode";var qh,Yh,Kh,$h,Zh=uu(jh,Mt);(Yh=qh||(qh={})).LEFT="left",Yh.RIGHT="right",Yh.OUTTER="out",($h=Kh||(Kh={})).SHOW="VIEWER_SHOW",$h.HIDE="VIEWER_HIDE",$h.NAVI_PREV="VIEWER_NAVI_PREV",$h.NAVI_NEXT="VIEWER_NAVI_NEXT",$h.MODE_VIEWER="MODE_VIEWER",$h.MODE_PICTURE="MODE_PICTURE",$h.MODE_INDEX="MODE_INDEX",$h.TOGGLE_FULL_VIEW="TOGGLE_FULL_VIEW",$h.SCALE_INCREASE="SCALE_INCREASE",$h.SCALE_DECREASE="SCALE_DECREASE",$h.SCALE_INIT="SCALE_INIT",$h.TOGGLE_SIDE_INDEX="TOGGLE_SIDE_INDEX",$h.DOWN_LOAD_IMAGE="DOWN_LOAD_IMAGE",$h.FULL_MODE_MOUSE_MOVE="FULL_MODE_MOUSE_MOVE";var Qh,Jh,tp={IMAGE_INDEX_AREA:Nt+"_index",INDEX_INDICATOR:Nt+"__index_count",CLOSE_BUTTON:Nt+"__custom--top__btn--close",NAVI_PREV_BTN:Nt+"__navi_btn--prev",NAVI_NEXT_BTN:Nt+"__navi_btn--next",PANEL_WRAPER:Nt+"_wrap",FULL_SCREEN_MODE:Nt+"__full_screen",FULL_SCREEN_CLOSE:Nt+"__header__btn--close",SCALE_CONTROL:Nt+"__scale_controller",SCALE_PERCENT_CONTROL:Nt+"__scale_percent_controller",SCALE_INCREASE_BTN:Nt+"__controller_btn--plus",SCALE_DECREASE_BTN:Nt+"__controller_btn--minus",SCALE_PERCENT_DISPLAY:Nt+"__controller_percent",SCALE_MAX:Nt+"__is_maximum",VIEWER_CLOSE_BTN:Nt+"__viewer_close",FULL_MODE_INDICATE:Nt+"__is_on",VIEW_MODE_FULL_BUTTON:Nt+"__header__btn--full",IMAGE_INDEX_TOGGLE_BTM:Nt+"__index_toggle_btn",TOGGLE_INDEX_CLASS:Nt+"__open_side",EXCEPTION_LAYER:Nt+"__placeholder--error",RELOAD_BTN:Nt+"__error_btn"},ep=At(Uh=ht(tp)).call(Uh,function(t,e){return t[e]="."+tp[e],t},{}),np=uu({},Rt,tp),ip=uu({},Ht,ep),rp=ie,op=function(e){function t(){var t=e.call(this)||this;return t.visibility=!0,t.eventNameMap=null,t.publishEventMap=null,t.freezeLayout=!1,t.notInstalled=!1,t.isActiveLayout=!0,t.isEventBind=!1,t._dummyData=null,yu(t,"activate",function(){return!(t.freezeLayout=!1)}),yu(t,"deactivate",function(){return t.freezeLayout=!0}),t}return js(t,e),t.prototype.activate=function(){this.bindEvent()},t.prototype.deactivate=function(){this.unBindEvent()},t.prototype.bindEvent=function(){this.isEventBind=!0},t.prototype.unBindEvent=function(){this.isEventBind=!1},t.prototype.destroy=function(){this.unBindEvent()},t.prototype._isActivePlugin=function(t,e){var n=!(!t||e&&!1===e.activate);return this.freezeLayout=!n,this.visibility=n,this.isActiveLayout=n},t.applyStyle=function(t,e,n,i){void 0===n&&(n=!1),n?Vu(i,e,t):wu(i,t)},t.prototype.isVisiblity=function(){return this.visibility},t.prototype.getEventMap=function(){return this.eventNameMap},t.prototype.getLayoutId=function(){if(!this.layoutId)throw new Error("LayerId not defined. LayerId is Requerd!!!");return this.layoutId},t.prototype.refresh=function(t){this._dummyData=t},t}(Ph),sp=function(t){function i(){return null!==t&&t.apply(this,arguments)||this}return js(i,t),i.prototype.initialize=function(t){var e=t.querySelector(Ht.HEADER);return this.layoutId=Mt.HEADER,this.el=e,this.visibility=!0,e},i.prototype.defineCustomEvent=function(){this.eventNameMap=null,this.publishEventMap=null},i.prototype.updateBgColor=function(t,e){void 0===e&&(e=!1);var n=t.join(",");i.applyStyle({backgroundImage:"linear-gradient(to bottom, rgba("+n+", 0.5), rgba("+n+", 0))"},Rt.BACKGROUND_TWEEN,e,this.el)},i}(op),ap=function(t){function i(){return null!==t&&t.apply(this,arguments)||this}return js(i,t),i.prototype.initialize=function(t){this.layoutId=Mt.BACKGROUND,this.el=t,this.visibility=!0},i.prototype.defineCustomEvent=function(){this.eventNameMap=null,this.publishEventMap=null},i.prototype.updateBgColor=function(t,e){void 0===e&&(e=!1);var n={backgroundColor:"rgba("+t.join(",")+", 1)"};i.applyStyle(n,Rt.BACKGROUND_TWEEN,e,this.el)},i}(op),lp=Array.isArray||function(t){return"Array"==Me(t)},up=vi("species"),cp=function(t,e){var n;return lp(t)&&("function"!=typeof(n=t.constructor)||n!==Array&&!lp(n.prototype)?Be(n)&&null===(n=n[up])&&(n=void 0):n=void 0),new(void 0===n?Array:n)(0===e?0:e)},hp=[].push,pp=function(f){var d=1==f,v=2==f,g=3==f,_=4==f,m=6==f,y=5==f||m;return function(t,e,n,i){for(var r,o,s=br(t),a=Re(s),l=function(i,r,t){if(xi(i),void 0===r)return i;switch(t){case 0:return function(){return i.call(r)};case 1:return function(t){return i.call(r,t)};case 2:return function(t,e){return i.call(r,t,e)};case 3:return function(t,e,n){return i.call(r,t,e,n)}}return function(){return i.apply(r,arguments)}}(e,n,3),u=Cn(a.length),c=0,h=i||cp,p=d?h(t,u):v?h(t,0):void 0;c<u;c++)if((y||c in a)&&(o=l(r=a[c],c,s),f))if(d)p[c]=o;else if(o)switch(f){case 3:return!0;case 5:return r;case 6:return c;case 2:hp.call(p,r)}else if(_)return!1;return m?-1:g||_?_:p}},fp={forEach:pp(0),map:pp(1),filter:pp(2),some:pp(3),every:pp(4),find:pp(5),findIndex:pp(6)},dp=wn("navigator","userAgent")||"",vp=xe.process,gp=vp&&vp.versions,_p=gp&&gp.v8;_p?Jh=(Qh=_p.split("."))[0]+Qh[1]:dp&&(!(Qh=dp.match(/Edge\/(\d+)/))||74<=Qh[1])&&(Qh=dp.match(/Chrome\/(\d+)/))&&(Jh=Qh[1]);var mp=Jh&&+Jh,yp=vi("species"),Ep=function(e){return 51<=mp||!we(function(){var t=[];return(t.constructor={})[yp]=function(){return{foo:1}},1!==t[e](Boolean).foo})},Ip=Object.defineProperty,bp={},Tp=function(t){throw t},Sp=function(t,e){if(Ge(bp,t))return bp[t];e||(e={});var n=[][t],i=!!Ge(e,"ACCESSORS")&&e.ACCESSORS,r=Ge(e,0)?e[0]:Tp,o=Ge(e,1)?e[1]:void 0;return bp[t]=!!n&&!we(function(){if(i&&!Pe)return!0;var t={length:-1};i?Ip(t,1,{enumerable:!0,get:Tp}):t[1]=1,n.call(t,r,o)})},xp=fp.filter,wp=Ep("filter"),Pp=Sp("filter");Zn({target:"Array",proto:!0,forced:!wp||!Pp},{filter:function(t){return xp(this,t,1<arguments.length?arguments[1]:void 0)}});var Op=fp.map,Ap=Ep("map"),Lp=Sp("map");function Cp(t){t&&(t.preventDefault&&t.preventDefault(),t.stopPropagation&&t.stopPropagation())}function Dp(t,e,n){void 0!==t.removeEventListener?t.removeEventListener(e,n):t.off(e,n)}Zn({target:"Array",proto:!0,forced:!Ap||!Lp},{map:function(t){return Op(this,t,1<arguments.length?arguments[1]:void 0)}});var Mp,Np,Rp=function(){function n(t){var o=this;this.operators=[],this.onStreamComplete=function(t){o.onNext=null,o.operators=[],o.onComplete&&o.onComplete(t),Dp(o.target,o.subscribedType,o.onEventHandler),Dp(o.target,o.takeUntilType,o.onStreamComplete)},this.onEventHandler=function(t){if(o.onNext){for(var e=t,n=0,i=o.operators;n<i.length;n++){var r=i[n];switch(r.type){case"map":e=r.functor(e);break;case"filter":if(!r.functor(e))return}}o.onNext(e)}},this.target=t}return n.fromEvent=function(t,e){return new n(t).fromEvent(e)},n.prototype.subscribe=function(t,e){return this.onNext=t,this.onComplete=e,this.validationEvent(this.subscribedType,this.onEventHandler,!0),this.validationEvent(this.takeUntilType,this.onStreamComplete),this},n.prototype.unsubscribe=function(){this.onComplete=null,this.onStreamComplete(null)},n.prototype.fromEvent=function(t){return this.subscribedType=t,this},n.prototype.takeUntil=function(t){return this.takeUntilType=t,this},n.prototype.map=function(t){return this.appendOperator("map",t)},n.prototype.filter=function(t){return this.appendOperator("filter",t)},n.prototype.validationEvent=function(t,e,n){if(void 0===n&&(n=!1),!t&&n)throw new Error("구독할 이벤트 타입이 정의되지 않았습니다.");var i,r,o;i=this.target,r=t,o=e,void 0!==i.addEventListener?i.addEventListener(r,o):i.on(r,o)},n.prototype.appendOperator=function(t,e){return this.operators.push({type:t,functor:e}),this},n}();function kp(i,r){var o;return function(){for(var t=arguments,e=[],n=0;n<arguments.length;n++)e[n]=t[n];clearTimeout(o),o=window.setTimeout(function(){i.apply(this,e)},r)}}function Vp(i,r){var o=!1;return function(){for(var t=arguments,e=[],n=0;n<arguments.length;n++)e[n]=t[n];o||(i.apply(this,e),o=!0,Ui(function(){return o=!1},r))}}(Np=Mp||(Mp={}))[Np.ESC=27]="ESC",Np[Np.LEFT=37]="LEFT",Np[Np.RIGHT=39]="RIGHT",Np[Np.UP=38]="UP",Np[Np.DOWN=40]="DOWN",Np[Np.PLUS=107]="PLUS",Np[Np.PLUS_E=187]="PLUS_E",Np[Np.MIUNS=109]="MIUNS",Np[Np.MINUS_E=189]="MINUS_E",Np[Np.SPACE=32]="SPACE",Np[Np.ENTER=13]="ENTER";var Bp=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.appendTarget=!1,e.onClickReload=function(t){Cp(t),e.trigger(ne.REFRESH)},e}return js(e,t),e.prototype.initialize=function(){return this.layoutId=Mt.EXCEPTION,this.element=document.createElement("div"),this.visibility=!1,this.element},e.prototype.defineCustomEvent=function(){this.eventNameMap=ne},e.prototype.refresh=function(){var t=this.visibility;this.initialize(),this.visibility=t},e.prototype.hide=function(t){void 0===t&&(t=!1),this.visibility&&(xu(this.element),this.appendTarget&&(Lu(this.element.querySelector(Ht.RELOAD_BTN),"click",this.onClickReload),this.element&&(this.appendTarget.removeChild(this.element),this.element.innerHTML=""),this.trigger(ne.HIDE,{closeViewer:t})),this.appendTarget=!1,this.visibility=!1)},e.prototype.deactivate=function(){this.hide(!0)},e}(op),Fp=function(t){function r(){return null!==t&&t.apply(this,arguments)||this}return js(r,t),r.prototype.initialize=function(t){var e=t.querySelector(Ht.FOOTER);this.layoutId=Mt.FOOTTER,e||(this.freezeLayout=!0),this.el=e,this.visibility=!0},r.prototype.defineCustomEvent=function(){this.eventNameMap=null,this.publishEventMap=null},r.prototype.isHided=function(){return!!this.freezeLayout||Ou(this.el,Rt.HIDE)},r.prototype.updateBgColor=function(t,e){if(void 0===e&&(e=!1),!this.freezeLayout){var n="rgba("+t.join(",")+", 0.5)",i={backgroundColor:n};this.isHided()?this.el.setAttribute("data-bg",n):r.applyStyle(i,Rt.BACKGROUND_TWEEN,e,this.el)}},r}(op),zp=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.timer=null,t}return js(t,e),t.prototype.initialize=function(t){var e=Rt.TOAST,n=Rt.HIDE,i=Xi.createElement("div");this.layoutId=Mt.TOAST,i.className=e+" "+n,t.appendChild(i),this.elBase=t,this.el=i},t.prototype.defineCustomEvent=function(){this.eventNameMap=null,this.publishEventMap=null},t.prototype.render=function(t){t?this.el.innerHTML=t||"":this.hide()},t.prototype.show=function(t){var e;this.visibility=!0,t&&this.render(t),this.timer=window.setTimeout(_u(e=this.hide).call(e,this),Wt),Pu(this.el,Rt.HIDE,!1)},t.prototype.hide=function(){Pu(this.el,Rt.HIDE,!0),this.visibility=!1,null!==this.timer&&(window.clearTimeout(this.timer),this.timer=null)},t.prototype.toggle=function(){Pu(this.el,Rt.HIDE)?this.show():this.hide()},t}(op),Gp=qr.filter,Hp=Jr("filter"),Up=mt("filter");H({target:"Array",proto:!0,forced:!Hp||!Up},{filter:function(t){return Gp(this,t,1<arguments.length?arguments[1]:void 0)}});var jp,Xp=wt("Array").filter,Wp=Array.prototype,qp=function(t){var e=t.filter;return t===Wp||t instanceof Array&&e===Wp.filter?Xp:e},Yp=t(function(t,e){var n;n=function(n){return function(n){var i={};function r(t){if(i[t])return i[t].exports;var e=i[t]={i:t,l:!1,exports:{}};return n[t].call(e.exports,e,e.exports,r),e.l=!0,e.exports}return r.m=n,r.c=i,r.d=function(t,e,n){r.o(t,e)||Object.defineProperty(t,e,{configurable:!1,enumerable:!0,get:n})},r.n=function(t){var e=t&&t.__esModule?function(){return t.default}:function(){return t};return r.d(e,"a",e),e},r.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},r.p="",r(r.s=0)}([function(t,e,n){var i,r=n(1),o=(i=r)&&i.__esModule?i:{default:i};t.exports=o.default},function(t,e,n){e.__esModule=!0;var i,o=Object.assign||function(t){for(var e=arguments,n=1;n<arguments.length;n++){var i=e[n];for(var r in i)Object.prototype.hasOwnProperty.call(i,r)&&(t[r]=i[r])}return t},r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},s=n(2),a=(i=s)&&i.__esModule?i:{default:i},l=n(3);"function"!=typeof Object.create&&(Object.create=function(t,e){if("object"!==(void 0===t?"undefined":r(t))&&"function"!=typeof t)throw new TypeError("Object prototype may only be an Object: "+t);if(null===t)throw new Error("This browser's implementation of Object.create is a shim and doesn't support 'null' as the first argument.");function n(){}return n.prototype=t,new n});var u=!!window.IntersectionObserver,c=function(){var t=document.createElement("div");if(!t.getElementsByClassName)return!1;var e=t.getElementsByClassName("dummy");return t.innerHTML="<span class='dummy'></span>",1===e.length}(),h=function(i){function r(t,e){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,r);var n=function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}(this,i.call(this));return n.options={targetClass:"check_visible",expandSize:0},o(n.options,e),n._wrapper=(0,l.$)(t)||document,n._wrapper.nodeType&&1===n._wrapper.nodeType?n._getAreaRect=n._getWrapperRect:n._getAreaRect=l.getWindowRect,n._targets=[],n._timer=null,n.refresh(),n}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}(r,i),r.prototype.refresh=function(){return this.refresh=c?(this._targets=this._wrapper.getElementsByClassName(this.options.targetClass),function(){return this._refreshObserver(),this}):function(){var t=this._wrapper.querySelectorAll("."+this.options.targetClass);this._targets=[];for(var e=0;e<t.length;e++)this._targets.push(t[e]);return this._refreshObserver(),this},this.refresh()},r.prototype.check=function(){var t=this,e=arguments.length<=0?void 0:arguments[0],n=arguments.length<=1?void 0:arguments[1];return"number"!=typeof e&&(n=e,e=-1),void 0===e&&(e=-1),void 0===n&&(n=!1),clearTimeout(this._timer),e<0?(this._check(n),this._checkAfter()):this._timer=setTimeout(function(){t._check(n),t._checkAfter(),t._timer=null},e),this},r.prototype._getWrapperRect=function(){return this._wrapper.getBoundingClientRect()},r.prototype._reviseElements=function(){var n=this;return this._reviseElements=c?function(){return!0}:function(t,e){return!!(0,l.hasClass)(t,n.options.targetClass)||(t.__VISIBLE__=null,n._targets.splice(e,1),!1)},this._reviseElements.apply(this,arguments)},r.prototype._check=function(t){var e=parseInt(this.options.expandSize,10),n=void 0,i=void 0,r=void 0,o=void 0,s=this._getAreaRect(),a=s.top-e,l=s.left-e,u=s.bottom+e,c=s.right+e;for(n=this._targets.length-1;i=this._targets[n];n--)0===(r=i.getBoundingClientRect()).width&&0===r.height||this._reviseElements(i,n)&&(o=t?!(r.top<a||r.bottom>u||r.right>c||r.left<l):!(r.bottom<a||u<r.top||r.right<l||c<r.left),i.__AFTER__=o)},r.prototype.checkObserve=function(){var t=this,e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:-1;return this._timer&&(clearTimeout(this._timer),this._timer=0),e<0?this._checkAfter():this._timer=setTimeout(function(){t._checkAfter(),t._timer=null},e),this},r.prototype._checkAfter=function(){for(var t=this._targets,e=t.length,n=[],i=[],r=0;r<e;++r){var o=t[r],s=o.__VISIBLE__,a=o.__AFTER__;s!==a&&(a?n.push(o):i.push(o),o.__VISIBLE__=a)}0===n.length&&0===i.length||this.trigger("change",{visible:n,invisible:i,isTrusted:!0})},r.prototype.observe=function(){var e=this,t=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{};if(!u)return this._addObserveEvent(t),this;var n=void 0===t.delay?-1:t.delay,i=!!t.containment;this._observeCallback=function(t){t.forEach(function(t){t.target.__AFTER__=i?1<=t.intersectionRatio:t.isIntersecting}),e._checkAfter(n)},this._observer&&this.unobserve(),this._observer=new IntersectionObserver(this._observeCallback,{root:1===this._wrapper.nodeType?this._wrapper:null,rootMargin:this.options.expandSize+"px",threshold:i?[0,1]:[0]});for(var r=this._observer,o=this._targets,s=o.length,a=0;a<s;++a)r.observe(o[a]);return this},r.prototype.unobserve=function(){return this._observeCallback&&(u?this._observer&&this._observer.disconnect():((0,l.removeEvent)(this._wrapper,"scroll",this._observeCallback),(0,l.removeEvent)(this._wrapper,"resize",this._observeCallback)),this._observer=null,this._observeCallback=null),this},r.prototype._refreshObserver=function(){if(this._observer){this._observer.disconnect();for(var t=this._targets,e=t.length,n=0;n<e;++n)this._observer.observe(t[n])}},r.prototype._addObserveEvent=function(){var e=this,t=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{};if(!this._observeCallback){var n=void 0===t.delay?-1:t.delay,i=!!t.containment;this._observeCallback=function(t){e._check(i),e.checkObserve(n)},(0,l.addEvent)(this._wrapper,"scroll",this._observeCallback),(0,l.addEvent)(this._wrapper,"resize",this._observeCallback),this._observeCallback()}},r.prototype.destroy=function(){this.off(),this.unobserve(),this._targets=[],this._wrapper=null,this._timer=null},r}(a.default);h.VERSION="2.1.0",e.default=h,t.exports=e.default},function(t,e){t.exports=n},function(t,e,n){e.__esModule=!0;var o="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t};e.toArray=l,e.$=function e(t){var n=1<arguments.length&&void 0!==arguments[1]&&arguments[1];var i=void 0;if(void 0===t)return;if("string"==typeof t){var r=t.match(/^<([a-z]+)\s*([^>]*)>/);if(r){var o=document.createElement("div");o.innerHTML=t,i=l(o.childNodes)}else i=l(document.querySelectorAll(t));n||(i=1<=i.length?i[0]:void 0)}else t===window?i=t:!t.nodeName||1!==t.nodeType&&9!==t.nodeType?"jQuery"in window&&t instanceof jQuery||t.constructor.prototype.jquery?i=n?t.toArray():t.get(0):Array.isArray(t)&&(i=t.map(function(t){return e(t)}),n||(i=1<=i.length?i[0]:void 0)):i=t;return i},e.getWindowRect=function(){return{top:0,left:0,bottom:document.documentElement.clientHeight||document.body.clientHeight,right:document.documentElement.clientWidth||document.body.clientWidth}},e.hasClass=function(t,e){return t.classList?t.classList.contains(e):new RegExp("(^| )"+e+"( |$)","gi").test(t.className)},e.addEvent=function(t,e,n,i){if(s){var r=i||!1;"object"===(void 0===i?"undefined":o(i))&&(r=!!a&&i),t.addEventListener(e,n,r)}else t.attachEvent?t.attachEvent("on"+e,n):t["on"+e]=n},e.removeEvent=function(t,e,n){t.removeEventListener?t.removeEventListener(e,n,!1):t.detachEvent?t.detachEvent("on"+e,n):t["on"+e]=null};var s=!!("addEventListener"in document),a=function(){var t=!1;try{s&&Object.defineProperty&&document.addEventListener("test",null,Object.defineProperty({},"passive",{get:function(){t=!0}}))}catch(t){}return t}();function l(t){var e=[];if(t)for(var n=0,i=t.length;n<i;n++)e.push(t[n]);return e}}])},t.exports=n(Ph)}),Kp=(jp=Yp)&&jp.__esModule&&Object.prototype.hasOwnProperty.call(jp,"default")?jp.default:jp,$p=function(r){return function(t,e,n){var i=n.value;if("function"!=typeof i)throw new TypeError("@boundFreeze decorator can only be applied to methods not: "+ou(i));return n.value=function(){for(var t=arguments,e=[],n=0;n<arguments.length;n++)e[n]=t[n];if(!this.freezeLayout||this.freezeLayout!==r)return i.apply(this,e)},n}};function Zp(t,e,n){var i=n.value;if("function"!=typeof i)throw new TypeError("@excuteByActive decorator can only be applied to methods not: "+ou(i));return n.value=function(){for(var t=arguments,e=[],n=0;n<arguments.length;n++)e[n]=t[n];if("boolean"!=typeof this.isActiveLayout||!1!==this.isActiveLayout)return i.apply(this,e)},n}function Qp(t,e,n){var i=n.value;if("function"!=typeof i)throw new TypeError("@oneBindEvent decorator can only be applied to methods not: "+ou(i));return n.value=function(){for(var t=arguments,e=[],n=0;n<arguments.length;n++)e[n]=t[n];if(!this.isEventBind)return this.isEventBind=!0,i.apply(this,e)},n}function Jp(t,e,n){var i=n.value;if("function"!=typeof i)throw new TypeError("@oneBindEvent decorator can only be applied to methods not: "+ou(i));return n.value=function(){for(var t=arguments,e=[],n=0;n<arguments.length;n++)e[n]=t[n];return this.isEventBind=!1,i.apply(this,e)},n}var tf=function(t){function r(){var i=null!==t&&t.apply(this,arguments)||this;return i._currentIndex=-1,i._activated=!0,i._itemDataList=null,i._itemWidth=0,i._scrollAreaWidth=0,i._isChange=!1,i._visibleAreaClsss=null,i._useHoverShow=!1,i._scrollPagingMode=!1,i._scrollUnit=0,i._scrollPage=0,i._scrollTotalPage=0,i._itemGap=0,i._scrollAreaGap=0,i._isLoadStyleValue=!1,i.hoverShow=function(){var t=i.element;Pu(t,Rt.IS_HOVER,!0),Pu(t,Rt.HIDE,!1)},i.hoverHide=function(){var t=i.element;Pu(t,Rt.IS_HOVER,!1),Pu(t,Rt.HIDE,!0)},i.onClickPrevBtn=function(t){Cp(t),1!==i._scrollPage&&(--i._scrollPage,i.moveScrollPage(),i.trigger(ie.PREV_CLICK))},i.onClickNextBtn=function(t){Cp(t),i._scrollPage!==i._scrollTotalPage&&(++i._scrollPage,i.moveScrollPage(),i.trigger(ie.NEXT_CLICK))},i.onMouseenter=function(){i.show()},i.onMouseleave=function(){i.hide()},i.onIndexScroll=function(){i._visibleChecker.check()},i.onClickImage=function(t){Cp(t);var e=ku(t.target,"li"),n=el(e.getAttribute("data-index"),10);i.trigger(ie.CLICK,{listIndex:n}),i._currentIndex=n,i.reloadFailedImage(),i.focusImage(n)},i.onVisibleChange=function(t){var e,n;Gs(e=qp(n=t.visible).call(n,function(t){return Ou(t,Rt.H_IMAGE_INDEX_DEFAULT)})).call(e,i.imageLoadHandler)},i.imageLoadHandler=function(t){var e=t.querySelector("img");e.getAttribute("data-src")?(Pu(t,Rt.H_IMAGE_INDEX_FAIL,!1),Pu(t,Rt.H_IMAGE_INDEX_LOADING,!0),zh(e).then(function(){r.imgAfterLoadHandler(t,!1)}).catch(function(){r.imgAfterLoadHandler(t,!0)})):r.imgAfterLoadHandler(t,!1)},i}return js(r,t),r.prototype.initialize=function(t,e){this.layoutId=Mt.H_IMAGE_INDEX;var n=(this.elBase=t).querySelector(Ht.H_IMAGE_INDEX);if(!1!==this._isActivePlugin(n,e)){var i=uu({},{visibleAreaClsss:null,useHoverShow:!1,scrollPagingMode:!1,scrollUnit:0},e);this.el=n,this.visibility=!Ou(n,Rt.HIDE),this.element=t.querySelector(Ht.H_IMAGE_INDEX),this.scrollArea=t.querySelector(Ht.H_IMAGE_INDEX_SCROLL),this.prevButton=t.querySelector(Ht.H_IMAGE_INDEX_PREV_BTN),this.nextButton=t.querySelector(Ht.H_IMAGE_INDEX_NEXT_BTN),this._visibleChecker=new Kp(this.scrollArea,{targetClass:Rt.INDEX_THUMB_IMAGE}),this._visibleAreaClsss=i.visibleAreaClsss,this._useHoverShow=i.useHoverShow,this._scrollPagingMode=i.scrollPagingMode,this._scrollUnit=i.scrollUnit,this.updateVisibleWidth(),this.bindEvents(),this.visibility&&this.show()}else xu(n)},r.prototype.defineCustomEvent=function(){this.eventNameMap=ie},r.prototype.activate=function(){this._activated||(Su(this.element),this.refresh(),this._activated=!0,this._isChange=!1)},r.prototype.deactivate=function(){this._activated&&(xu(this.element),Pu(this.element,Rt.HIDE,!0),this.visibility&&(this.visibility=!1,this.trigger(ie.HIDE)),this.refreshBottomPadding(),this._currentIndex=-1,this.visibility=!1,this._activated=!1)},r.prototype.show=function(){var t=this._isChange,e=this.element,n=this._useHoverShow;if(!this.visibility&&!t){if(this.visibility=!0,Su(e),this.trigger(ie.SHOW),!0===n)return this.hoverShow(),void this.setElementSize();this.transitionShow()}},r.prototype.transitionShow=function(){var t=this;Vu(this.element,Rt.HIDE,function(){t.setElementSize(),t._visibleChecker.check(),t.scrollTo(t.currentIndex),t.updateBgColor(t.bgColor,!0),t._isChange=!1,t.refreshBottomPadding()}),Pu(this.element,Rt.HIDE,!1),this._isChange=!0},r.prototype.hide=function(){this.visibility&&!this._isChange&&(this.visibility=!1,this.trigger(ie.HIDE),this._useHoverShow?this.hoverHide():this.transitionHide())},r.prototype.unvisible=function(){this.visibility=!1,xu(this.el)},r.prototype.visible=function(){this.visibility=!0,Su(this.el)},r.prototype.transitionHide=function(){var e=this;Cu(this.element,Eu("transitionEnd"),function(){var t;0<=fo(t=e.element.className).call(t,Rt.HIDE)&&xu(e.element),e._isChange=!1,e.trigger(ie.HIDED)}),Pu(this.element,Rt.HIDE,!0),this._isChange=!0},r.prototype.toggle=function(t){var e,n;e=this.visibility,(void 0!==(n=t)?n:!e)?this.show():this.hide()},r.prototype.refresh=function(){if(this.visibility&&this.elBase){var t=this.elBase.querySelector(Ht.H_IMAGE_INDEX_SCROLL_WRAPPER);t&&t.removeAttribute("style"),this._isLoadStyleValue=!1,this.setElementSize(),this._visibleChecker.check(),this.scrollTo(this.currentIndex),this.refreshBottomPadding(),this.trigger(ie.REFRESH)}},r.prototype.refreshBottomPadding=function(){var t,e,n,i=$a(),r=i.isNaverApp,o=i.isTouchHomeButtonIOS;this.visibility&&za()&&o&&(r||(t=["750x1498","1125x2244","1242x2496"],e=window.devicePixelRatio||1,n=innerWidth*e+"x"+innerHeight*e,-1<fo(t).call(t,n)))?wu(this.element,{bottom:ee+"px"}):!1===this._useHoverShow&&wu(this.element,{bottom:0})},r.prototype.getElement=function(){return this.element},Oh(r.prototype,"currentIndex",{get:function(){return this._currentIndex},set:function(t){t<0||!1===this.isActiveLayout||(this._currentIndex=t,this.calcPaging(),this.scrollTo(t))},enumerable:!0,configurable:!0}),Oh(r.prototype,"itemDataList",{get:function(){return this._itemDataList},set:function(t){var e;!1!==this.isActiveLayout&&(this._itemDataList=t||null,this.scrollArea.removeAttribute("style"),this._itemDataList&&this._itemDataList.length?(this.scrollArea.innerHTML=(e=this._itemDataList,oo(e).call(e,function(t,e){var n=t.imgType,i=Hh(t.hIndexThumbUrl);return'\n      <li class="'+Nt+"__thumb "+Nt+"__thumb--default __imv_thumb--default "+(n?Nt+"__thumb--"+n:"")+' thumb-item" data-index="'+e+'">\n        <a href="#" class="'+Nt+'__thumb-link" dragable="false" style="pointer-events:none !important">\n            <img data-src="'+i+'" class="'+Nt+'__thumb-img thumb __imv_thumb_image" src="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" alt="" width="100%" height="100%">\n        </a>\n        <div class="'+Nt+'__placeholder--loading __imv_placeholder--loading">\n            <span class="'+Nt+'__dot __imv_dot"></span>\n            <span class="'+Nt+"__dot "+Nt+'__dot1 __imv_dot __imv_dot1"></span>\n            <span class="'+Nt+"__dot "+Nt+'__dot2 __imv_dot __imv_dot2"></span>\n        </div>\n      </li>'}).join("")),this.currentIndex=this._currentIndex,this.calcPaging()):(this.scrollArea.innerHTML="",this.currentIndex=0),this._visibleChecker.refresh(),this._visibleChecker.check(),this._isLoadStyleValue=!1,this.setElementSize())},enumerable:!0,configurable:!0}),r.prototype.appendListData=function(t){var e;if(t||0!==t.length){var n=cl(e=this._itemDataList).call(e,t);this.itemDataList=n}},r.prototype.calcPaging=function(){if(!1!==this._scrollPagingMode){var t=this._itemDataList?this._itemDataList.length:0,e=t/this._scrollUnit,n=this.currentIndex+1;this._scrollTotalPage=Math.floor(e+(0<t%this._scrollUnit?1:0)),this._scrollPage=Math.floor(n/this._scrollUnit+(0<n%this._scrollUnit?1:0)),this._scrollPage=0===this._scrollPage?1:this._scrollPage,this.displayScrollBtn()}},r.getBgChangeElement=function(){var t,e=document.querySelectorAll(Ht.INDEX_THUMB_IMAGE);return e?qp(t=su(e)).call(t,function(t){return t.classList.contains(Rt.H_IMAGE_INDEX_FAIL)}):[]},r.prototype.focusImage=function(t){var e=Rt.H_IMAGE_INDEX_FOCUS,n=this.scrollArea,i=n.querySelector("li."+e),r=n.querySelector("li:nth-child("+(t+1)+")");this._scrollPagingMode&&this.moveScrollPage(),i&&Pu(i,e,!1),r&&Pu(r,e,!0)},r.prototype.scrollTo=function(t){if(null!==this.itemDataList){var e=this.getScrollOffset(t);this.scrollArea.scrollLeft=e-this._scrollAreaWidth/2+this._itemWidth/2,this.focusImage(t)}},r.prototype.moveScrollPage=function(){if(!(null===this.itemDataList||this._scrollTotalPage<=1)){var t=this._scrollPage-1,e=this.itemDataList.length-1,n=this.scrollArea.parentElement.offsetWidth,i=t*this._scrollUnit;i=this._scrollPage===this._scrollTotalPage?e:i;var r=this.getScrollOffset(i);0===i?r=0:i===e&&(r=r+this._scrollAreaGap+this._itemWidth-n),this.displayScrollBtn(),this._visibleChecker.check(),Vu(this.scrollArea,"__dummy",{left:"-"+r+"px",transition:"left 200ms ease 0ms"})}},r.prototype.displayScrollBtn=function(){var t=1!==this._scrollPage&&1!==this._scrollTotalPage?1:.15,e=this._scrollPage!==this._scrollTotalPage?1:.15,n=1===this._scrollTotalPage,i=n||t<1?"default":"pointer",r=n||e<1?"default":"pointer";wu(this.prevButton,{opacity:n?0:t,cursor:i}),wu(this.nextButton,{opacity:n?0:e,cursor:r})},r.prototype.getScrollOffset=function(t){return t*this._itemWidth},r.prototype.setElementSize=function(){var t=this.scrollArea.querySelector("li:nth-child(1)"),e=this.elBase.querySelector(Ht.H_IMAGE_INDEX_SCROLL_WRAPPER);if(t&&!1!==this.visibility&&!this._isLoadStyleValue){var n=t.offsetWidth,i=window.getComputedStyle(t),r=window.getComputedStyle(this.scrollArea),o=cu(i.marginLeft)+cu(i.marginRight),s=cu(i.paddingLeft)+cu(i.paddingRight),a=cu(r.marginLeft)+cu(r.marginRight),l=cu(r.paddingLeft)+cu(r.paddingRight);if(this._itemWidth=n+o,this._itemGap=s+o,this._scrollAreaWidth=this.scrollArea.offsetWidth,this._scrollAreaGap=a+l,e){var u=e.offsetWidth;if(0===this._scrollAreaWidth||0===u)return;this._scrollAreaWidth<u&&wu(e,{width:this._scrollAreaWidth+"px"})}this._isLoadStyleValue=!0}},r.prototype.updateVisibleWidth=function(){var t=(this._visibleAreaClsss?this.elBase.querySelector(this._visibleAreaClsss):Mu()).offsetWidth;this._visibleChecker.options.expandSize=t,this._scrollAreaWidth=-1,this._itemWidth=-1,this._isLoadStyleValue=!1},r.prototype.updateBgColor=function(e,n){var t;this.visibility?Gs(t=r.getBgChangeElement()).call(t,function(t){n&&Vu(t,Rt.BACKGROUND_TWEEN),wu(t,{backgroundColor:"rgb("+e.join(",")+")"})}):this.bgColor=e},r.prototype.destroy=function(){this.hide(),this.unbindEvents()},r.prototype.bindEvents=function(){var t=this.scrollArea;this._useHoverShow&&(Au(this.el,"mouseenter",this.onMouseenter),Au(this.el,"mouseleave",this.onMouseleave)),this._scrollPagingMode&&(Au(this.prevButton,"click",this.onClickPrevBtn),Au(this.nextButton,"click",this.onClickNextBtn)),Bu(t,"click","li",this.onClickImage),Au(t,"scroll",this.onIndexScroll),this._visibleChecker&&this._visibleChecker.on("change",this.onVisibleChange)},r.prototype.unbindEvents=function(){var t=this.scrollArea;this._useHoverShow&&(Lu(this.el,"mouseenter",this.onMouseenter),Lu(this.el,"mouseleave",this.onMouseleave)),this._scrollPagingMode&&(Lu(this.prevButton,"click",this.onClickPrevBtn),Lu(this.nextButton,"click",this.onClickNextBtn)),Lu(t,"click",this.onClickImage),Lu(t,"scroll",this.onIndexScroll),this._visibleChecker&&this._visibleChecker.off("change",this.onVisibleChange)},r.prototype.reloadFailedImage=function(){var t;Gs(t=this.scrollArea.querySelectorAll(Ht.H_IMAGE_INDEX_FAIL)).call(t,this.imageLoadHandler)},r.imgAfterLoadHandler=function(t,e){var n=t.querySelector("img");if(n){var i=n.naturalHeight,r=n.naturalWidth;Pu(n,Rt.H_IMAGE_INDEX_LONG,r<i)}e&&Pu(t,Rt.H_IMAGE_INDEX_FAIL,!0),Pu(t,Rt.H_IMAGE_INDEX_LOADING,!1),Pu(t,Rt.H_IMAGE_INDEX_DEFAULT,!1),Pu(t,Rt.H_IMAGE_INDEX_LOADED,!e)},Ws([Zp],r.prototype,"show",null),Ws([Zp],r.prototype,"hide",null),Ws([Zp],r.prototype,"unvisible",null),Ws([Zp],r.prototype,"visible",null),Ws([Zp],r.prototype,"refresh",null),Ws([Zp],r.prototype,"refreshBottomPadding",null),Ws([Zp],r.prototype,"appendListData",null),Ws([Zp],r.prototype,"focusImage",null),Ws([Zp],r.prototype,"scrollTo",null),Ws([Zp],r.prototype,"moveScrollPage",null),Ws([Zp],r.prototype,"updateVisibleWidth",null),Ws([Zp],r.prototype,"updateBgColor",null),r}(op),ef=Date.prototype,nf="Invalid Date",rf="toString",of=ef[rf],sf=ef.getTime;new Date(NaN)+""!=nf&&Tn(ef,rf,function(){var t=sf.call(this);return t==t?of.call(this):nf});var af={};af[vi("toStringTag")]="z";var lf="[object z]"===String(af),uf=vi("toStringTag"),cf="Arguments"==Me(function(){return arguments}()),hf=lf?Me:function(t){var e,n,i;return void 0===t?"Undefined":null===t?"Null":"string"==typeof(n=function(t,e){try{return t[e]}catch(t){}}(e=Object(t),uf))?n:cf?Me(e):"Object"==(i=Me(e))&&"function"==typeof e.callee?"Arguments":i},pf=lf?{}.toString:function(){return"[object "+hf(this)+"]"};lf||Tn(Object.prototype,"toString",pf,{unsafe:!0});var ff=function(){function t(){this.keys=[],this.values=[]}var e=t.prototype;return e.get=function(t){return this.values[this.keys.indexOf(t)]},e.set=function(t,e){var n=this.keys,i=this.values,r=n.indexOf(t),o=-1===r?n.length:r;n[o]=t,i[o]=e},t}(),df=function(){function t(){this.object={}}var e=t.prototype;return e.get=function(t){return this.object[t]},e.set=function(t,e){this.object[t]=e},t}(),vf="function"==typeof Map,gf=function(){function t(){}var e=t.prototype;return e.connect=function(t,e){this.prev=t,this.next=e,t&&(t.next=this),e&&(e.prev=this)},e.disconnect=function(){var t=this.prev,e=this.next;t&&(t.next=e),e&&(e.prev=t)},e.getIndex=function(){for(var t=this,e=-1;t;)t=t.prev,++e;return e},t}();var _f=function(){function t(t,e,n,i,r,o,s,a){this.prevList=t,this.list=e,this.added=n,this.removed=i,this.changed=r,this.maintained=o,this.changedBeforeAdded=s,this.fixed=a}var e=t.prototype;return Object.defineProperty(e,"ordered",{get:function(){return this.cacheOrdered||this.caculateOrdered(),this.cacheOrdered},enumerable:!0,configurable:!0}),Object.defineProperty(e,"pureChanged",{get:function(){return this.cachePureChanged||this.caculateOrdered(),this.cachePureChanged},enumerable:!0,configurable:!0}),e.caculateOrdered=function(){var t,n,a,l,e=(t=this.changedBeforeAdded,n=this.fixed,a=[],l=[],t.forEach(function(t){var e=t[0],n=t[1],i=new gf;a[e]=i,l[n]=i}),a.forEach(function(t,e){t.connect(a[e-1])}),t.filter(function(t,e){return!n[e]}).map(function(t,e){var n=t[0],i=t[1];if(n===i)return[0,0];var r=a[n],o=l[i-1],s=r.getIndex();return r.disconnect(),o?r.connect(o,o.next):r.connect(void 0,a[0]),[s,r.getIndex()]})),u=this.changed,c=[];this.cacheOrdered=e.filter(function(t,e){var n=t[0],i=t[1],r=u[e],o=r[0],s=r[1];if(n!==i)return c.push([o,s]),!0}),this.cachePureChanged=c},t}();function mf(t,e,n){var i=vf?Map:n?df:ff,r=n||function(t){return t},o=[],s=[],a=[],l=t.map(r),u=e.map(r),c=new i,h=new i,p=[],f=[],d={},v=[],g=0,_=0;return l.forEach(function(t,e){c.set(t,e)}),u.forEach(function(t,e){h.set(t,e)}),l.forEach(function(t,e){var n=h.get(t);void 0===n?(++_,s.push(e)):d[n]=_}),u.forEach(function(t,e){var n=c.get(t);void 0===n?(o.push(e),++g):(a.push([n,e]),_=d[e]||0,p.push([n-_,e-g]),f.push(e===n),n!==e&&v.push([n,e]))}),s.reverse(),new _f(t,e,o,s,v,a,p,f)}var yf="undefined"!=typeof window,Ef=yf?window.navigator.userAgent:"",If=!!yf&&!!("getComputedStyle"in window),bf=/MSIE|Trident|Windows Phone|Edge/.test(Ef),Tf=!!yf&&!!("addEventListener"in document),Sf="width",xf="height";function wf(t,e){return t.getAttribute(e)||""}function Pf(t){return[].slice.call(t)}function Of(t,e){return void 0===e&&(e="data-"),!!t.getAttribute(e+"width")}function Af(t,e,n){Tf?t.addEventListener(e,n,!1):t.attachEvent?t.attachEvent("on"+e,n):t["on"+e]=n}function Lf(t,e,n){t.removeEventListener?t.removeEventListener(e,n,!1):t.detachEvent?t.detachEvent("on"+e,n):t["on"+e]=null}function Cf(t,e){var n,i=t["client"+e]||t["offset"+e];return parseFloat(i||(n=t,(If?window.getComputedStyle(n):n.currentStyle)||{})[e.toLowerCase()])||0}var Df=[];function Mf(t,e){!Df.length&&Af(window,"resize",kf),t.__PREFIX__=e,Df.push(t),Rf(t)}function Nf(t,e){var n=Df.indexOf(t);if(!(n<0)){var i=wf(t,e+"fixed");delete t.__PREFIX__,t.style[i===xf?Sf:xf]="",Df.splice(n,1),!Df.length&&Lf(window,"resize",kf)}}function Rf(t,e){void 0===e&&(e="data-");var n=t.__PREFIX__;"string"!=typeof n&&(n=e);var i=parseInt(wf(t,""+n+Sf),10)||0,r=parseInt(wf(t,""+n+xf),10)||0;if(wf(t,n+"fixed")===xf){var o=Cf(t,"Height")||r;t.style[Sf]=i/r*o+"px"}else{o=Cf(t,"Width")||i;t.style[xf]=r/i*o+"px"}}function kf(){Df.forEach(function(t){Rf(t)})}function Vf(t,a){void 0===a&&(a="data-");var l=new Ph,u=0,c=0;function h(){0==--u&&l.trigger("finish")}return t.forEach(function(o,s){var t=o.tagName;if(Of(o,a)&&"IMG"!==t)return Mf(o,a),++u,void setTimeout(function(){Vf(Pf(o.querySelectorAll("img")),a).on("finish",function(){Nf(o,a),h()})});var e="IMG"===t?[o]:Pf(o.querySelectorAll("img"));e.length&&e.forEach(function(n,i){function r(t){var e=t.target||t.srcElement;Lf(e,"error",r),Lf(e,"load",r),Of(e,a)?Nf(e,a):0==--c&&l.trigger("ready"),"error"===t.type&&l.trigger("error",{itemTarget:o,itemIndex:s,target:n,index:i}),h()}n.complete&&(!bf||bf&&n.naturalWidth)?n.naturalWidth||setTimeout(function(){l.trigger("error",{itemTarget:o,itemIndex:s,target:n,index:i})}):(Of(n,a)?Mf(n,a):++c,++u,Af(n,"load",r),Af(n,"error",r),bf&&n.setAttribute("src",n.getAttribute("src")))})}),!c&&setTimeout(function(){l.trigger("ready")}),!u&&setTimeout(function(){l.trigger("finish")}),l}var Bf=function(t,e){return(Bf=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)};function Ff(t,e){function n(){this.constructor=t}Bf(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}var zf,Gf,Hf=function(){return(Hf=Object.assign||function(t){for(var e,n=arguments,i=1,r=arguments.length;i<r;i++)for(var o in e=n[i])Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o]);return t}).apply(this,arguments)},Uf=(zf="undefined"==typeof window?{document:{},navigator:{userAgent:""}}:window).document,jf=zf.navigator.userAgent,Xf=!!("getComputedStyle"in zf),Wf=!!("addEventListener"in Uf),qf=function(){var t=!1;try{Wf&&Object.defineProperty&&Uf.addEventListener("test",function(){},Object.defineProperty({},"passive",{get:function(){t=!0}}))}catch(t){}return t}(),Yf=(/MSIE|Trident|Windows Phone|Edge/.test(jf),/iPhone|iPad/.test(jf)),Kf=/Android 2\./.test(jf),$f="_eg-infinitegrid-container_",Zf="_eg-infinitegrid-ignore_",Qf="_INFINITEGRID_TRANSITION",Jf="vertical",td="horizontal",ed=-1e5,nd="data-groupkey",id={itemSelector:"*",isOverflowScroll:!1,threshold:100,isEqualSize:!1,isConstantSize:!1,useRecycle:!0,horizontal:!1,transitionDuration:0,useFit:!0,attributePrefix:"data-",renderExternal:!1},rd={horizontal:!1,margin:0},od=jf.toLowerCase(),sd=(/mobi|ios|android/.test(od),"start"),ad="center",ld="end",ud="justify",cd=/applewebkit\/([\d|.]*)/g.exec(od),hd=cd&&parseInt(cd[1],10)||0,pd=hd&&hd<537,fd=["content","groupKey","itemKey","orgSize","mounted","prevRect","rect","size"],dd=(Gf=function(){var t={transitionend:"",webkitTransitionEnd:"-webkit-",MSTransitionEnd:"-ms-",oTransitionEnd:"-o-",mozTransitionEnd:"-moz-"};for(var e in t){var n=t[e];if("on"+e.toLowerCase()in zf)return[n+"transform",n+"transition",e]}return[]}())[0],vd=Gf[1],gd=Gf[2];function _d(t){var e=[];if(t)for(var n=t.length,i=0;i<n;i++)e.push(t[i]);return e}function md(t){return t.match(/^<([A-z]+)\s*([^>]*)>/)}function yd(t,e){var n,i;if(void 0===e&&(e=!1),"string"!=typeof t)return Nd(t)?n=t:(i=t,"function"==typeof zf.jQuery&&i instanceof zf.jQuery||i.constructor.prototype.jquery&&i.toArray?n=e?yd(t.toArray(),!0):yd(t.get(0),!1):Array.isArray(t)?(n=t.map(function(t){return yd(t)}),e||(n=1<=n.length?n[0]:void 0)):n=!t.nodeName||1!==t.nodeType&&9!==t.nodeType?[].slice.call(n):t),n;if(md(t)){var r=Uf.createElement("div");r.innerHTML=t,n=r.childNodes}else n=Uf.querySelectorAll(t);return e?_d(n):n&&n[0]}function Ed(t,e,n,i){if(Wf){var r=i||!1;"object"==typeof i&&(r=!!qf&&i),t.addEventListener(e,n,r)}else t.attachEvent?t.attachEvent("on"+e,n):t["on"+e]=n}function Id(t,e,n){t.removeEventListener?t.removeEventListener(e,n,!1):t.detachEvent?t.detachEvent("on"+e,n):t["on"+e]=null}function bd(t){return(Xf?zf.getComputedStyle(t):t.currentStyle)||{}}function Td(t,e,n){if(Nd(t))return zf["inner"+e]||Uf.body["client"+e];if(9===t.nodeType){var i=t.documentElement,r=t.body;return Math.max(r["scroll"+e],i["scroll"+e],r["offset"+e],i["offset"+e],i["client"+e])}var o=0;if(n){var s=t.getBoundingClientRect();o="Width"===e?s.right-s.left:s.bottom-s.top}else o=t["client"+e]||t["offset"+e];if(o)return o;var a=bd(t)[e.toLowerCase()];return~a.indexOf("px")&&parseFloat(a)||0}function Sd(t){return Td(t,"Width",!1)}function xd(t){return Td(t,"Height",!1)}function wd(t){return Td(t,"Width",!0)}function Pd(t){return Td(t,"Height",!0)}function Od(t){return{width:wd(t),height:Pd(t)}}var Ad={vertical:{startPos1:"top",endPos1:"bottom",size1:"height",startPos2:"left",endPos2:"right",size2:"width"},horizontal:{startPos1:"left",endPos1:"right",size1:"width",startPos2:"top",endPos2:"bottom",size2:"height"}};function Ld(t){return Ad[t?td:Jf]}function Cd(n){for(var t=arguments,e=[],i=1;i<arguments.length;i++)e[i-1]=t[i];return e.forEach(function(t){for(var e in t)n[e]=t[e]}),n}function Dd(t,e){return Cd({},rd,t,e)}function Md(t){return t.map(function(t){return Cd({},t)})}function Nd(t){return t===zf}function Rd(t,e){for(var n=t.length-1;0<=n;--n)t[n]=e;return t}function kd(t){return void 0===t}var Vd=function(){function r(){this._groups=[],this._groupKeys={}}var t=r.prototype;return r.toItems=function(t,n){return t.map(function(t){return{el:e=t,groupKey:n,mounted:!1,content:e?e.outerHTML:"",rect:{top:ed,left:ed}};var e})},r.pluck=function(t,n){return t.reduce(function(t,e){return t.concat(e[n])},[])},t.clear=function(){this._groups=[],this._groupKeys={}},t.getStatus=function(t,e){var n=this._groups,i=Math.max(this.indexOf(t),0),r=this.indexOf(e)+1||n.length;return{_data:n.slice(i,r).map(function(t){var e=t.items.map(function(e){var n={};return fd.forEach(function(t){t in e&&(n[t]=e[t])}),n}),n=Cd({},t);return n.items=e,n})}},t.setStatus=function(t){var n=this,e=t._data;this.clear(),e.forEach(function(t,e){n.insertGroup(t,e)})},t.size=function(){return this._groups.length},t.fit=function(i,t){var e=this._groups;if(e.length){var r=t?"left":"top";0!==i&&e.forEach(function(t){var e=t.items,n=t.outlines;e.forEach(function(t){t.rect[r]-=i}),n.start=n.start.map(function(t){return t-i}),n.end=n.end.map(function(t){return t-i})})}},t.pluck=function(t,e,n){var i=kd(e)?this._groups:this.sliceGroups(e,(kd(n)?e:n)+1);return r.pluck(i,t)},t.getOutline=function(t,e){var n=this._groups[t];return n?n.outlines[e]:[]},t.getEdgeIndex=function(t,e,n){for(var i="start"===t?"min":"max",r=-1,o="start"===t?1/0:-1/0,s=e;s<=n;s++){var a=Math[i].apply(Math,this.getOutline(s,t));("start"===t&&a<o||"end"===t&&o<a)&&(o=a,r=s)}return r},t.getEdgeValue=function(t,e,n){var i=this.getGroup(this.getEdgeIndex(t,e,n));if(i){var r=i.outlines[t];if(r.length)return Math["start"===t?"min":"max"].apply(Math,r)}return 0},t.clearOutlines=function(n,i){void 0===n&&(n=-1),void 0===i&&(i=-1),this.getGroups().forEach(function(t,e){n<=e&&e<=i||(t.items.forEach(function(t){t.rect.top=ed,t.rect.left=ed}),t.outlines.start=[],t.outlines.end=[])})},t.getMaxEdgeValue=function(){for(var t=this._groups,e=t.length-1;0<=e;--e){var n=t[e].outlines.end;if(n.length)return Math.max.apply(Math,n)}return 0},t.prependGroup=function(t){return this.insertGroup(t,0)},t.appendGroup=function(t){return this.insertGroup(t,this._groups.length)},t.insertGroup=function(t,n){var i=this;if(n<0)return null;var e=t.items||[],r=Hf({outlines:{start:[],end:[]}},t,{items:[]});return this._groups.splice(n,0,r),this._groupKeys[r.groupKey]=r,e.forEach(function(t,e){i.insert(t,n,e)}),r},t.sync=function(t){var i,r,n=this,o=this._groups,s=this._groupKeys,a=(i=[],r={},t.forEach(function(t){var e=t.groupKey,n=r[e];n||(n={groupKey:e,items:[]},r[e]=n,i.push(n)),n.items.push(t)}),i),e=mf(o,a,function(t){return t.groupKey}),l=e.removed,u=e.added,c=e.maintained;l.forEach(function(t){var e=o[t];e&&delete s[e.groupKey]});var h=[];return c.forEach(function(t){var e=t[0];h.push(o[e])}),this._groups=h,u.forEach(function(t){n.insertGroup(a[t],t)}),c.reverse().forEach(function(t){var e=t[1];n.syncItems(e,a[e].items)}),e},t.insert=function(t,e,n){void 0===e&&(e=-1),void 0===n&&(n=-1);var i=t.groupKey,r=this._groups,o=this._groupKeys,s=(-1<e?r[e]:o[i])||this.insertGroup({groupKey:i},e);if(!s)return null;var a=Hf({content:"",mounted:!1,rect:{top:ed,left:ed}},t),l=s.items;return-1===n?l.push(a):l.splice(n,0,a),a},t.removeGroup=function(t){var e=this._groups.splice(t,1)[0];return e?(delete this._groupKeys[e.groupKey],e):null},t.remove=function(t,e){var n=this.getGroup(t),i=null,r=[];return n&&(r=n.items.splice(e,1),n.items.length||(i=this.removeGroup(t))),{items:r,group:i}},t.indexOf=function(t){if(void 0===t)return-1;for(var e=""+("object"==typeof t?t.groupKey:t),n=this._groups,i=n.length,r=0;r<i;++r)if(e===""+n[r].groupKey)return r;return-1},t.indexesOfElement=function(t){var e=t.getAttribute(nd),n=this.indexOf({groupKey:e}),i=-1;if(-1<n)for(var r=this.getGroup(n),o=r.items.length,s=0;s<o;s++)if(r.items[s].el===t){i=s;break}return{groupIndex:n,itemIndex:i}},t.sliceGroups=function(t,e){return this._groups.slice(t,e)},t.getGroups=function(){return this._groups},t.getGroupByKey=function(t){return this._groupKeys[t]},t.getGroup=function(t){return this._groups[t]},t.syncItems=function(e,r){var n=this;if(r.length){var o=this.getGroup(e).items,t=mf(o,r,function(t){return t.itemKey}),i=t.added,s=t.maintained,a=this._groups[e],l=[];s.forEach(function(t){var e=t[0],n=t[1],i=o[e];Cd(i,r[n]),l.push(i)}),a.items=l,i.forEach(function(t){n.insert(r[t],e,t)})}else this.removeGroup(e)},r}();function Bd(t){t[vd+"-property"]="",t[vd+"-duration"]="",t[dd]=""}function Fd(t,e,n){t.forEach(function(t){t in e&&(n[t]=e[t]+"px")})}var zd=function(){function o(t,e){this.options={isEqualSize:!1,isConstantSize:!1,horizontal:!1,container:!1},this._size={container:-1,view:-1,viewport:-1,item:null},this._orgStyle={},Cd(this.options,e),this._init(t),this.resize()}var t=o.prototype;return o.renderItem=function(e,t,n){if(e.el){var i,r,o,s,a,l,u,c,h,p=e.el,f=e.prevRect,d=p.style;if(p.setAttribute(nd,""+e.groupKey),d.position="absolute",Fd(["width","height"],t,d),n&&vd&&f){if(l=d,c=t,h=f,(u=n)?(c.left!==h.left||c.top!==h.top)&&(l[vd+"-property"]=dd+",width,height",l[vd+"-duration"]=u+"s",l[dd]="translate("+(c.left-h.left)+"px,"+(c.top-h.top)+"px)"):Bd(l),p[Qf])return;p[Qf]=!0,o=function(){var t=e.rect;Bd(d),Fd(["left","top"],t,d),e.prevRect=t,p[Qf]=!1},Ed(i=p,r=gd,a=function(t){Id(i,r,a),o(t)},s)}else Fd(["left","top"],t,d),e.prevRect=t}},o.renderItems=function(t,e){t.forEach(function(t){o.renderItem(t,t.rect,e)})},o.removeItems=function(t){t.forEach(function(t){t.el&&(o.removeElement(t.el),t.el=null)})},o.removeElement=function(t){var e=t&&t.parentNode;e&&e.removeChild(t)},o.createElements=function(t){if(t.length){var e=t.filter(function(t){return!t.el});if(e.length){var n=yd(e.map(function(t){return t.content.replace(/^[\s\uFEFF]+|[\s\uFEFF]+$/g,"")}).join(""),!0);e.forEach(function(t,e){t.el=n[e]})}}},t.getStatus=function(){return{cssText:this.container.style.cssText,_size:Cd({},this._size)}},t.setStatus=function(t){this.container.style.cssText=t.cssText,Cd(this._size,t._size)},t.updateSize=function(t){var e=this.options,n=e.isEqualSize,i=e.isConstantSize,r=this._size;return t.map(function(t){return t.el&&(n&&!r.item&&(r.item=Od(t.el)),t.size=n&&Cd({},r.item)||i&&t.orgSize&&t.orgSize.width&&Cd({},t.orgSize)||Od(t.el),t.orgSize&&t.orgSize.width&&t.orgSize.height||(t.orgSize=Cd({},t.size))),t})},t.createAndInsert=function(t,e){o.createElements(t),o.renderItems(t),this._insert(t,e)},t.getViewSize=function(){return this._size.view},t.getViewportSize=function(){return this._size.viewport},t.getContainerSize=function(){return this._size.container},t.setContainerSize=function(t){this._size.container=t,this.container.style[this.options.horizontal?"width":"height"]=t+"px"},t.resize=function(){var t=this.options.horizontal,e=this.view,n=this._calcSize();if(0!==n){var i=n!==this._size.viewport;return i&&(this._size={view:-1,container:-1,viewport:n,item:null}),this._size.view=t?Sd(e):xd(e),i}},t.isNeededResize=function(){return this._calcSize()!==this._size.viewport},t.clear=function(){this.container.innerHTML="",this.container.style[this.options.horizontal?"width":"height"]="",this._size={item:null,viewport:-1,container:-1,view:-1}},t.destroy=function(){this.clear();var t,e=this.options.container;for(t in this._orgStyle)this[e?"view":"container"].style[t]=this._orgStyle[t];e&&this.container.parentNode.removeChild(this.container)},t._init=function(t){var e=yd(t),n=bd(e),i=this.options,r=i.container,o=i.horizontal;if("static"===n.position&&(this._orgStyle.position=e.style.position,e.style.position="relative"),r){var s=o?["X","Y"]:["Y","X"];this._orgStyle.overflowX=e.style.overflowX,this._orgStyle.overflowY=e.style.overflowY,e.style["overflow"+s[0]]="scroll",e.style["overflow"+s[1]]="hidden",this.view=e,this.container=!0===r?function(t){var e=t.querySelector("."+$f);if(e)return e.style.position="relative",e.style.height="100%",e;var n=Uf.createElement("div");n.className=$f,n.style.position="relative",n.style.height="100%";for(var i=t.children,r=i.length,o=0;o<r;o++)n.appendChild(i[0]);return t.appendChild(n),n}(this.view):r}else this.view=zf,this.container=e},t._insert=function(t,e,n){var i=this.container,r=Uf.createDocumentFragment();t.forEach(function(t){n&&o.renderItem(t,n),e?r.appendChild(t.el):r.insertBefore(t.el,r.firstChild)}),e?i.appendChild(r):i.insertBefore(r,i.firstChild)},t._calcSize=function(){return this.options.horizontal?xd(this.container):Sd(this.container)},o}();var Gd=function(){function t(t,e){this.options=Cd({useRecycle:!0,threshold:100,append:function(){},prepend:function(){},recycle:function(){}},e),this._itemManager=t,this.clear()}var e=t.prototype;return e.setSize=function(t){this._status.size=t},e.sync=function(t){var e=this._status,n=e.startCursor,i=e.endCursor,r=this._itemManager,o=r.sliceGroups(n,i+1),s=Vd.pluck(o,"items"),a=r.sync(t),l=function(t,e){for(var n=t.length,i=0;i<n;++i)if(e(t[i]))return t[i];return null}(o,function(t){var e=t.groupKey;return r.getGroupByKey(e)}),u=function(t,e){for(var n=t.length-1;0<=n;--n)if(e(t[n]))return t[n];return null}(o,function(t){var e=t.groupKey;return r.getGroupByKey(e)}),c=l?r.indexOf(l):-1,h=u?r.indexOf(u):-1;if(-1<c&&-1<h){var p=Math.min(c,h),f=Math.max(c,h);c=p,h=f}else-1<h?c=h:-1<c&&(h=c);return e.startCursor=c,e.endCursor=h,0<a.removed.length?"relayout":0<mf(s,r.pluck("items",n,i),function(t){return t.itemKey}).removed.length?"layout":""},e.recycle=function(e,t){if(this.options.useRecycle&&"number"==typeof e){var n=this._status,i=n.startCursor,r=n.endCursor,o=n.size;if(-1!==i&&-1!==r){var s=e+o,a=this.options,l=a.threshold,u=a.recycle,c=this._itemManager.sliceGroups(i,r+1).map(function(t){return function(t,e,n,i){var r=t.items,o=t.outlines,s=o.start,a=o.end;if(0===s.length||0===a.length||!r.length||!r[0].el)return 2;var l=Math.min.apply(Math,s),u=Math.max.apply(Math,a);return i+e<l?1:u<n-e?-1:0}(t,l,e,s)}),h=c.length,p=t?0:c.lastIndexOf(0),f=t?c.indexOf(0)-1:c.length-1;t||-1===p||(p+=1),p<0||f<0||f<p||h<=f-p+1||(u({start:p=i+p,end:f=i+f}),t?this.setCursor("start",f+1):this.setCursor("end",p-1))}}},e.scroll=function(a){var t=this.getCursors(),e=t[0],n=t[1],i=this._itemManager;if("number"==typeof a&&-1!==e&&-1!==n&&i.size()){var r=this._status.size,o=this.options,l=o.threshold,s=o.append,u=o.prepend,c=i.getGroups(),h=a+r,p=Math.max.apply(Math,c[e].outlines.start),f=Math.min.apply(Math,c[n].outlines.end),d=c.map(function(t,e){var n=t.outlines,i=n.start,r=n.end;if(!i.length||!r.length)return!1;var o=Math.min.apply(Math,i),s=Math.max.apply(Math,r);return o-l<=h&&a<=s+l}),v=d.indexOf(!0),g=d.lastIndexOf(!0);if(~v&&v<e)u({cache:c.slice(v,Math.min(e,g+1))});else if(n<g)s({cache:c.slice(Math.max(v,n+1),g+1)});else{var _=c.slice(n+1,n+2),m=c.slice(e-1,e),y=a<=p+l;f-l<=h&&(!y||_.length||!m.length)?s({cache:_}):y&&u({cache:m})}}},e.setCursor=function(t,e){var n=this._status,i=this._itemManager,r=i.size();if(!this.options.useRecycle){if(n.startCursor=0,i.getOutline(r-1,"end").length)return void(n.endCursor=r-1);if("end"!==t)return}"start"===t?n.startCursor=e:n.endCursor=Math.min(r-1,e),n.startCursor=Math.max(0,n.startCursor)},e.setStatus=function(t){this._status=Cd(this._status,t)},e.getStatus=function(t,e){var n=this._status,i=n.startCursor,r=n.endCursor,o=n.size,s=Math.max(this._itemManager.indexOf(t),0),a=(this._itemManager.indexOf(e)+1||this._itemManager.size())-1,l=Math.max(i-s,~i?0:-1);return{startCursor:l,endCursor:Math.max(Math.min(r-s,a-s),l),size:o}},e.getEdgeOutline=function(t){var e=this._status,n=e.startCursor,i=e.endCursor;return-1===n||-1===i?[]:this._itemManager.getOutline("start"===t?n:i,t)},e.getEdgeValue=function(t){var e=this.getEdgeOutline(t);return e.length?Math["start"===t?"min":"max"].apply(Math,e):0},e.getVisibleItems=function(){var t=this._status,e=t.startCursor,n=t.endCursor;return this._itemManager.pluck("items",e,n)},e.getCursors=function(){var t=this._status;return[t.startCursor,t.endCursor]},e.getCursor=function(t){return this._status["start"===t?"startCursor":"endCursor"]},e.getVisibleData=function(){var t=this._status,e=t.startCursor,n=t.endCursor;return this._itemManager.sliceGroups(e,n+1)},e.remove=function(t,e){var n=this._status,i=this._itemManager,r=n.startCursor,o=n.endCursor,s=i.remove(t,e);return s.group&&(t<r&&this.setCursor("start",r-1),t<=o&&this.setCursor("end",o-1)),i.size()||(n.startCursor=-1,n.endCursor=-1),s},e.clear=function(){this._status={startCursor:-1,endCursor:-1,size:-1}},t}();function Hd(t,e){return~t.indexOf(e)}var Ud=function(){function t(t,e,n,i){this._infinite=t,this._itemManager=e,this._renderer=n,this.options=i}var e=t.prototype;return e.setLayout=function(t){this._layout=t},e.render=function(i,t,r,e){var o=this;void 0===r&&(r=Vd.pluck(t,"items"));var n=e?t:t.reverse(),s=[],a=[];return Vf(r.map(function(t){return t.el}),this.options.attributePrefix).on("ready",function(){o._itemManager&&o._complete(i,n,r,e)}).on("error",function(t){var e=t.target,n=t.itemIndex;o._itemManager&&o._error(i,a,s,e,r,n)}).on("finish",function(){o._itemManager&&o._end(i,a,s,r)}),i},e._complete=function(t,e,n,r){var i=this._infinite,o=this._layout,s=this._itemManager,a=r?"end":"start",l=s.indexOf(e[0]),u=s.getGroup(l+(r?-1:1)),c=u?u.outlines[a]:[0];this._renderer.updateSize(n),e.forEach(function(t){var n=t.outlines[r?"start":"end"];if(!(!c.length||c.length!==n.length||!c.every(function(t,e){return t===n[e]})))return c=t.outlines[r?"end":"start"],void zd.renderItems(t.items);var e=t.items,i=o[r?"append":"prepend"](e,c,!0);Cd(t,i),zd.renderItems(i.items),c=i.outlines[r?"end":"start"]});var h=Math.max(i.getCursor("start"),0),p=Math.max(i.getCursor("end"),0),f=s.indexOf(e[0].groupKey),d=s.indexOf(e[e.length-1].groupKey),v=!0;if((p+1<f||d<h-1)&&(v=!1),v&&(d=r?(f=h,Math.max(p,d)):(f=Math.max(Math.min(h,f),0),p)),d<f){var g=f;f=d,d=g}t.trigger("renderComplete",{start:f,end:d}),t.trigger("layoutComplete",{items:Vd.pluck(e,"items"),isAppend:r})},e._error=function(t,n,i,r,e,o){var s=this._itemManager,a=e[o],l=a.el,u=this.options.attributePrefix,c=function(){if(!Hd(n,l)){n.push(l);var t=i.indexOf(o);-1!==t&&i.splice(t,1)}},h=s.pluck("items").indexOf(a);t.trigger("imageError",{target:r,element:l,items:e,item:a,itemIndex:o,replace:function(t){if(!Hd(n,l)){if(t)if(md(t)||"object"==typeof t){var e=r.parentNode;e.insertBefore(yd(t),r),e.removeChild(r),a.content=l.outerHTML}else r.src=t,r.getAttribute(u+"width")&&(Nf(r,u),r.removeAttribute(u+"width"),r.removeAttribute(u+"height"));a.content=l.outerHTML,Hd(i,o)||i.push(o)}},replaceItem:function(t){Hd(n,l)||(l.innerHTML=t,a.content=l.outerHTML,Hd(i,o)||i.push(o))},remove:function(){r!==l?Hd(n,l)||(r.parentNode.removeChild(r),a.content=l.outerHTML,Hd(i,o)||i.push(o)):c()},removeItem:c,totalIndex:h})},e._end=function(t,e,n,i){var r=this,o=this.options.attributePrefix,s=e.length,a=n.length;if(s||a){var l=n.map(function(t){return i[t]});a?Vf(l.map(function(t){return t.el}),o).on("ready",function(){r._renderer.updateSize(l),t.trigger("finish",{remove:e,layout:!0})}):t.trigger("finish",{remove:e,layout:!0})}else t.trigger("finish",{remove:[]})},t}(),jd=function(){function t(t,e){void 0===e&&(e={});var i=this;this._containerOffset=0,this._isScrollIssue=Yf,this._prevPos=null,this._onCheck=function(){var t=i.getScrollPos(),e=i.getOrgScrollPos();i.setScrollPos(e);var n=i.getScrollPos();null===t||i._isScrollIssue&&0===e||t===n?e&&(i._isScrollIssue=!1):(i._isScrollIssue=!1,i.options.check({isForward:t<n,scrollPos:n,orgScrollPos:e,horizontal:i.options.horizontal}))},this._onResize=function(){i._timer.resize&&clearTimeout(i._timer.resize),i._timer.resize=setTimeout(function(){i.resize(),i.options.resize(),i._timer.resize=null},100)},Cd(this.options={container:t,resize:function(){},check:function(){},isOverflowScroll:!1,horizontal:!1},e),this._timer={resize:null},this._view=t,this.attachEvent(),this.resize(),this.setScrollPos()}var e=t.prototype;return e.getStatus=function(){return{_prevPos:this._prevPos,scrollPos:this.getOrgScrollPos()}},e.setStatus=function(t,e){void 0===e&&(e=!0),this._prevPos=t._prevPos,e&&this.scrollTo(t.scrollPos)},e.scrollBy=function(t){var e,n,i,r=this.options.horizontal?[t,0]:[0,t];e=this._view,n=r[0],i=r[1],Nd(e)?e.scrollBy(n,i):(e.scrollLeft+=n,e.scrollTop+=i),this.setScrollPos()},e.scrollTo=function(t){var e,n,i,r=this.options.horizontal?[t,0]:[0,t];e=this._view,n=r[0],i=r[1],Nd(e)?e.scroll(n,i):(e.scrollLeft=n,e.scrollTop=i)},e.getScrollPos=function(){return this._prevPos},e.setScrollPos=function(t){void 0===t&&(t=this.getOrgScrollPos()),this._prevPos=t-this.getContainerOffset()},e.attachEvent=function(){Ed(this._view,"scroll",this._onCheck),Ed(zf,"resize",this._onResize)},e.getOrgScrollPos=function(){return function(t,e){void 0===e&&(e=!1);var n="scroll"+(e?"Left":"Top");return Nd(t)?zf[e?"pageXOffset":"pageYOffset"]||Uf.body[n]||Uf.documentElement[n]:t[n]}(this._view,this.options.horizontal)},e.reset=function(){this._prevPos=null},e.getContainerOffset=function(){return this._containerOffset},e.resize=function(){this._containerOffset=this.options.isOverflowScroll?0:this._getOffset()},e.detachEvent=function(){Id(this._view,"scroll",this._onCheck),Id(zf,"resize",this._onResize)},e.destroy=function(){this.detachEvent(),this.reset()},e._getOffset=function(){var t=this.options,e=t.container,n=t.horizontal;return e.getBoundingClientRect()[n?"left":"top"]+this.getOrgScrollPos()},t}(),Xd=function(h){function t(t,e){var n=h.call(this)||this;n._loadingBar={},n._requestGroups=[],Cd(n.options=Hf({},id),e),pd&&(n.options.useFit=!1),Kf&&(n.options.isOverflowScroll=!1),n._reset();var i=n.options,r=i.isOverflowScroll,o=i.isEqualSize,s=i.isConstantSize,a=i.horizontal,l=i.threshold,u=i.useRecycle,c=i.attributePrefix;return n._itemManager=new Vd,n._renderer=new zd(t,{isEqualSize:o,isConstantSize:s,horizontal:a,container:r}),n._watcher=new jd(n._renderer.view,{isOverflowScroll:r,horizontal:a,container:n._renderer.container,resize:function(){return n._onResize()},check:function(t){return n._onCheck(t)}}),n._infinite=new Gd(n._itemManager,{useRecycle:u,threshold:l,append:function(t){return n._requestAppend(t)},prepend:function(t){return n._requestPrepend(t)},recycle:function(t){return n._recycle([t])}}),n._renderManager=new Ud(n._infinite,n._itemManager,n._renderer,{attributePrefix:c,isEqualSize:o,isConstantSize:s,horizontal:a}),n}Ff(t,h);var e=t.prototype;return e.append=function(t,e){return this._layout&&this._insert({elements:t,isAppend:!0,groupKey:e}),this},e.prepend=function(t,e){return this._layout&&this._insert({elements:t,isAppend:!1,groupKey:e}),this},e.setLayout=function(t,e){void 0===e&&(e={});var n=this.options.horizontal;return this._layout="function"==typeof t?new t(Cd(e,{horizontal:n})):(t.options.horizontal=n,t),this._renderManager.setLayout(this._layout),this._renderer.resize(),this._setSize(this._renderer.getViewportSize()),this},e.getItems=function(t){return void 0===t&&(t=!1),t?this._itemManager.pluck("items"):this._infinite.getVisibleItems()},e.getRenderingItems=function(){var t=this.getItems(),e={};t.forEach(function(t){e[t.itemKey]=!0});var n=Vd.pluck(this._requestGroups,"items").filter(function(t){return!e[t.itemKey]&&(e[t.itemKey]=!0)});return t.concat(n)},e.beforeSync=function(t){return this._infinite.sync(t)},e.sync=function(i){var t=this._itemManager,e=this._infinite,n=this.getRenderingItems();if(n.forEach(function(t,e){var n=t.el!==i[e];t.el=i[e],n&&zd.renderItem(t,t.rect)}),!this._isProcessing()){var r=n.filter(function(t){return!t.orgSize||!t.orgSize.width});if(r.length)this._postLayout({fromCache:!1,groups:e.getVisibleData(),newItems:r,isAppend:!0,isTrusted:!1});else if(t.size())if(e.getCursor("start")<0){var o=t.getGroup(0);this._postLayout({groups:[o],hasChildren:!1,fromCache:!1,isAppend:!0})}else this._infinite.scroll(this._watcher.getScrollPos());else this._requestAppend({})}},e.layout=function(t){if(void 0===t&&(t=!0),!this._layout)return this;var e=this._renderer,n=this._itemManager,i=this._infinite,r=e.resize(),o=this.getItems(),s=this.options,a=s.isEqualSize,l=s.isConstantSize,u=s.transitionDuration,c=t&&(a||l),h=n.size();if(this._watcher.resize(),t&&r&&this._setSize(e.getViewportSize()),!o.length){var p=_d(e.container.children).filter(function(t){return-1===t.className.indexOf(Zf)}),f=0<p.length;if(h){var d=n.getGroup(0);f&&d.items.forEach(function(t,e){t.el=p[e]}),this._postLayout({groups:[d],hasChildren:f,fromCache:!1,isAppend:!0})}else f?this._insert({elements:p,isAppend:!0,hasChildren:!0}):(e.getContainerSize()&&e.setContainerSize(0),this._requestAppend({}));return this}var v=i.getCursors(),g=v[0],_=v[1],m=!c&&t&&r?n.sliceGroups(g,_+1):n.getGroups();return this._relayout(t,m,r?o:[]),c?this._fit():t&&r&&n.clearOutlines(g,_),zd.renderItems(o,u),t&&this._watcher.setScrollPos(),this._onLayoutComplete({items:o,isAppend:!0,fromCache:!0,isTrusted:!1,useRecycle:!1,isLayout:!0}),this},e.removeByIndex=function(t,e,n){void 0===n&&(n=!0);var i=this._infinite.remove(t,e),r=i.items,o=i.group;return r.forEach(function(t){zd.removeElement(t.el)}),r.length?(n&&this.layout(!!o),r):[]},e.remove=function(t,e){void 0===e&&(e=!0);var n=this._itemManager.indexesOfElement(t),i=n.groupIndex,r=n.itemIndex;return this.removeByIndex(i,r,e)},e.getGroupKeys=function(t){return(t?this._itemManager.getGroups():this._infinite.getVisibleData()).map(function(t){return t.groupKey})},e.getStatus=function(t,e){return{_status:Cd({},this._status),_itemManager:this._itemManager.getStatus(t,e),_renderer:this._renderer.getStatus(),_watcher:this._watcher.getStatus(),_infinite:this._infinite.getStatus(t,e)}},e.setStatus=function(t,e,n){if(void 0===e&&(e=!0),!t)return this;var i=t._status,r=t._renderer,o=t._itemManager,s=t._watcher,a=t._infinite;if(!(i&&r&&o&&s&&a))return this;var l=this.options.renderExternal,u=this._itemManager,c=this._renderer,h=this._watcher,p=this._infinite;h.detachEvent(),Cd(this._status,i),this._status.processingStatus=0,u.setStatus(o),c.setStatus(r),p.setStatus(a);var f=this.getItems(),d=f.length;l?(f.forEach(function(t,e){t.el=n[e]}),zd.renderItems(f)):c.createAndInsert(f,!0);var v=c.isNeededResize();h.setStatus(s,e),h.attachEvent();var g=this.options,_=g.isConstantSize,m=g.isEqualSize;return d?v?(c.resize(),this._setSize(c.getViewportSize()),_?this.layout(!0):(this._itemManager.clearOutlines(),this._postLayout({fromCache:!0,groups:m?u.getGroups():p.getVisibleData(),items:f,newItems:f,isAppend:!0,isTrusted:!1}))):this.layout(!1):this._requestAppend({cache:[]}),this},e.clear=function(){return this._itemManager.clear(),this._renderer.clear(),this._infinite.clear(),this._reset(),this._appendLoadingBar(),this},e.setLoadingBar=function(t){void 0===t&&(t={});var e="object"==typeof t?t:{append:t,prepend:t};this._status.loadingSize=0,this._status.loadingStyle={};var n,i,r,o,s=this._loadingBar,a=!1;for(var l in e){var u=yd(e[l]);s[l]!==u&&(s[l]=u,a=!0),o=Zf,((r=u).classList?r.classList.contains(o):r.className.match(new RegExp("(\\s|^)"+o+"(\\s|$)")))||(i=Zf,(n=u).classList?n.classList.add(i):n.className+=" "+i)}return a&&this._renderLoading(),this._appendLoadingBar(),this},e.isProcessing=function(){return this._isProcessing()||this.isLoading()},e.isLoading=function(){return 0<this._getLoadingStatus()},e.getLoadingBar=function(t){return void 0===t&&(t=2!==this._getLoadingStatus()),this._loadingBar[t?"append":"prepend"]},e.startLoading=function(t,e){var n=this;if(void 0===e&&(e={display:"block"}),this.isLoading())return this;var i=t?"append":"prepend";if(this._process(t?1:2),!this._loadingBar[i])return this;var r=function(){n._renderLoading(e),n._status.loadingStyle=e,t?n._setContainerSize(n._getEdgeValue("end")+n._status.loadingSize):n._fit()};return this.options.renderExternal?this.trigger("render",{next:r}):r(),this},e.endLoading=function(t){var e;if(void 0===t&&(t={display:"none"}),!this.isLoading())return this;var n=1===this._getLoadingStatus(),i=n?"append":"prepend",r=this._loadingBar[i],o=this._status,s=o.loadingSize;if(this._process(3,!1),o.loadingSize=0,o.loadingStyle={},r){var a=Cd(((e={})[this.options.horizontal?"left":"top"]=-s+"px",e),t);for(var l in a)r.style[l]=a[l];n?this._setContainerSize(this._getEdgeValue("end")):this._fitItems(s),this.options.renderExternal&&this.trigger("render",{next:function(){}})}return this.options.useRecycle&&!this.isProcessing()&&this._infinite.recycle(this._watcher.getScrollPos(),n),this},e.getItem=function(t,e){if(void 0===t&&(t=0),"object"!=typeof t){var n=this._itemManager.getGroup(t);return n&&n.items[e||0]}if(t)for(var i=this.getItems(),r=i.length,o=0;o<r;++o)if(i[o].el===t)return i[o]},e.updateItem=function(t,e){var n=this.getItem(t,e);return this._updateItem(n)&&this.layout(!1),this},e.updateItems=function(){var e=this;return this.getItems().forEach(function(t){e._updateItem(t)}),this.layout(!1),this},e.moveTo=function(t,o){var s=this;if(void 0===o&&(o=0),this.isProcessing())return this;var e=this._itemManager.getGroup(t);if(!e)return this;var n=this._infinite,i=e.outlines,a=e.items,r=a[o],l=i.start&&0===i.start.length,u=n.getCursors(),c=u[0],h=u[1],p=c<=t&&t<=h,f=this.options,d=f.useRecycle,v=f.horizontal;if(p||!d||!l){var g=r?r.rect[v?"left":"top"]:Math.max.apply(Math,i.start),_=Math.min.apply(Math,i.start);_<0&&(this._fitItems(_,0),g-=_);var m=c<t;return p||m?this._scrollTo(g):this._postLayout({fromCache:!0,groups:[e],items:a,newItems:[],isAppend:m,isTrusted:!1}).on("renderComplete",function(t){var e=t.start,n=t.end,i=s._itemManager;if(i){var r=a[o].rect[v?"left":"top"];p||i.clearOutlines(e,n),s._scrollTo(r),s._setScrollPos(r)}}),this}m=h<t||t<c-1;return this._postCache({isAppend:m,cache:[e],isTrusted:!1}).on("renderComplete",function(t){var e=t.start,n=t.end,i=s._itemManager;if(i){var r=a[o].rect[v?"left":"top"];i.clearOutlines(e,n),s._scrollTo(r),s._setScrollPos(r)}}),this},e.destroy=function(){this._infinite.clear(),this._watcher.destroy(),this._reset(),this._itemManager.clear(),this._renderer.destroy()},e._relayout=function(t,e,n){var i=this._renderer,r=i.options,o=r.isEqualSize,s=r.isConstantSize,a=e.filter(function(t){var e=t.items[0];return e.orgSize&&-1e4<e.rect.top});if(!a.length)return[];var l=a[0].outlines.start;t&&(l=[l.length?Math.min.apply(Math,l):0],!s&&n.length&&(i.updateSize(n),o&&n[0].size&&Vd.pluck(a,"items").forEach(function(t){t.size=Cd({},n[0].size)}))),this._layout.layout(a,l)},e._setContainerSize=function(t){this._renderer.setContainerSize(Math.max(this._itemManager.getMaxEdgeValue(),t))},e._appendLoadingBar=function(){if(!this.options.renderExternal){var t=this._loadingBar,e=this._renderer.container;for(var n in t)e.appendChild(t[n])}},e._setSize=function(t){this._infinite.setSize(this._renderer.getViewSize()),this._layout.setSize(t)},e._fitItems=function(t,e){void 0===e&&(e=0),0<t&&this._watcher.scrollBy(-t),this._itemManager.fit(t,this.options.horizontal),zd.renderItems(this.getItems()),this._setContainerSize(this._getEdgeValue("end")||e),t<0&&this._watcher.scrollBy(-t)},e._fit=function(t){void 0===t&&(t=this.options.useFit);var e=this._getEdgeValue("start"),n=2===this._getLoadingStatus()&&this._status.loadingSize||0,i=this.options,r=i.isConstantSize,o=i.isEqualSize;if(!i.useRecycle||!t||r||o)e<n&&this._fitItems(e-n,n),e=0;else{if(0===e&&!n)return 0;this._fitItems(e-n,n)}return this.isLoading()&&this._renderLoading(),e},e._getEdgeValue=function(t){return this._infinite.getEdgeValue(t)},e._isProcessing=function(){return 0<(4&this._status.processingStatus)},e._getLoadingStatus=function(){return 3&this._status.processingStatus},e._process=function(t,e){void 0===e&&(e=!0),e?this._status.processingStatus|=t:this._status.processingStatus-=this._status.processingStatus&t},e._insert=function(t){var e=t.elements,n=t.isAppend,i=t.hasChildren,r=t.groupKey,o=void 0===r?(new Date).getTime()+Math.floor(1e3*Math.random()):r;if(!this._isProcessing()&&0!==e.length){var s=Vd.toItems(yd(e,!0),o);this._insertItems({items:s,isAppend:n,hasChildren:i,groupKey:o})}},e._insertItems=function(t){var e=t.items,n=t.isAppend,i=t.hasChildren,r=t.groupKey,o=void 0===r?(new Date).getTime()+Math.floor(1e3*Math.random()):r;if(e.length){var s=this._itemManager[n?"appendGroup":"prependGroup"]({groupKey:o,items:e});if(!n){var a=this._infinite,l=a.getCursors(),u=l[0],c=l[1];a.setCursor("start",u+1),a.setCursor("end",c+1)}this._postLayout({fromCache:!1,groups:[s],items:s.items,newItems:s.items,isAppend:n,hasChildren:i,isTrusted:!1})}},e._recycle=function(t){var r=this,e=this.options,n=e.useRecycle,o=e.renderExternal;if(!n)return!1;var s=!1;return t.forEach(function(t){var e=t.start,n=t.end;if(!(-1===e||-1===n||n<e)){var i=r._itemManager.pluck("items",e,n);s=s||i.some(function(t){return t.mounted}),i.forEach(function(t){t.mounted=!1}),o||zd.removeItems(i)}}),s&&(this._requestGroups=[],this.trigger("render",{next:function(){}})),s},e._renderLoading=function(t){if(void 0===t&&(t=this._status.loadingStyle),this.isLoading()){var e=1===this._getLoadingStatus(),n=this._loadingBar[e?"append":"prepend"];if(n){var i=Cd({position:"absolute"},t);for(var r in i)n.style[r]=i[r];this._status.loadingSize=this.options.horizontal?wd(n):Pd(n);var o=this.options.horizontal?"left":"top";if(!(o in i)){var s=e?this._getEdgeValue("end"):this._getEdgeValue("start")-this._status.loadingSize;n.style[o]=s+"px"}}}},e._updateItem=function(t){return!(!t||!t.el)&&(t.content=t.el.outerHTML,!this.options.isEqualSize&&((e=t).orgSize=null,e.size=null),this._renderer.updateSize([t]),!0);var e},e._setScrollPos=function(t){this._watcher.setScrollPos(this._watcher.getContainerOffset()+t)},e._scrollTo=function(t){this._watcher.scrollTo(this._watcher.getContainerOffset()+t)},e._postCache=function(t){var e=t.cache,n=t.isAppend,i=t.isTrusted,r=void 0===i||i,o=this.options.isConstantSize,s=Vd.pluck(e,"items"),a=!0,l=s.filter(function(t){return t.orgSize&&t.orgSize.width?!o&&t.rect.top<-1e4:!(a=!1)});return this._postLayout({fromCache:a,groups:e,items:s,newItems:l,isAppend:n,isTrusted:r})},e._postLayout=function(t){var r=this,n=t.fromCache,e=t.groups,i=t.items,o=void 0===i?Vd.pluck(e,"items"):i,s=t.newItems,a=t.isAppend,l=t.hasChildren,u=t.isTrusted;if(this._process(4),e.length){var c=this.options.renderExternal,h=this._renderer,p=new Ph,f=function(){o.forEach(function(t){t.mounted=!0}),r._renderManager.render(p,e,s,a).on("renderComplete",function(t){var e=t.start,n=t.end;r._setCursor(e,n)}).on("imageError",function(t){r.trigger("imageError",Cd(t,{element:t.item.el}))}).on("layoutComplete",function(t){var e=t.items;r._process(4,!1),r._onLayoutComplete({items:e,isAppend:a,fromCache:n,isTrusted:u,useRecycle:!1})}).on("finish",function(t){var e=t.remove,n=t.layout;if(e.forEach(function(t){return r.remove(t,!1)}),n)r.layout(!1);else if(!r.isProcessing()&&r.options.useRecycle){var i=r._watcher.getScrollPos();r._infinite.recycle(i,a)}})};if(!l){if(c)return o.every(function(t){return t.mounted})?f():(this._requestGroups=e,this.trigger("render",{next:function(){!l&&zd.renderItems(o),f()}})),p;h.createAndInsert(o,a)}return f(),p}},e._requestAppend=function(t){var e=this,n=t.cache;this._isProcessing()||(n&&n.length?this._postCache({cache:n,isAppend:!0}):this.trigger("append",{isTrusted:!0,groupKey:this.getGroupKeys().pop()||"",startLoading:function(t){e.startLoading(!0,t)},endLoading:function(t){e.endLoading(t)}}))},e._requestPrepend=function(t){var e=this,n=t.cache;this._fit(this.options.useFit||!n||!n.length),this._isProcessing()||(n&&n.length?this._postCache({cache:n,isAppend:!1}):this.trigger("prepend",{isTrusted:!0,groupKey:this.getGroupKeys().shift(),startLoading:function(t){e.startLoading(!1,t)},endLoading:function(t){e.endLoading(t)}}))},e._onResize=function(){this.layout(!0)},e._setCursor=function(t,e){var n=this._infinite,i=n.getCursors(),r=i[0],o=i[1];n.setCursor("start",t),n.setCursor("end",e),this._recycle([{start:r,end:t-1},{start:e+1,end:o}])||(this._requestGroups=[],this.trigger("render",{next:function(){}}))},e._onCheck=function(t){var e=t.isForward,n=t.scrollPos,i=t.horizontal,r=t.orgScrollPos;this.trigger("change",{isForward:e,horizontal:i,scrollPos:n,orgScrollPos:r}),this._infinite.scroll(n)},e._onLayoutComplete=function(t){var e=this,n=t.items,i=t.isAppend,r=t.isTrusted,o=void 0!==r&&r,s=t.useRecycle,a=void 0===s?this.options.useRecycle:s,l=t.fromCache,u=void 0!==l&&l,c=t.isLayout,h=void 0!==c&&c,p=this._renderer.getViewSize();i?this.isLoading()&&this._renderLoading():this._fit();var f=this._watcher,d=f.getScrollPos();h||!a||this.isLoading()||this._infinite.recycle(d,i);var v=this._getEdgeValue("end");i&&(this._setContainerSize(v+this._status.loadingSize||0),"number"==typeof d&&0<d&&!Yf&&this._scrollTo(d)),this.trigger("layoutComplete",{target:n.concat(),isAppend:!!i,isTrusted:o,fromCache:u,isLayout:h,isScroll:p<f.getContainerOffset()+v,scrollPos:d,orgScrollPos:f.getOrgScrollPos(),size:v,endLoading:function(t){e.endLoading(t)}}),this._infinite.scroll(d)},e._reset=function(){this._status={processingStatus:0,loadingSize:0,loadingStyle:{}}},t.VERSION="3.6.0",t}(Ph),Wd=sd,qd=ad,Yd=ld,Kd=ud,$d=function(){function t(t){void 0===t&&(t={}),this.options=Dd({margin:0,horizontal:!1,align:Wd,itemSize:0},t),this._size=0,this._columnSize=0,this._columnLength=0,this._style=Ld(this.options.horizontal)}var e=t.prototype;return e.append=function(t,e,n){return this._insert(t,e,!0,n)},e.prepend=function(t,e,n){return this._insert(t,e,!1,n)},e.layout=function(t,e){var i=this;void 0===t&&(t=[]),void 0===e&&(e=[]);var r,n=t.length&&t[0].items.length&&t[0].items[0];if(this.checkColumn(n),e.length!==this._columnLength){var o=0===e.length?0:Math.min.apply(Math,e);r=Rd(new Array(this._columnLength),o)}else r=e.slice();return t.forEach(function(t){var e=t.items,n=i._layout(e,r,!0);t.outlines=n,r=n.end}),this},e.setSize=function(t){return this._size=t,this},e.checkColumn=function(t){var e=this.options,n=e.itemSize,i=e.margin,r=e.horizontal?"height":"width",o=Math.floor(n||t&&t.size[r]||0)||0;(this._columnSize=o)?this._columnLength=Math.max(Math.floor((this._size+i)/(o+i)),1):this._columnLength=1},e._layout=function(t,e,n){for(var i,r=t.length,o=this.options.margin,s=this.options.align,a=this._style,l=a.size1,u=a.size2,c=a.startPos1,h=a.startPos2,p=this._columnSize,f=this._columnLength,d=this._size,v=d-(p+o)*f+o,g=n?"min":"max",_=e.slice(),m=e.slice(),y=0;y<r;++y){var E=Math[g].apply(Math,m)||0,I=m.indexOf(E),b=t[n?y:r-1-y],T=b.size;if(T){var S=T[l],x=T[u],w=n?E:E-o-S,P=w+S+o;-1===I&&(I=0);var O=(p+o)*I;s===qd?O+=v/2:s===Yd?O+=v+p-x:s===Kd&&(f<=1?O+=v/2:O=(d-p)/(f-1)*I),b.rect=((i={})[c]=w,i[h]=O,i),m[b.column=I]=n?P:w}}return n||t.sort(function(t,e){var n=t.rect[c],i=t.rect[h],r=e.rect[c],o=e.rect[h];return n-r?n-r:i-o}),{start:n?_:m,end:n?m:_}},e._insert=function(t,e,n,i){void 0===t&&(t=[]),void 0===e&&(e=[]);var r=i?t:Md(t),o=e;return this._columnLength||this.checkColumn(t[0]),e.length!==this._columnLength&&(o=Rd(new Array(this._columnLength),e.length&&Math[n?"min":"max"].apply(Math,e)||0)),{items:r,outlines:this._layout(r,o,n)}},t}();var Zd,Qd,Jd=function(t){function a(){var i=null!==t&&t.apply(this,arguments)||this;return i.itemList=[],i.currentDisplayIndex=0,i.loadImageCount=0,i.itemMargin=null,i.scrollTopPos=0,i.ghostRightValue=244,i.isPlayToggleAnimation=!1,i.focusIndex=-1,i.successLoadImageCount=0,i.isIE=!1,i.endToogle=kp(function(){Lu(i.elContentsWraper,Eu("transitionEnd"),i.endToogle),i.isPlayToggleAnimation=!1,i.visibility&&!1===i.isInitDrawList?i.renderList():(i.resizeIndex(),i.trigger(ue),i.trigger(le,{isOpen:i.visibility}))},200),i.outScreen=function(t){i.endGhostDrag(t)},i.clickItem=function(t){var e=t.target,n=Number(e.getAttribute("data-index"));Cp(t),i.focusImage(n),i.trigger(se,{listIndex:n})},i.isReloadItemHeight=!1,i.startGhostDrag=function(t){Cp(t),i.trigger(ce),i.preClientX=t.clientX,i.elMoveGhost.style.opacity="1",i.elMoveGhost.style.zIndex="10",Au(i.elBase,"mousemove",i.moveGhostDrag),Au(i.elBase,"mouseup",i.endGhostDrag),Au(i.elBase,"mouseleave",i.outScreen)},i.moveGhostDrag=function(t){Cp(t);var e=t.clientX-i.preClientX,n=i.ghostRightValue+-1*e;241<=n||n<=80||(i.elMoveGhost.style.right=+n+"px")},i.endGhostDrag=function(t){Cp(t);var e=cu(i.elMoveGhost.style.right);i.elMoveGhost.style.opacity="0",i.elMoveGhost.style.zIndex="1",e=Math.min(e,241),e=Math.max(e,80),i.elMoveGhost.style.right=e-3+"px",Pu(i.elBase,Rt.V_INDEX_OPEN_ANIMATION,!0),i.elIndexBase.style.width=e+"px",i.elContentsWraper.style.right=e+"px",i.elNavigatorRoot.style.right=e+"px",Lu(i.elBase,"mousemove",i.moveGhostDrag),Lu(i.elBase,"mouseup",i.endGhostDrag),Lu(i.elBase,"mouseleave",i.outScreen),i.isReloadItemHeight=!0,i.ghostRightValue=e,Vu(i.elBase,"__dummy",function(){i.resizeIndex(),i.trigger(he),i.trigger(ue)})},i.resizeIndexList=Vp(function(){i.resizeIndex()},200),i}return js(a,t),a.prototype.initialize=function(t,e){this.elBase=t,this.elContentsWraper=t.querySelector(Ht.FLICK_WRAPPER),this.elNavigatorRoot=document.querySelector(Ht.NAVI_ROOT),this.elIndexBase=t.querySelector(Ht.V_IMAGE_INDEX),this.elHeader=t.querySelector(Ht.V_INDEX_HEADER),this.elException=t.querySelector(Ht.V_INDEX_EXCEPTION),this.isIE=$a().isIE,!1!==this._isActivePlugin(this.elIndexBase,e)?(this.elContentsWraper.style.transform="none",this.elTotalCount=t.querySelector(Ht.V_INDEX_TOTLAL),this.elCurruntCount=t.querySelector(Ht.V_INDEX_CURRENT),this.elIndexList=t.querySelector(Ht.V_INDEX_LIST),this.elMoveGhost=t.querySelector(Ht.V_INDEX_MOVE_GHOST),this.itemTemplate=e.itemTemplate,this.loadingTemplate=e.loadingTemplate,this.createScroller(),this.deactivate()):xu(this.elIndexBase)},a.prototype.defineCustomEvent=function(){var t;this.eventNameMap=((t={})[re]=re,t[oe]=oe,t[ue]=ue,t[le]=le,t[se]=se,t[ce]=ce,t[he]=he,t[ae]=ae,t)},a.prototype.createScroller=function(){var n=this;this.infinityScroll=new Xd(this.elIndexList,{itemSelector:Ht.V_INDEX_ITEM,isOverflowScroll:!0}),this.layout=new $d({align:"center",margin:2}),this.infinityScroll.setLayout(this.layout),this.infinityScroll.on("layoutComplete",function(){n.afterResize()}).on("change",function(t){var e=t.scrollPos;n.scrollTopPos=e})},a.prototype.show=function(t){this.toggle(!0,t),this.trigger(re)},a.prototype.hide=function(t){this.toggle(!1,t),this.trigger(oe)},a.prototype.refresh=function(){this.refreshScroll()},a.prototype.activate=function(){this.initSideIndex(),this.bindEvent()},a.prototype.deactivate=function(){this.unbindEvent(),this.rollbackSideIndex(),this.hide(!1),this.focusIndex=-1},a.prototype.initSideIndex=function(){Su(this.elMoveGhost)},a.prototype.rollbackSideIndex=function(){xu(this.elMoveGhost)},a.prototype.toggle=function(t,e,n){if(!t||!this.freezeLayout){var i=!this.visibility;void 0!==t&&(i=t);var r=i?this.ghostRightValue:0;if(this.focusIndex="number"==typeof n?n:this.currentIndex,this.elContentsWraper.style.right=r+"px",this.elNavigatorRoot.style.right=r+"px",this.isIE){var o=this.elBase.getBoundingClientRect().top;wu(this.elIndexBase,{position:"fixed",top:o+"px"})}Pu(this.elBase,Rt.V_INDEX_OPEN_ANIMATION,e),Pu(this.elBase,Rt.V_INDEX_OPEN,i),Au(this.elContentsWraper,Eu("transitionEnd"),this.endToogle),this.visibility=i,!1===(this.isPlayToggleAnimation=e)&&this.visibility&&this.endToogle()}},a.prototype.resizeIndex=function(){this.visibility&&(this.isReloadItemHeight&&(this.refreshIndexItemHeight(),this.isReloadItemHeight=!1),this.refreshScroll())},a.prototype.forcusSelect=function(){this.scrollTopPos=this.elIndexList.scrollTop,0<=this.focusIndex&&(this.currentIndex=this.focusIndex,this.focusIndex=-1)},a.prototype.afterResize=function(){var e=this;this.refreshIndexLeft("2px"),this.refreshIndexImageTop("0").then(function(){var t;Ui(_u(t=e.refreshIndexImageTop).call(t,e,"50%"),0)});var t=this.elIndexBase.querySelector(Ht.V_INDEX_LOADING);t&&t.parentNode.removeChild(t),this.forcusSelect()},Oh(a.prototype,"isInitDrawList",{get:function(){return 0<this.elIndexList.querySelectorAll(Ht.V_INDEX_ITEM).length},enumerable:!0,configurable:!0}),a.prototype.setFullScreen=function(t){t?Su(this.elMoveGhost):xu(this.elMoveGhost)},a.prototype.refreshScroll=function(){!1===this.visibility||!1===this.isInitDrawList||this.isPlayToggleAnimation||!1===this.isActiveLayout||(this.infinityScroll.updateItems(),this.infinityScroll.layout(!0))},a.prototype.refreshIndexItemHeight=function(){var n=this;this.getLoopIndexFn(Ht.V_INDEX_ITEM+" "+Ht.V_INDEX_ITEM_LINK)(function(t){var e=t.querySelector("img");n.setItemHeight(t,e)})},a.prototype.refreshIndexImageTop=function(n){var e=this;return new xh(function(t){e.getLoopIndexFn(Ht.V_INDEX_ITEM+" img")(function(t){var e;t.parentElement.classList.contains(Ba(e=Ht.V_ITEM_TALL).call(e,1))&&(t.style.top=n)}),t()})},a.prototype.refreshIndexLeft=function(e){this.getLoopIndexFn(""+Ht.V_INDEX_ITEM)(function(t){t.style.left=e})},a.prototype.getLoopIndexFn=function(t){var n=su(this.elIndexList.querySelectorAll(t));return function(e){Gs(n).call(n,function(t){e(t)})}},a.prototype.focusImage=function(t){if(!1!==this.isInitDrawList&&!this.isPlayToggleAnimation&&!1!==this.isActiveLayout){var e=this.elIndexList.querySelector(Ht.V_INDEX_ITEM_INDEX+t),n=this.elIndexList.querySelector(Ht.V_INDEX_FOCUS),i=e.querySelector(Ht.V_INDEX_ITEM_LINK);Pu(n,Rt.V_INDEX_FOCUS,!1),Pu(i,Rt.V_INDEX_FOCUS,!0),this.scrollToIndex(t),this.currentDisplayIndex=t,this.updateCounter()}},Oh(a.prototype,"itemDataList",{set:function(t){!1!==this.isActiveLayout&&((this.itemList=t)&&0!==t.length?this.visibility&&this.isInitDrawList&&this.renderList(t):this.infinityScroll.clear())},enumerable:!0,configurable:!0}),a.prototype.renderList=function(t){try{var e=t||this.itemList,n=this.getListHtml(e),i=this.elIndexList.offsetHeight;this.successLoadImageCount=0,this.loadImageCount=e.length,this.infinityScroll.clear(),this.infinityScroll.append(n),this.loadingTemplate&&this.infinityScroll.setLoadingBar({prepend:this.loadingTemplate(i)}),this.updateCounter(),this.thumbImageLoad()}catch(t){this.showExceptionList()}},a.prototype.showExceptionList=function(){xu(this.elHeader),xu(this.elIndexList),Su(this.elException)},a.prototype.updateCounter=function(){this.elTotalCount.innerHTML=this.itemList.length.toString(),this.elCurruntCount.innerHTML=this.currentIndex.toString()},Oh(a.prototype,"currentIndex",{get:function(){return this.currentDisplayIndex+1},set:function(t){this.visibility&&this.focusImage(t),this.currentDisplayIndex=t,this.updateCounter()},enumerable:!0,configurable:!0}),a.prototype.scrollToIndex=function(t){var e=this.infinityScroll.getItem(0,t),n=this.elIndexList.offsetHeight,i=this.scrollTopPos+n,r=e.rect.top,o=e.el.offsetHeight,s=r-n+e.el.offsetHeight+100,a=r-100;r>this.scrollTopPos&&r<i?r+o>this.elIndexList.scrollTop+n&&(this.elIndexList.scrollTop=r-n+o+100):r<this.scrollTopPos?this.elIndexList.scrollTop=a:i<r&&(this.elIndexList.scrollTop=s)},a.prototype.countLoadImage=function(t){if(t&&this.successLoadImageCount++,this.loadImageCount--,0===this.loadImageCount){if(0===this.successLoadImageCount)return void this.showExceptionList();this.isReloadItemHeight=!0,this.refreshScroll(),this.trigger(ue)}},a.prototype.getListHtml=function(t){var n=this,i=this.isInitDrawList?this.itemList.length-1:0,r=[];return Gs(t).call(t,function(t){var e={thumbUrl:Hh(t.vIndexThumbUrl),title:t.caption,index:i,imgType:t.imgType};r.push(n.itemTemplate(e)),i++}),r},a.prototype.thumbImageLoad=function(){var e=this,t=this.elIndexList.querySelectorAll("img:not("+Ht.THUMB_IMG_LOAD_COMPLTE+")");Gs(t).call(t,function(t){zh(t).then(function(){e.imgLoadSuccessHandler(t)}).catch(function(){zh(t).then(function(){e.imgLoadSuccessHandler(t)}).catch(function(){e.imgLoadFailHandler(t)})})})},a.prototype.imgLoadSuccessHandler=function(t){var e=t.getAttribute("data-index"),n=this.elIndexList.querySelector(Ht.V_INDEX_ITEM_INDEX+e),i=n.querySelector(Ht.V_INDEX_ITEM_SIZE),r=n.querySelector(Ht.V_INDEX_ITEM_LINK),o=n.querySelector(Ht.V_INDEX_LOAD_ITEM),s=a.getThumbnailClass(t);Su(i),Pu(t,Rt.THUMB_IMG_LOAD_COMPLTE,!0),Pu(o,Rt.V_ITEM_LOADING,!1),null!==s&&Pu(i,s,!0),this.computedItemContentsMargin(n),this.setItemHeight(r,t),this.countLoadImage(!0)},a.prototype.computedItemContentsMargin=function(t){if(null===this.itemMargin){var e=window.getComputedStyle(t);this.itemMargin=0,this.itemMargin+=cu(e.marginTop),this.itemMargin+=cu(e.marginBottom),this.itemMargin+=cu(e.paddingTop),this.itemMargin+=cu(e.paddingBottom)}},a.getThumbnailClass=function(t){var e,n=t.naturalWidth,i=t.naturalHeight,r=null;return i<n?(e=Math.floor(i/9),16<=Math.floor(n/e)&&(r=Rt.V_ITEM_WIDE)):n<i&&(e=Math.floor(i/4),4<=Math.floor(i/e)&&(r=Rt.V_ITEM_TALL)),r},a.prototype.setItemHeight=function(t,e){var n=this.ghostRightValue-3,i=e.naturalWidth,r=e.naturalHeight,o=i/n;if(!(o<=1)){var s=r/o,a=n/2*3,l=n/2;a<s?s=a:s<l&&(s=l),s-=this.itemMargin,t.style.height=s+"px"}},a.prototype.imgLoadFailHandler=function(t){var e=t.getAttribute("data-index"),n=this.elIndexList.querySelector(Ht.V_INDEX_ITEM_INDEX+e),i=n.querySelector(Ht.V_INDEX_LOAD_ITEM),r=n.querySelector(Ht.V_INDEX_FAIL_ITEM);Pu(t,Rt.THUMB_IMG_LOAD_COMPLTE,!0),xu(i),Su(r),this.countLoadImage(!1)},a.prototype.bindEvent=function(){Bu(this.elIndexList,"click",""+Ht.V_INDEX_ITEM_LINK,this.clickItem),Au(this.elIndexBase,"click",Cp),Au(this.elMoveGhost,"click",Cp),Au(this.elMoveGhost,"mousedown",this.startGhostDrag)},a.prototype.unbindEvent=function(){Lu(this.elIndexList,"click",this.clickItem),Lu(this.elIndexBase,"click",Cp),Lu(this.elMoveGhost,"click",Cp),Lu(this.elMoveGhost,"mousedown",this.startGhostDrag)},Ws([Zp],a.prototype,"show",null),Ws([Zp],a.prototype,"hide",null),Ws([Zp],a.prototype,"refresh",null),Ws([Zp],a.prototype,"rollbackSideIndex",null),Ws([Zp],a.prototype,"toggle",null),Ws([Zp,$p(!1)],a.prototype,"focusImage",null),Ws([Zp],a.prototype,"updateCounter",null),Ws([Zp],a.prototype,"scrollToIndex",null),Ws([Qp],a.prototype,"bindEvent",null),Ws([Jp],a.prototype,"unbindEvent",null),a}(op),tv=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.hide=function(){var t=Eu("transitionEnd");wu(e.element,{visibility:"none",left:"-10000px",top:"-10000px"}),e.element.removeAttribute("src"),Lu(e.element,t,e.translateHandler)},e}return js(e,t),e.prototype.initialize=function(t,e){this.layoutId=Mt.GHOST_IMAGE,this.classNames=uu({default:Rt.GHOST_IMAGE,buildIn:Rt.BUILD_IN,buildOut:Rt.BUILD_OUT},e?e.classNameOptions:{});var n=document.createElement("img"),i=e.elParent;n.className=this.classNames.default,this.element=n,i.appendChild(n),this._options=e},e.prototype.defineCustomEvent=function(){this.publishEventMap=null},e.prototype.getElement=function(){return this.element},e.prototype.flip=function(t,e,n){var i,r=this;void 0===n&&(n=function(){});var o=this.element,s=this.elementRect,a=e.className,l=s.left-t.left,u=s.top-t.top,c=s.width/t.width,h=s.height/t.height,p=$a().useCss3d?{transform:"translate3d("+l+"px, "+u+"px, 0px) scale3d("+c+", "+h+", 1)",display:"block"}:{transform:"translateX("+l+"px) translateY("+u+"px) scaleX("+c+") scaleY("+h+")",willChange:"transform",display:"block"},f=_u(i=this.flipAnimation).call(i,this,o,a,n);requestAnimationFrame(function(){o.className=r.classNames.default,Ru(o,t,p),requestAnimationFrame(f)})},e.prototype.flipAnimation=function(t,e,n){var i=this,r=Eu("transitionEnd");t.classList.add(e),wu(t,{transform:""}),r&&(this.translateHandler=Cu(t,r,function(){t.classList.remove(e),n(),Ui(i.hide,100)}))},e.prototype.prepare=function(t,e,n){void 0===n&&(n=!1),n&&Ru(this.element,t,{display:"block"});var i=this.element;this.elementRect=t,e&&(i.setAttribute("data-src",e),zh(i))},e.prototype.show=function(t,e){this.flip(t,{className:this.classNames.buildIn},e)},e.prototype.buildOut=function(t,e,n){void 0===n&&(n={className:this.classNames.buildOut}),this.flip(t,n,e)},e.prototype.destroy=function(){(this.unBindEvent(),this.element)&&this.element.parentNode.removeChild(this.element)},e}(op),ev=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.isVlisible=!0,t._isCaptionEmpty=!0,t}return js(t,e),t.prototype.initialize=function(t,e){void 0===e&&(e={}),this.el=t.querySelector(Ht.CAPTION),!1!==this._isActivePlugin(this.el,e)?(this.elLink=t.querySelector(Ht.CAPTION_LINK),this.layoutId=Mt.CAPTION,this.visibility=!0,this.activate()):this.hide()},t.prototype.defineCustomEvent=function(){this.eventNameMap={}},t.prototype.refresh=function(t){if(!t||!t.caption||!this.isActiveLayout)return this._isCaptionEmpty=!0,void this.hide();var e=t.caption,n=Ht.CAPTION_DESC,i=Ht.CAPTION_SVCNAME,r=Ht.CAPTION_TITLE;if(e){this.setText(n,hu(e,"desc")),this.setText(i,hu(e,"svcName")),this.setText(r,hu(e,"title"));var o=hu(e,"link");this.elLink&&this.elLink.setAttribute("href",o||"javascript:void(0);"),this._isCaptionEmpty=!e.desc&&!e.svcName&&!e.title,this._isCaptionEmpty&&this.hide(),this.toggleCaptionDesc(hu(e,"desc"))}},t.prototype.setText=function(t,e){var n,i=this.el.querySelector(t);i&&(i.innerHTML=(void 0===(n=e||"")&&(n=""),n.replace(/\&/g,"&amp;").replace(/\</g,"&lt;").replace(/\>/g,"&gt;").replace(/\"/g,"&quot;")))},t.prototype.toggleCaptionDesc=function(t){var e=this.el.querySelector(Ht.CAPTION_DESC),n=document.querySelector(".civ__HiddenCaption");if(n){n.innerHTML=t;var i=n.clientHeight;el(e.style.height,10)!==i&&(e.style.height=i+"px")}},Oh(t.prototype,"isCaptionEmpty",{get:function(){return this._isCaptionEmpty},enumerable:!0,configurable:!0}),t.prototype.show=function(){this._isCaptionEmpty||(this.isVlisible=!0,Su(this.el),Pu(this.el,Rt.HIDE,!1),this.updateBg(this.el.parentElement))},t.prototype.hide=function(){this.isVlisible=!1,Pu(this.el,Rt.HIDE,!0),xu(this.el)},t.prototype.updateBg=function(t){var e=t.getAttribute("data-bg");e&&(wu(t,{backgroundColor:e}),t.removeAttribute("data-bg"))},t.prototype.resize=function(){var t=this.el.querySelector(Ht.CAPTION_DESC);this.toggleCaptionDesc(t.innerText)},t.prototype.getHeight=function(){return this.el.offsetHeight},t.prototype.isVisiblity=function(){return this.isVlisible},Ws([Zp],t.prototype,"refresh",null),Ws([Zp],t.prototype,"show",null),Ws([Zp],t.prototype,"hide",null),Ws([Zp],t.prototype,"updateBg",null),Ws([Zp],t.prototype,"resize",null),t}(op),nv=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return js(e,t),e.prototype.activate=function(){this.bindEvent(),wu(this.el,{opacity:"1",pointerEvents:""}),!1===this.visibility&&this.show&&this.show()},e.prototype.deactivate=function(){this.unbindEvent(),wu(this.el,{opacity:"0.2",pointerEvents:"none"}),!0===this.visibility&&this.hide&&this.hide()},e}(op),iv=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.onClick=function(t){Cp(t),e.trigger(Dt.CLOSE)},e}return js(e,t),e.prototype.initialize=function(t){var e=t.querySelector(Ht.CLOSE_BUTTON);this.el=e,this.visibility=!0,this.bindEvent()},e.prototype.defineCustomEvent=function(){var t;this.eventNameMap=((t={})[Dt.CLOSE]=Dt.CLOSE,t)},e.prototype.bindEvent=function(){Au(this.el,"click",this.onClick)},e.prototype.unbindEvent=function(){Lu(this.el,"click",this.onClick)},Ws([Qp],e.prototype,"bindEvent",null),Ws([Jp],e.prototype,"unbindEvent",null),e}(nv),rv=function(n){function t(t){var e=n.call(this)||this;return e._options=null,e.onClick=function(t){Cp(t),e._options.onClick&&e._options.onClick(t)},e._options=t,e.layoutId=Mt.SHARE_BTN,e}return js(t,n),t.prototype.initialize=function(t){var e=this._options,n=t.querySelector(Ht.SHARE_BTN_AREA),i=n.querySelector(Ht.SHARE_BUTTON),r=e.render?e.render():null;n&&("string"==typeof r&&(n.innerHTML=r,r=n.firstChild),r&&"object"===ou(r)&&r.tagName?n.appendChild(r):i&&(Su(i),r=i),e.initialize(r),this.el=r,this.activate())},t.prototype.defineCustomEvent=function(){this.eventNameMap={}},t.prototype.bindEvent=function(){Au(this.el,"click",this.onClick)},t.prototype.unbindEvent=function(){Lu(this.el,"click",this.onClick)},t.prototype.show=function(){Su(this.el)},t.prototype.hide=function(){this._options.onClose&&this._options.onClose(this.el)},t.prototype.activate=function(){this.bindEvent(),this.show()},t.prototype.deactivate=function(){this.unbindEvent(),this.hide()},Ws([Qp],t.prototype,"bindEvent",null),Ws([Jp],t.prototype,"unbindEvent",null),t}(nv),ov=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.currentIndex=0,e.onClick=function(t){Cp(t),e.trigger(pe.TOGGLE)},e}return js(e,t),e.prototype.initialize=function(t,e){void 0===e&&(e={});var n=t.querySelector(Ht.H_INDEX_INDICATOR)||t.querySelector(Ht.INDEX_INDICATOR);if(this.el=n,!1!==this._isActivePlugin(this.el,e)){var i=e.useIndex;this.currentNumEL=n.querySelector(Ht.INDEX_INDICATOR_CURRENT),this.totalNumEL=n.querySelector(Ht.INDEX_INDICATOR_TOTAL),this.visibility=!0,this.activate(),"boolean"==typeof i&&!1===i&&Pu(n.querySelector(Ht.INDEX_ARROW_ICON),Rt.INDEX_ARROW_ICON_HIDDEN,!0)}else xu(this.el)},e.prototype.defineCustomEvent=function(){this.eventNameMap=pe},e.prototype.refresh=function(t){if(null!==t){var e=t.index;this.currentIndex=e,this.renderIndex(t)}},e.prototype.renderIndex=function(t){var e=t.index,n=t.total;1!==n?(this.currentNumEL.innerHTML=Number(e).toString(),this.totalNumEL.innerHTML=Number(n).toString()):xu(this.el)},e.prototype.toggle=function(t){var e=document.querySelector(Ht.INDEX_HEADER_BTN);e&&Pu(e,"civ__open",!t)},e.prototype.bindEvent=function(){Au(this.el,"click",this.onClick)},e.prototype.unbindEvent=function(){Lu(this.el,"click",this.onClick)},e.prototype.activate=function(){this.bindEvent()},e.prototype.deactivate=function(){this.unbindEvent()},Ws([Zp],e.prototype,"refresh",null),Ws([Zp],e.prototype,"toggle",null),Ws([Qp],e.prototype,"bindEvent",null),Ws([Jp],e.prototype,"unbindEvent",null),e}(nv),sv=function(t){function e(){var n=null!==t&&t.apply(this,arguments)||this;return n._linkData=null,n.moveLink=function(t){var e=n.el.getAttribute("href");Cp(t),window.open(e)},n}return js(e,t),e.prototype.initialize=function(t,e){var n=t.querySelector(Ht.LINK);return this.el=n,!1===this._isActivePlugin(this.el,e)&&xu(this.el),this.linkTemplate=hu(e,"template"),this.visibility=!1,this.elWrapper=t.querySelector(Ht.LINK_WRAP),this.displayEl=this.linkTemplate?n:this.elWrapper,this.activate(),n},e.prototype.defineCustomEvent=function(){this.eventNameMap={}},e.prototype.activate=function(){this.bindEvent()},e.prototype.deactivate=function(){this.unBindEvent()},e.prototype.bindEvent=function(){Au(this.el,"click",this.moveLink)},e.prototype.unBindEvent=function(){Lu(this.el,"click",this.moveLink)},e.prototype.refresh=function(t){var e=hu(t,"link"),n=function(t){if(!t)return{};var e=t.match(/^(?:https?:)?(?:\/\/)?([^\/\?]+)/);return e?{href:t,host:e[1]}:{href:t,host:t}}(e).host,i=this.el;(this._linkData=e)&&""!==e?(i.setAttribute("href",e),i.innerHTML=this.linkTemplate?this.linkTemplate(n):function(t){void 0===t&&(t="");var e=Rt.LINK_TEXT;return'<span class="'+e+'">\n    <span class="'+e+'">'+t+'</span>\n    <i class="'+Rt.ICON+'"></i>\n  </span>'}(n)):this.hide()},e.prototype.show=function(){this._linkData&&""!==this._linkData&&(Pu(this.displayEl,Rt.HIDDEN,!1),this.visibility=!0)},e.prototype.hide=function(){Pu(this.displayEl,Rt.HIDDEN,!0),this.visibility=!1},Ws([Zp],e.prototype,"activate",null),Ws([Qp],e.prototype,"bindEvent",null),Ws([Jp],e.prototype,"unBindEvent",null),Ws([Zp],e.prototype,"refresh",null),Ws([Zp],e.prototype,"show",null),Ws([Zp],e.prototype,"hide",null),e}(op);(Qd=Zd||(Zd={}))[Qd.TOP=Ht.CUSTOM_LAYOUT_POSITION_TOP]="TOP",Qd[Qd.LEFT=Ht.CUSTOM_LAYOUT_POSITION_LEFT]="LEFT",Qd[Qd.RIGHT=Ht.CUSTOM_LAYOUT_POSITION_RIGHT]="RIGHT",Qd[Qd.BOTTOM=Ht.CUSTOM_LAYOUT_POSITION_BOTTOM]="BOTTOM",Qd[Qd.BUTTONS=Ht.CUSTOM_LAYOUT_POSITION_BUTTONS]="BUTTONS";var av=function(n){function t(t){var e=n.call(this)||this;return e.onClickHandler=function(t){e.clickFunction(t,e.index,e.itemData)},e._options=t,e}return js(t,n),t.prototype.initialize=function(t){var e,n,i=this._options,r=i.position,o=i.position?t.querySelector(r):null,s=null!==o?o:t,a=_u(e=i.initialize).call(e,this);this.layoutId=i.id,this.clickFunction=_u(n=i.onClick).call(n,this),this.el=a(s),this.parentElement=s,this.selector=r,this.activate(),this.visibility=!0},t.prototype.defineCustomEvent=function(){this.eventNameMap=this._options.customEvents},t.prototype.bindEvent=function(){Au(this.el,"click",this.onClickHandler)},t.prototype.unbindEvent=function(){Lu(this.el,"click",this.onClickHandler)},t.prototype.listenViewerEvent=function(t){var e=t.eventName,n=t.eventData,i=this._options.onListenViewerEvent;i&&i(e,n)},t.prototype.show=function(){var t=this.selector,e=this.parentElement,n=this.el;Su(n),this.visibility=!0,t===Zd.BOTTOM||t===Zd.TOP?e.style.height=n.offsetHeight+"px":t!==Zd.RIGHT&&t!==Zd.LEFT||(e.style.width=n.offsetWidth+"px")},t.prototype.hide=function(){xu(this.el),this.visibility=!1},t.prototype.toggle=function(){Tu(this.el,this.visibility)},t.prototype.refresh=function(t){var e=t.data,n=t.index,i=this._options.onDataUpdate;this.itemData=e,this.index=n,i&&i(e,n)},t.prototype.activate=function(){this.show(),this.bindEvent()},t.prototype.deactivate=function(){this.unbindEvent(),this.hide()},Ws([Qp],t.prototype,"bindEvent",null),Ws([Jp],t.prototype,"unbindEvent",null),t}(op),lv=t(function(t,e){t.exports=function(){var o={grid:0,filterTarget:null,limit:{x:null,y:null},threshold:0,setCursor:!1,setPosition:!0,smoothDrag:!0,useGPU:!0,onDrag:e,onDragStart:e,onDragEnd:e},a={transform:function(){for(var t=" -o- -ms- -moz- -webkit-".split(" "),e=document.body.style,n=t.length;n--;){var i=t[n]+"transform";if(i in e)return i}}()},l={assign:function(){for(var t=arguments,e=arguments[0],n=arguments.length,i=1;i<n;i++){var r=t[i];for(var o in r)e[o]=r[o]}return e},bind:function(t,e){return function(){t.apply(e,arguments)}},on:function(t,e,n){if(e&&n)l.addEvent(t,e,n);else if(e)for(var i in e)l.addEvent(t,i,e[i])},off:function(t,e,n){if(e&&n)l.removeEvent(t,e,n);else if(e)for(var i in e)l.removeEvent(t,i,e[i])},limit:function(t,e){return e instanceof Array?t<(e=[+e[0],+e[1]])[0]?t=e[0]:t>e[1]&&(t=e[1]):t=+e,t},addEvent:"attachEvent"in Element.prototype?function(t,e,n){t.attachEvent("on"+e,n)}:function(t,e,n){t.addEventListener(e,n,!1)},removeEvent:"attachEvent"in Element.prototype?function(t,e,n){t.detachEvent("on"+e,n)}:function(t,e,n){t.removeEventListener(e,n)}};function t(t,e){var n=l.bind(this.start,this),i=l.bind(this.drag,this),r=l.bind(this.stop,this);if(!h(t))throw new TypeError("Draggable expects argument 0 to be an Element");e=l.assign({},o,e),l.assign(this,{element:t,handle:e.handle&&h(e.handle)?e.handle:t,handlers:{start:{mousedown:n,touchstart:n},move:{mousemove:i,mouseup:r,touchmove:i,touchend:r}},options:e}),this.initialize()}function n(t){return parseInt(t,10)}function u(t){return"currentStyle"in t?t.currentStyle:getComputedStyle(t)}function c(t){return null!=t}function h(t){return t instanceof Element||"undefined"!=typeof HTMLDocument&&t instanceof HTMLDocument}function e(){}return l.assign(t.prototype,{setOption:function(t,e){return this.options[t]=e,this.initialize(),this},get:function(){var t=this.dragEvent;return{x:t.x,y:t.y}},set:function(t,e){var n=this.dragEvent;return n.original={x:n.x,y:n.y},this.move(t,e),this},dragEvent:{started:!1,x:0,y:0},initialize:function(){var t,e=this.element,n=(this.handle,e.style),i=u(e),r=this.options,o=a.transform,s=this._dimensions={height:e.offsetHeight,left:e.offsetLeft,top:e.offsetTop,width:e.offsetWidth};r.useGPU&&o&&("none"===(t=i[o])&&(t=""),n[o]=t+" translate3d(0,0,0)"),r.setPosition&&(n.display="block",n.left=s.left+"px",n.top=s.top+"px",n.width=s.width+"px",n.height=s.height+"px",n.bottom=n.right="auto",n.margin=0,n.position="absolute"),r.setCursor&&(n.cursor="move"),this.setLimit(r.limit),l.assign(this.dragEvent,{x:s.left,y:s.top}),l.on(this.handle,this.handlers.start)},start:function(t){var e=this.getCursor(t),n=this.element;this.useTarget(t.target||t.srcElement)&&(t.preventDefault&&!t.target.getAttribute("contenteditable")?t.preventDefault():t.target.getAttribute("contenteditable")||(t.returnValue=!1),this.dragEvent.oldZindex=n.style.zIndex,n.style.zIndex=1e4,this.setCursor(e),this.setPosition(),this.setZoom(),l.on(document,this.handlers.move))},drag:function(t){var e=this.dragEvent,n=this.element,i=this._cursor,r=this._dimensions,o=this.options,s=r.zoom,a=this.getCursor(t),l=o.threshold,u=(a.x-i.x)/s+r.left,c=(a.y-i.y)/s+r.top;!e.started&&l&&Math.abs(i.x-a.x)<l&&Math.abs(i.y-a.y)<l||(e.original||(e.original={x:u,y:c}),e.started||(o.onDragStart(n,u,c,t),e.started=!0),this.move(u,c)&&o.onDrag(n,e.x,e.y,t))},move:function(t,e){var n=this.dragEvent,i=this.options,r=i.grid,o=this.element.style,s=this.limit(t,e,n.original.x,n.original.y);return!i.smoothDrag&&r&&(s=this.round(s,r)),(s.x!==n.x||s.y!==n.y)&&(n.x=s.x,n.y=s.y,o.left=s.x+"px",o.top=s.y+"px",!0)},stop:function(t){var e,n=this.dragEvent,i=this.element,r=this.options,o=r.grid;l.off(document,this.handlers.move),i.style.zIndex=n.oldZindex,r.smoothDrag&&o&&(e=this.round({x:n.x,y:n.y},o),this.move(e.x,e.y),l.assign(this.dragEvent,e)),this.dragEvent.started&&r.onDragEnd(i,n.x,n.y,t),this.reset()},reset:function(){this.dragEvent.started=!1},round:function(t){var e=this.options.grid;return{x:e*Math.round(t.x/e),y:e*Math.round(t.y/e)}},getCursor:function(t){return{x:(t.targetTouches?t.targetTouches[0]:t).clientX,y:(t.targetTouches?t.targetTouches[0]:t).clientY}},setCursor:function(t){this._cursor=t},setLimit:function(n){var t=function(t,e){return{x:t,y:e}};if(n instanceof Function)this.limit=n;else if(h(n)){var e=this._dimensions,i=n.scrollHeight-e.height,r=n.scrollWidth-e.width;this.limit=function(t,e){return{x:l.limit(t,[0,r]),y:l.limit(e,[0,i])}}}else if(n){var o=c(n.x),s=c(n.y);this.limit=o||s?function(t,e){return{x:o?l.limit(t,n.x):t,y:s?l.limit(e,n.y):e}}:t}else this.limit=t},setPosition:function(){var t=this.element,e=t.style;l.assign(this._dimensions,{left:n(e.left)||t.offsetLeft,top:n(e.top)||t.offsetTop})},setZoom:function(){for(var t=this.element,e=1;t=t.offsetParent;){var n=u(t).zoom;if(n&&"normal"!==n){e=n;break}}this._dimensions.zoom=e},useTarget:function(t){var e=this.options.filterTarget;return!(e instanceof Function)||e(t)},destroy:function(){l.off(this.handle,this.handlers.start),l.off(document,this.handlers.move)}}),t}()}),uv=function(t){function e(){var n=null!==t&&t.apply(this,arguments)||this;return n.seekMode=!1,n.onPlay=function(t){Cp(t),n.trigger(ye)},n.onPause=function(t){Cp(t),n.trigger(Ee)},n.onSoundMuteOn=function(t){Cp(t),n.trigger(Ie)},n.onSoundMuteOff=function(t){Cp(t),n.trigger(be)},n.onProgressButton=function(t){Cp(t)},n.onClickContainer=function(t){Cp(t);var e=t.clientX-n.barLeft;n.seekingMove(e)},n}return js(e,t),e.prototype.initialize=function(t,e){var o=this;void 0===e&&(e={});var n=t.querySelector(Ht.VIDEO_TOOLBAR);return this.el=n,this.layoutId=Mt.VIDEO_TOOLBAR,!1===this._isActivePlugin(this.el,e)&&xu(this.el),this.playButton=n.querySelector(Ht.VIDEO_TOOLBAR_PLAY_BUTTON),this.pauseButton=n.querySelector(Ht.VIDEO_TOOLBAR_PAUSE_BUTTON),this.soundMuteOnButton=n.querySelector(Ht.VIDEO_TOOLBAR_SOUND_MUTE_ON_BUTTON),this.soundMuteOffButton=n.querySelector(Ht.VIDEO_TOOLBAR_SOUND_MUTE_OFF_BUTTON),this.currentTimeText=n.querySelector(Ht.VIDEO_TOOLBAR_CURRENT_TIME),this.durationTimeText=n.querySelector(Ht.VIDEO_TOOLBAR_DURATION_TIME),this.progressBar=n.querySelector(Ht.VIDEO_TOOLBAR_PROGRESS_BAR),this.loadBar=n.querySelector(Ht.VIDEO_TOOLBAR_LOAD_BAR),this.progressPointBtn=n.querySelector(Ht.VIDEO_TOOLBAR_PROGRESS_BTN),this.progressContainer=n.querySelector(Ht.VIDEO_TOOLBAR_PROGRESS_CONTAINER),this.visibility=!1,this.activate(),Fu(this.el),Fu(this.progressBar),Fu(this.progressContainer),this.pointDraggable=new lv(this.progressPointBtn,{setCursor:!0,onDragStart:function(){o.seekMove=!0},onDrag:function(t,e,n,i){var r=(i.targetTouches?i.targetTouches[0]:i).clientX-o.barLeft;o.seekMove=!0,o.checkPointerLimit(r)},onDragEnd:function(){o.seekingMove(),o.seekMove=!1}}),n},e.prototype.defineCustomEvent=function(){var t;this.eventNameMap=((t={})[ye]=ye,t[Ee]=Ee,t[Te]=Te,t[Ie]=Ie,t[be]=be,t)},e.prototype.activate=function(){this.bindEvent()},e.prototype.deactivate=function(){this.unBindEvent()},e.prototype.bindEvent=function(){this.toggleEvent(!0)},e.prototype.unBindEvent=function(){this.toggleEvent(!1)},e.prototype.setElmentSize=function(){var t=this.progressBar.getBoundingClientRect();this.barWidth=this.progressBar.offsetWidth,this.barLeft=t.left,this.pointDraggable.setOption("limit",null)},e.prototype.toggleEvent=function(t){var e=this,n=e.playButton,i=e.pauseButton,r=e.soundMuteOnButton,o=e.soundMuteOffButton,s=e.progressPointBtn,a=e.progressContainer,l=e.onPlay,u=e.onPause,c=e.onSoundMuteOn,h=e.onSoundMuteOff,p=e.onProgressButton,f=e.onClickContainer,d=t?Au:Lu;d(n,"click",l),d(i,"click",u),d(r,"click",c),d(o,"click",h),d(s,"click",p),d(a,"click",f)},e.prototype.refresh=function(t){var e=t.showToolbar,n=t.playing,i=t.currentTime,r=t.durationTime,o=t.bufferedEndTime,s=t.muted,a=this.playButton,l=this.pauseButton,u=this.soundMuteOnButton,c=this.soundMuteOffButton;!0===e&&this.show(),this.currentTime=i,this.renderButtons([a,l],n),this.renderButtons([u,c],s),this.renderDuratonTime(r),this.renderBufferEndBar(o),this.renderCurrentTime(i),this.renderSeekBar(),this.moveSeekPoint()},e.prototype.renderButtons=function(t,e){if("boolean"==typeof e){var n=t[0],i=t[1],r=e?Su:xu;(e?xu:Su)(n),r(i)}},e.prototype.renderCurrentTime=function(t){if("number"==typeof t&&this.currentTimeText){var e=this.durationTime-t;isNaN(e)||(e=0<e?e:0,this.currentTimeText.innerHTML=this.convertTime(e))}},e.prototype.renderBufferEndBar=function(t){if("number"==typeof t&&this.loadBar&&!isNaN(t)){var e=t/this.durationTime;wu(this.loadBar,{transform:"scaleX("+e+")"})}},e.prototype.renderSeekBar=function(){var t=this.currentTime,e=this.durationTime,n=t/e;"number"==typeof t&&"number"==typeof e&&wu(this.progressBar,{transform:"scaleX("+n+")"})},Oh(e.prototype,"seekMove",{get:function(){return this.seekMode},set:function(t){this.seekMode=t},enumerable:!0,configurable:!0}),e.prototype.moveSeekPoint=function(){if(!this.seekMove&&this.progressPointBtn&&"number"==typeof this.currentTime&&"number"==typeof this.durationTime){var t=this.currentTime,e=void 0===t?0:t,n=this.durationTime,i=this.barWidth*(e/n);this.moveSeekPosition=i,wu(this.progressPointBtn,{left:i+"px"})}},e.prototype.seekingMove=function(t){var e=t||this.progressPointBtn.offsetLeft,n=this.durationTime*(e/this.barWidth);(this.moveSeekPosition=t)&&wu(this.progressPointBtn,{left:e+"px"}),this.trigger(Te,{seekTime:n})},e.prototype.checkPointerLimit=function(t){var e=t;e<0?e=0:e>this.barWidth&&(e=this.barWidth),wu(this.progressPointBtn,{left:e+"px",top:"0px"})},e.prototype.renderDuratonTime=function(t){"number"==typeof t&&this.durationTimeText&&!isNaN(t)&&(this.durationTime=t,this.durationTimeText.innerHTML=this.convertTime(t))},e.prototype.resize=function(){this.setElmentSize(),this.moveSeekPoint()},e.prototype.show=function(){Su(this.el),this.visibility=!0,this.setElmentSize(),this.trigger(_e)},e.prototype.hide=function(){xu(this.el),this.visibility=!1,this.trigger(me)},e.prototype.convertTime=function(t){void 0===t&&(t=0);var e=[],n=Math.floor(t/3600),i=Math.floor(t/60)%60,r=Math.floor(t%60);return 0<n&&e.push(n),e.push(i),e.push(r),oo(e).call(e,function(t){return t<10?"0"+t:t}).join(":")},e.prototype.setBottomPosition=function(t){wu(this.el,{bottom:t+"px"})},Ws([Zp],e.prototype,"activate",null),Ws([Qp],e.prototype,"bindEvent",null),Ws([Jp],e.prototype,"unBindEvent",null),Ws([Zp],e.prototype,"refresh",null),Ws([Zp],e.prototype,"resize",null),Ws([Zp],e.prototype,"show",null),Ws([Zp],e.prototype,"hide",null),Ws([Zp],e.prototype,"setBottomPosition",null),e}(op),cv=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return js(e,t),e}(Ph);H({target:"Array",stat:!0},{isArray:Lr});var hv=D.Array.isArray,pv=function(){function t(){this.isForward=!1}return t.prototype.forward=function(t){this.isForward=!0,$a().isUnbackableBrowser?(this.prevLocation=location.href,window.history.replaceState(null,null,t)):window.history.pushState(null,null,t)},t.prototype.back=function(){!1!==this.isForward&&($a().isUnbackableBrowser?window.history.replaceState(null,null,this.prevLocation):window.history.back())},t.prototype.replace=function(t){window.history.replaceState(null,null,t)},t}(),fv={scrollY:0,centerY:0,width:0,height:0,isPlaying:!1,elRootOverflow:null,fullScreen:!1,open:!1,resizeTimer:null,currentItemType:null,videoPlayed:!1},dv=null,vv={set scrollY(t){fv.scrollY=t},get scrollY(){return fv.scrollY},set centerY(t){fv.centerY=t},get centerY(){return fv.centerY},set width(t){fv.width=t},get width(){return fv.width},set height(t){fv.height=t},get height(){return fv.height},set isPlaying(t){fv.isPlaying=t},get isPlaying(){return fv.isPlaying},set elRootOverflow(t){fv.elRootOverflow=t},get elRootOverflow(){return fv.elRootOverflow},set fullScreen(t){fv.fullScreen=t},get fullScreen(){return fv.fullScreen},set open(t){fv.open=t},get open(){return fv.open},set resizeTimer(t){fv.resizeTimer=t},get resizeTimer(){return fv.resizeTimer},set currentItemType(t){fv.currentItemType=t},get currentItemType(){return fv.currentItemType},set videoPlayed(t){fv.videoPlayed=t},get videoPlayed(){return fv.videoPlayed}},gv=function(){return vv},_v=function(t){dv=t},mv=function(){return dv},yv=function(i){function t(t){var o=i.call(this)||this;o.bypassEvent=function(t,e){var n=e||t.eventType,i={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(i[r]=t[r]);o.trigger(n,i)},o._options=uu({preFixClass:"civ",elRoot:document.body,elScrollBody:null,elItemList:document.body,itemData:[],urlCallback:null,useScrollSync:!0,useDownload:!0,loadImageTimeout:2e3,supportVersion:{IOS:10,ANDROID:5,IE:10},dominantColor:{useColor:!1,paramName:"cors",paramValue:"image_viewer"}},t||{});var e,n=o._options.supportVersion;return o.isNotSupportBrowser=!$a().supportBrowser(n),e=o._options.preFixClass,Nt=e,o.initalize(),o.creatViewer(),o}return js(t,i),t.prototype.initalize=function(){var t=new pv,e=new Fh(this._options.itemData,{vodServiceId:hu(this._options,"videoPlayerSettings.vodServiceId"),loadImageTimeout:this._options.loadImageTimeout});this.itemModelData=e,_v(e),this.historyManager=t},t.prototype.open=function(t,e){if(void 0===e&&(e=!0),this.isNotSupportBrowser)this.unsupportViewer.open();else if(!gv().isPlaying){var n="number"==typeof t?t:this.itemModelData.getIndexByUrl(t.src);this._options.urlCallback&&e&&this.historyManager.forward(this._options.urlCallback(String(n))),this.viewer.open(n)}},t.prototype.close=function(t){this.isNotSupportBrowser&&this.unsupportViewer.close(),this.viewer.close(t)},t.prototype.getCurrent=function(){return this.isNotSupportBrowser?null:this.itemModelData.getCurrent()},t.prototype.addData=function(t){if(!this.isNotSupportBrowser){var e=hv(t)?t:[t],n=this.itemModelData.length||0;this.itemModelData.add(e,n)}},t.prototype.removeData=function(t){this.isNotSupportBrowser||this.itemModelData.remove(t)},t.prototype.addLayout=function(t){this.isNotSupportBrowser||this.viewer.addLayout(t)},t.prototype.removeLayout=function(t){this.isNotSupportBrowser||this.viewer.removeLayout(t)},t.prototype.getBypassEvents=function(t){var n=this;return At(t).call(t,function(t,e){return t[e]=n.bypassEvent,t},{})},t.prototype.destroy=function(){this.viewer.destroy()},t.VERSION="1.1.3",t}(Ph),Ev=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.openedItemCheck=!1,t}return js(t,e),t.prototype.addLayout=function(t){this.injectData.layoutPool.addLayout(t)},t.prototype.triggerViewerEvent=function(t,e){this.injectData.customLayoutsProxy.listenViewerEvent(t,e),this.trigger(t,e)},t.prototype.removeLayout=function(t){this.injectData.layoutPool.removeLayout(t)},t}(Ph);function Iv(t){return t+"_"+1e3*Math.random()+(new Date).getTime()}var bv,Tv='\n  <svg xmlns="http://www.w3.org/2000/svg" width="18" height="18" viewBox="0 0 18 18">\n    <g fill="none" fill-rule="nonzero">\n      <path fill="#000" fill-opacity=".1" d="M5.152 2.767A1.25 1.25 0 1 1 6.92.999L15 9.08a1.25 1.25 0 0 1 0 1.768L6.92 18.93a1.25 1.25 0 1 1-1.768-1.767l7.197-7.198-7.197-7.197z"/>\n      <path fill="#FFF" d="M5.152 1.767A1.25 1.25 0 1 1 6.92-.001L15 8.08a1.25 1.25 0 0 1 0 1.768L6.92 17.93a1.25 1.25 0 1 1-1.768-1.767l7.197-7.198-7.197-7.197z"/>\n    </g>\n  </svg>\n',Sv='\n  <svg xmlns="http://www.w3.org/2000/svg" width="70" height="70" viewBox="0 0 70 70">\n    <g fill="none">\n      <path fill="#000" stroke="#000" d="M20.444 4.348c.539-.539.539-1.412 0-1.951-.539-.54-1.412-.54-1.951 0L1.397 19.493c-.54.539-.54 1.412 0 1.951L18.493 38.54c.539.54 1.412.54 1.951 0 .539-.538.539-1.412 0-1.95L4.324 20.468l16.12-16.121z" opacity=".1" transform="matrix(-1 0 0 1 49 15)"/>\n      <path fill="#FFF" stroke="#FFF" d="M20.444 3.348c.539-.539.539-1.412 0-1.951-.539-.54-1.412-.54-1.951 0L1.397 18.493c-.54.539-.54 1.412 0 1.951L18.493 37.54c.539.54 1.412.54 1.951 0 .539-.538.539-1.412 0-1.95L4.324 19.468l16.12-16.121z" transform="matrix(-1 0 0 1 49 15)"/>\n    </g>\n  </svg>\n',xv='\n  <svg xmlns="http://www.w3.org/2000/svg" width="30" height="30" viewBox="0 0 30 30">\n    <g fill="none" fill-rule="evenodd" stroke="#FFF" stroke-linecap="round" stroke-linejoin="round" stroke-width="2">\n      <path d="M15.605 8.933l5.696 5.696a.5.5 0 0 1 0 .708l-5.696 5.696M8.605 8.933l5.696 5.696a.5.5 0 0 1 0 .708l-5.696 5.696"/>\n    </g>\n  </svg>\n',wv='\n<svg xmlns="http://www.w3.org/2000/svg" width="64" height="44" viewBox="0 0 64 44">\n  <g fill="#FFF" fill-rule="evenodd">\n    <path d="M58 2v18.768a13.61 13.61 0 0 0-6.475-.625l-7.364-7.136h-.001a1 1 0 0 0-1.322-.061l-.092.085L28.64 27.63a1 1 0 0 1-1.28.134l-.096-.074-4.402-3.83a1 1 0 0 0-1.318.004l-.088.089L10.2 36.702a.5.5 0 0 0 .285.823l.09.008h30.037A13.443 13.443 0 0 0 42.273 41H6V2h52zM18.29 8.658c-2.61 0-4.726 2.13-4.726 4.757 0 2.626 2.116 4.756 4.727 4.756 2.61 0 4.727-2.13 4.727-4.756 0-2.627-2.116-4.757-4.727-4.757z"/>\n    <path d="M53.5 44C59.299 44 64 39.299 64 33.5S59.299 23 53.5 23 43 27.701 43 33.5 47.701 44 53.5 44zm-.455-16.705h1.5a.5.5 0 0 1 .5.5v6.908a.5.5 0 0 1-.5.5h-1.5a.5.5 0 0 1-.5-.5v-6.908a.5.5 0 0 1 .5-.5zm0 9.49h1.5a.5.5 0 0 1 .5.5v1.5a.5.5 0 0 1-.5.5h-1.5a.5.5 0 0 1-.5-.5v-1.5a.5.5 0 0 1 .5-.5z"/>\n  </g>\n</svg>\n',Pv=function(){var t=Iv("prefix__big_play_a"),e=Iv("prefix__big_play_b");return'\n<svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" width="95" height="95" viewBox="0 0 30 30">\n    <defs>\n        <path id="'+t+'" d="M0 .745v14.509c0 .142.037.28.108.4.204.348.633.45.956.23l10.614-7.255c.086-.058.16-.138.214-.229.205-.349.11-.809-.214-1.03L1.064.116C.954.04.824 0 .692 0 .31 0 0 .334 0 .745z"/>\n    </defs>\n    <g fill="none" fill-rule="evenodd" transform="translate(9 7)">\n        <mask id="'+e+'" fill="#fff">\n            <use xlink:href="#'+t+'"/>\n        </mask>\n        <path fill="#FFF" d="M-2 19L15 19 15 -2 -2 -2z" mask="url(#'+e+')"/>\n        <g fill="#FFF" fill-rule="nonzero" mask="url(#'+e+')" class="control_svg">\n            <path d="M0 0H30V30H0z" transform="translate(-9 -7)"/>\n        </g>\n    </g>\n</svg>\n'},Ov=function(){var t=Iv("prefix__big_pause_a"),e=Iv("prefix__big_pause_b");return'\n<svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" width="95" height="95" viewBox="0 0 30 30">\n    <defs>\n        <path id="'+t+'" d="M11 8h2c.552 0 1 .448 1 1v12c0 .552-.448 1-1 1h-2c-.552 0-1-.448-1-1V9c0-.552.448-1 1-1zm6 0h2c.552 0 1 .448 1 1v12c0 .552-.448 1-1 1h-2c-.552 0-1-.448-1-1V9c0-.552.448-1 1-1z"/>\n    </defs>\n    <g fill="none" fill-rule="evenodd">\n        <mask id="'+e+'" fill="#fff">\n            <use xlink:href="#'+t+'"/>\n        </mask>\n        <use fill="#FFF" xlink:href="#prefix__big_pause_a"/>\n        <g fill="#FFF" fill-rule="nonzero" mask="url(#'+e+')" class="control_svg">\n            <path d="M0 0H30V30H0z"/>\n        </g>\n    </g>\n</svg>\n'};function Av(t){return'<i class="'+bv+'__url_icon">\n  <svg xmlns="http://www.w3.org/2000/svg" width="14" height="14" viewBox="0 0 14 14">\n    <g fill="#FFF" fill-rule="nonzero" stroke="#FFF" stroke-width=".2">\n        <path d="M3.96 10.76a1.955 1.955 0 0 1-.24-2.751l1.235-1.472a.599.599 0 0 0-.917-.77L2.803 7.24a3.151 3.151 0 0 0 4.826 4.05l1.235-1.472a.599.599 0 0 0-.917-.77L6.712 10.52a1.955 1.955 0 0 1-2.752.241z"/>\n        <path d="M6.508 8.704l2.43-2.896a.63.63 0 1 0-.965-.81l-2.43 2.896a.63.63 0 0 0 .965.81z"/>\n        <path d="M6.852 2.413L5.617 3.885a.598.598 0 1 0 .917.77l1.235-1.473a1.955 1.955 0 0 1 2.752-.24c.825.692.933 1.926.24 2.751L9.526 7.165a.598.598 0 1 0 .917.77l1.235-1.472a3.151 3.151 0 0 0-4.826-4.05z"/>\n    </g>\n  </svg>\n</i>\n  <span class="'+bv+'__url">'+t+"</span>"}var Lv,Cv,Dv,Mv,Nv,Rv,kv,Vv,Bv="BROWSER_EXCEPTION",Fv="IMAGE_EXCEPTION",zv="MEDIA_EXCEPTION",Gv=function(t){var e,n=t.type,i=t.message,r=t.btnText;return n===Fv?e=wv:n!==Bv&&n!==zv||(e='\n<svg xmlns="http://www.w3.org/2000/svg" width="52" height="52" viewBox="0 0 52 52">\n  <g fill="#FFF" fill-rule="nonzero" opacity=".7">\n    <path d="M25 14h2v17.308h-2zM25 36.115h2v2h-2z"/>\n    <path d="M26 .25C11.779.25.25 11.779.25 26S11.779 51.75 26 51.75 51.75 40.221 51.75 26 40.221.25 26 .25zm0 1.5c13.393 0 24.25 10.857 24.25 24.25S39.393 50.25 26 50.25 1.75 39.393 1.75 26 12.607 1.75 26 1.75z"/>\n  </g>\n</svg>\n\n'),'\n    <div class="'+Nt+'__placeholder--error">\n      <div class="'+Nt+'__error_area">\n        '+e+'\n        <p class="'+Nt+'__text">'+i+"</p>\n        "+(r?'<a href="#" role="button" class="'+Nt+"__error_btn "+Nt+'__btn--close">'+r+"</a>":"")+"\n      </div>\n    </div>\n  "},Hv=function(t){return'<div class="'+Lv+"__thumb_list--loading "+Lv+'__list_loading" style="height:'+t+'px">\n            <span class="'+Lv+'__dot __imv_dot"></span>\n            <span class="'+Lv+"__dot "+Lv+'__dot1 __imv_dot __imv_dot1"></span>\n            <span class="'+Lv+"__dot "+Lv+'__dot2 __imv_dot __imv_dot2"></span>\n          </div>'},Uv=function(t){var e=t.thumbUrl,n=t.title,i=t.index,r=t.imgType;return'<li class="'+Lv+"__thumb_item "+Lv+"__side_index_item "+Lv+"__item__"+i+'" style="width:100%;">\n    <a href="#" class="'+Lv+"__thumb_link "+Lv+'__item_link" role="button" data-index="'+i+'">\n      <div class="'+Lv+"__thumb_type "+Lv+"--loading "+Lv+"--"+r+" "+Lv+'__load_item">\n        <div class="'+Lv+"__thumb_size "+Lv+"__item_size "+Lv+'__item_wrapper" style="display:none">\n          <img data-index="'+i+'" data-src="'+e+'" class="'+Lv+"__thumb_img "+Lv+"__thumb_type "+Lv+'--transparent" alt="'+n+'" style="position:relative;">\n        </div>\n      </div>\n      <div class="'+Lv+"__thumb_type  "+Lv+"--fail "+Lv+'__fail_item" style="display:none">\n        '+wv+"\n      </div>\n    </a>\n  </li>"},jv='\n\x3c!--[D]\n  - 전체화면일 경우 civ__full_screen 추가\n  - 전체화면에서 인덱스영역을 열때는 civ__is_side_open 추가\n  - 전체화면에서 인덱스 영역 토글할때 애니메이션을 적용하려면 civ__with_animation 추가\n--\x3e\n<div class="'+Nt+'" style="display:none; position:absolute;">\n  <a class="'+Nt+'__btn_close" href="#" role="button" aria-label="닫기">\n    \n  <svg xmlns="http://www.w3.org/2000/svg" width="20" height="20" viewBox="0 0 20 20">\n    <path fill="#FFF" fill-rule="nonzero" d="M2.658.675a1.167 1.167 0 1 0-1.65 1.65l7.509 7.508-7.509 7.509a1.167 1.167 0 1 0 1.65 1.65l7.509-7.509 7.508 7.509c.423.423 1.09.453 1.548.09l.102-.09a1.167 1.167 0 0 0 0-1.65l-7.508-7.509 7.508-7.508a1.167 1.167 0 1 0-1.65-1.65l-7.508 7.508z"/>\n  </svg>\n\n  </a>\n  \x3c!--커스텀영역--\x3e\n  '+('\n  <div style="position:absolute;top:0px;width:100%; height:0px; z-index:10" class="'+Nt+'__viewer_custom_top"></div>\n')+"  \n  "+('\n  <div style="position:absolute;top:0px;left:0px;width:0px; height:100%;  z-index:10;" class="'+Nt+'__viewer_custom_left"></div>\n')+"  \n  "+('\n  <div style="position:absolute;top:0px;right:0px;width:0px; height:100%; z-index:10;" class="'+Nt+'__viewer_custom_right"></div> \n')+'  \n  <div class="'+Nt+'_minimum">\n    <div class="'+Nt+'_wrap">\n      '+('\n  \x3c!-- 상단영역 --\x3e\n    <header class="'+(bv=Rv=Nt)+"__header _"+Rv+'_hud __imv_header"> \x3c!-- HEADER.parent --\x3e\n    <div class="'+Rv+'__caption">\n      <div class="'+Rv+'__caption_inner">\n        <div class="'+Rv+'__caption_desc"></div>\n      </div>\n\n      \x3c!--div class="'+Rv+'__tag_list">\n        <a href="#" class="'+Rv+'__tag"></a>\n      </div--\x3e\n    </div>\n\n    <div class="'+Rv+'__header__btn_wrap"> \x3c!-- HEADER.el --\x3e\n      <a class="'+Rv+'__url_link" role="button" href="#" target="_blank">\n      </a>\n      \x3c!-- [D] 확대할 수 있는 최대 배율이라면 .civ__is_maximum 추가 --\x3e\n      <div class="'+Rv+"__zoom_wrap "+Rv+'__scale_controller">\n        <a class="'+Rv+"__header__btn "+Rv+'__header__btn--zoom" href="#" role="button">\n          \n  <svg xmlns="http://www.w3.org/2000/svg" width="30" height="30" viewBox="0 0 30 30" class="civ__icon_zoom_in">\n  <g fill="none" fill-rule="evenodd" stroke="#FFF" stroke-linecap="round" transform="translate(7 6.5)">\n    <circle cx="6.5" cy="6.5" r="6.5" stroke-linejoin="round" stroke-width="2"/>\n    <path stroke-linejoin="round" stroke-width="2.2" d="M11.5 11.5l4.6 4.592"/>\n    <g stroke-width="1.5">\n      <path d="M6.5 4v5M9 6.5H4"/>\n    </g>\n  </g>\n  </svg>\n\n          \n  <svg xmlns="http://www.w3.org/2000/svg" width="30" height="30" viewBox="0 0 30 30" class="civ__icon_zoom_out">\n    <g fill="none" fill-rule="evenodd" stroke="#FFF" stroke-linecap="round" transform="translate(7 6.5)">\n      <circle cx="6.5" cy="6.5" r="6.5" stroke-linejoin="round" stroke-width="2"/>\n      <path stroke-linejoin="round" stroke-width="2.2" d="M11.5 11.5l4.6 4.592"/>\n      <path stroke-width="1.5" d="M9 6.5H4"/>\n    </g>\n  </svg>\n\n          <div class="'+Rv+'__header__btn_label">확대·축소</div>\n          \x3c!-- [D] zoom버튼 클릭시에만 노출 --\x3e\n        </a>\n        <div class="'+Rv+"__controller "+Rv+'__scale_percent_controller">\n          <span class="'+Rv+'__controller_percent"></span>\n          <a href="#" role="button" class="'+Rv+"__controller_btn "+Rv+'__controller_btn--minus">\n<svg xmlns="http://www.w3.org/2000/svg" width="12" height="12" viewBox="0 0 12 12">\n  <path fill="none" fill-rule="evenodd" stroke="#FFF" stroke-linecap="round" stroke-width="2.2" d="M6 10.5L6 1.5" transform="rotate(90 6 6)"/>\n</svg>\n</a>\n          <a href="#" role="button" class="'+Rv+"__controller_btn "+Rv+'__controller_btn--plus">\n<svg xmlns="http://www.w3.org/2000/svg" width="12" height="13" viewBox="0 0 12 13">\n  <g fill="none" fill-rule="evenodd" stroke="#FFF" stroke-linecap="round" stroke-width="2.2">\n    <path d="M4.5 0L4.5 9M9 4.5L0 4.5" transform="translate(1.545 1.545)"/>\n  </g>\n</svg>\n</a>\n        </div>\n      </div>\n      \x3c!-- [D] 클릭시 .civ__is_clicked 추가 --\x3e\n      <a class="'+Rv+"__header__btn "+Rv+'__header__btn--download" href="#" role="button">\n        \n  <svg xmlns="http://www.w3.org/2000/svg" width="30" height="30" viewBox="0 0 30 30">\n    <g fill="none" fill-rule="evenodd" stroke="#FFF" stroke-linecap="round">\n        <path stroke-linejoin="round" stroke-width="2.2" d="M23.5 19v2a2 2 0 0 1-2 2h-13a2 2 0 0 1-2-2v-2"/>\n        <path stroke-width="2.2" d="M15 7v9"/>\n        <path stroke-linejoin="round" stroke-width="2" d="M18.536 13.5L15 17.036 11.464 13.5"/>\n    </g>\n  </svg>\n\n        <div class="'+Rv+'__header__btn_label">원본 저장</div>\n      </a>\n      <span class="'+Rv+'__shared_button" style="display:inline-block;">\n        <a class="'+Rv+"__header__btn "+Rv+'__header__btn--share" href="#" role="button" style="display:none">\n          \n  <svg xmlns="http://www.w3.org/2000/svg" width="30" height="30" viewBox="0 0 30 30">\n    <path fill="#FFF" fill-rule="nonzero" d="M16.324 11.487C10.824 11.723 6 16.815 6 20.945c0 .385.466.586.756.328 3.419-3.037 6.693-3.775 9.365-3.254l.203.043v4.141c0 .392.48.59.767.318l7.772-7.38a.436.436 0 0 0 0-.635l-7.772-7.38c-.287-.273-.767-.074-.767.318v4.043z"/>\n  </svg>\n\n          <div class="'+Rv+'__header__btn_label">공유</div>\n        </a>\n      </span>\n      <span class="'+Rv+'__viewer_custom_buttons" style="display:inline-block;"></span>      \n      \x3c!-- [D] 전체화면이라면 .civ__is_on 추가 --\x3e\n      <a class="'+Rv+"__header__btn "+Rv+'__header__btn--full" href="#" role="button">\n        \n  <svg xmlns="http://www.w3.org/2000/svg" width="30" height="30" viewBox="0 0 30 30" class="civ__icon_full_on">\n    <g fill="none" fill-rule="evenodd" stroke="#FFF" stroke-linecap="round" stroke-linejoin="round">\n      <path stroke-width="2" d="M17.833 7.444h4.723v4.723"/>\n      <path stroke-width="2.2" d="M22.083 7.916l-5.34 5.478"/>\n      <g>\n        <path stroke-width="2" d="M12.167 22.556H7.444v-4.723"/>\n        <path stroke-width="2.2" d="M13.4 16.889l-5.295 5.194"/>\n      </g>\n    </g>\n  </svg>\n\n        \n  <svg xmlns="http://www.w3.org/2000/svg" width="30" height="30" viewBox="0 0 30 30"  class="civ__icon_full_off">\n    <g fill="none" fill-rule="evenodd" stroke="#FFF" stroke-linecap="round" stroke-linejoin="round">\n      <path stroke-width="2" d="M22 13h-5V8"/>\n      <path stroke-width="2.2" d="M23 7l-5.1 5.3"/>\n      <g>\n        <path stroke-width="2" d="M8.5 16.5h5v5"/>\n        <path stroke-width="2.2" d="M12.5 17.5l-5 5.3"/>\n      </g>\n    </g>\n  </svg>\n\n        <div class="'+Rv+'__header__btn_label">전체화면</div>\n      </a>\n      <a class="'+Rv+"__header__btn "+Rv+"__header__btn--close "+Rv+'__viewer_close" href="#" role="button">\n        \n  <svg xmlns="http://www.w3.org/2000/svg" width="30" height="30" viewBox="0 0 30 30">\n    <g fill="none" fill-rule="evenodd" stroke="#FFF" stroke-linecap="round" stroke-linejoin="round" stroke-width="2.2">\n      <path d="M21.667 8.333L8.01 21.983M8.333 8.333l13.656 13.65"/>\n    </g>\n  </svg>\n\n        <div class="'+Rv+'__header__btn_label">닫기</div>\n      </a>\n      \x3c!--[D] 열려야 하는경우 .civ__open_side 추가--\x3e\n      <a href="#" class="'+Rv+'__index_toggle_btn">'+xv+'</a>\n    </div>\n    <a class="'+Rv+"__header__number __imv_header_indicator "+Rv+'__open" href="javascript:void(0);" role="button" style="display:none"> <div style="opacity: 1;"><strong class="'+Rv+'__current"></strong> / <span class="'+Rv+'__length"></span><i class="'+Rv+'__icon"></i></div></a>\n  </header>\n')+"\n      "+('\n  <div class="'+(Nv=Nt)+'__content">\n    \x3c!-- [D] index모드 '+Nv+"__panel--index 클래스 토글 --\x3e\n    \x3c!-- [D] vr일때 "+Nv+'__panel--360 클래스 토글 --\x3e\n    <div class="'+Nv+'__panel">\n      <div class="'+Nv+'__img_wrap">\n        <img class="'+Nv+'__img">\n      </div>\n      <div class="'+Nv+'__video_wrap">\n        <div class="'+Nv+'__buttons">\n          <div class="'+Nv+'__play_button">\n            '+Pv()+'\n          </div>\n          <div class="'+Nv+'__pause_button">\n            '+Ov()+'\n          </div>\n        </div>\n        <div class="'+Nv+'__video"></div>\n      </div>\n      <div class="'+Nv+'__placeholder--loading" style="display: none;">\n        <span class="'+Nv+'__dot __imv_dot"></span>\n        <span class="'+Nv+"__dot "+Nv+'__dot1 __imv_dot __imv_dot1"></span>\n        <span class="'+Nv+"__dot "+Nv+'__dot2 __imv_dot __imv_dot2"></span>\n      </div>\n    </div>\n    <div class="'+Nv+'__panel">\n      <div class="'+Nv+'__img_wrap">\n        <img class="'+Nv+'__img">\n      </div>\n      <div class="'+Nv+'__video_wrap">\n        <div class="'+Nv+'__buttons">\n          <div class="'+Nv+'__play_button">\n            '+Pv()+'\n          </div>\n          <div class="'+Nv+'__pause_button">\n            '+Ov()+'\n          </div>\n        </div>\n        <div class="'+Nv+'__video"></div>\n      </div>\n      <div class="'+Nv+'__placeholder--loading __imv__placeholder--loading" style="display: none;">\n        <span class="'+Nv+'__dot __imv_dot"></span>\n        <span class="'+Nv+"__dot "+Nv+'__dot1 __imv_dot __imv_dot1"></span>\n        <span class="'+Nv+"__dot "+Nv+'__dot2 __imv_dot __imv_dot2"></span>\n      </div>\n    </div>\n    <div class="'+Nv+'__panel">\n      <div class="'+Nv+'__img_wrap">\n        <img class="'+Nv+'__img">\n      </div>\n      <div class="'+Nv+'__video_wrap">\n        <div class="'+Nv+'__buttons">\n          <div class="'+Nv+'__play_button">\n            '+Pv()+'\n          </div>\n          <div class="'+Nv+'__pause_button">\n            '+Ov()+'\n          </div>\n        </div>\n        <div class="'+Nv+'__video"></div>\n      </div>\n      <div class="'+Nv+'__placeholder--loading" style="display: none;">\n        <span class="'+Nv+'__dot __imv_dot"></span>\n        <span class="'+Nv+"__dot "+Nv+'__dot1 __imv_dot __imv_dot1"></span>\n        <span class="'+Nv+"__dot "+Nv+'__dot2 __imv_dot __imv_dot2"></span>\n      </div>\n    </div>\n  </div>\n')+"\n      "+('\n  <section class="'+(Mv=Nt)+'__index">\n    <div class="'+Mv+'__index_count">\n      <span class="'+Mv+"__index_count_now "+Mv+'__current"></span> / <span class="'+Mv+'__length"></span>\n    </div>\n    <div class="'+Mv+'__thumb_root">\n      <a href="#" role="button" class="'+Mv+"__thumb_arrow "+Mv+'__thumb_arrow--prev" aria-label="이전">'+Tv+'</a>\n      <div class="'+Mv+'__thumbs_wrapper">\n        <ul class="'+Mv+'__thumbs"></ul>\n      </div>\n      <a href="#" role="button" class="'+Mv+"__thumb_arrow "+Mv+'__thumb_arrow--next" aria-label="다음">'+Tv+"</a>\n    </div>\n  </section>\n")+"\n      "+('\n<div class="'+(Dv=Nt)+"__control_wrap "+Dv+'__video_toolbar" style="display:none;">\n  <div class="'+Dv+'__control_box">\n    <div class="'+Dv+'__progress_container">\n      <div class="'+Dv+"__progress_bar "+Dv+'__video_toolbar_progress_container">\n      \x3c!-- [D] aria-value, aria-valuetext를 현재 영상을 시청한 시간만큼 수정하고 퍼센트로 표현해주세요 --\x3e\n        <div class="'+Dv+'__progress_baseline" aria-label="영상 탐색 슬라이더" aria-valuemin="0" aria-valuemin="100" aria-valuenow="HH시간 MM분 SS초 n% 재생 중" aria-valuetext="HH시간 MM분 SS초 n% 재생 중">\n        \x3c!-- [D] 전체 영상 길이에서 현재까지 시청한 영상 시간만큼 scaleX를 수정해주세요(값 : 0.0 ~ 1.0)--\x3e\n        <div class="'+Dv+"__progress_play "+Dv+'__video_toolbar_progressbar" style="transform: scaleX(0);"></div>\n        \x3c!-- [D] 전체 영상 길이에서 현재까지 로딩된 영상 시간만큼 scaleX를 수정해주세요(값 : 0.0 ~ 1.0) --\x3e\n          <div class="'+Dv+"__progress_load "+Dv+'__video_toolbar_loadbar" style="transform: scaleX(0);"></div>\n        </div>\n        \x3c!-- [D] 현재 시청 중인 시간 위치로 translateX를 수정해주세요(px단위) --\x3e\n        <div style="position:relative; margin-top: -7px;">\n        <div class="'+Dv+"__progress_btn_area "+Dv+'__video_toolbar_progress_btn">\n          <button type="button" class="'+Dv+'__progress_btn" aria-label="동영상 탐색"></button>\n        </div>\n        </div>\n      </div>\n      <div class="'+Dv+'__time_display">\n        \x3c!-- [D] 현재 영상을 시청 시간으로 수정해주세요 --\x3e\n        <span class="'+Dv+"__time_current "+Dv+'__video_toolbar_current_time" aria-label="HH시간 MM분 SS초 재생 중"></span>\n        \x3c!-- [D] 영상 전체 시간으로 수정해주세요 --\x3e\n        <span class="'+Dv+"__time_duration "+Dv+'__video_toolbar_duration_time" aria-label="동영상 길이 HH시간 MM분 SS초"></span>\n      </div>\n    </div>\n    <div class="'+Dv+'__control_btns">\n      <div class="'+Dv+'__play_area">\n        \x3c!-- [D] 현재 display: block인 아이콘의 aria-label을 표시해주세요 --\x3e\n        <a href="#" class="'+Dv+'__control_btn" aria-label="재생" role="button">\n          \x3c!-- [D] 재생/일시정지마다 하위 아이콘에 display:none을 번갈아가며 적용해주세요 --\x3e\n          <span class="'+Dv+"__icon_play "+Dv+'__video_toolbar_play" aria-label="재생" style="display: none;">\n            \n<svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" width="30" height="30" viewBox="0 0 30 30">\n    <defs>\n        <path id="prefix__play_a" d="M0 .745v14.509c0 .142.037.28.108.4.204.348.633.45.956.23l10.614-7.255c.086-.058.16-.138.214-.229.205-.349.11-.809-.214-1.03L1.064.116C.954.04.824 0 .692 0 .31 0 0 .334 0 .745z"/>\n    </defs>\n    <g fill="none" fill-rule="evenodd" transform="translate(9 7)">\n        <mask id="prefix__play_b" fill="#fff">\n            <use xlink:href="#prefix__play_a"/>\n        </mask>\n        <path fill="#FFF" d="M-2 19L15 19 15 -2 -2 -2z" mask="url(#prefix__play_b)"/>\n        <g fill="#FFF" fill-rule="nonzero" mask="url(#prefix__play_b)" class="control_svg">\n            <path d="M0 0H30V30H0z" transform="translate(-9 -7)"/>\n        </g>\n    </g>\n</svg>\n\n          </span>\n          <span class="'+Dv+"__icon_pause "+Dv+'__video_toolbar_pause" aria-label="일시정지" style="display: none;">\n            \n<svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" width="30" height="30" viewBox="0 0 30 30">\n    <defs>\n        <path id="prefix__pause_a" d="M11 8h2c.552 0 1 .448 1 1v12c0 .552-.448 1-1 1h-2c-.552 0-1-.448-1-1V9c0-.552.448-1 1-1zm6 0h2c.552 0 1 .448 1 1v12c0 .552-.448 1-1 1h-2c-.552 0-1-.448-1-1V9c0-.552.448-1 1-1z"/>\n    </defs>\n    <g fill="none" fill-rule="evenodd">\n        <mask id="prefix__pause_b" fill="#fff">\n            <use xlink:href="#prefix__pause_a"/>\n        </mask>\n        <use fill="#FFF" xlink:href="#prefix__pause_a"/>\n        <g fill="#FFF" fill-rule="nonzero" mask="url(#prefix__pause_b)" class="control_svg">\n            <path d="M0 0H30V30H0z"/>\n        </g>\n    </g>\n</svg>\n\n          </span>\n        </a>\n      </div>\n      <div class="'+Dv+'__volume_area">\n        \x3c!-- [D] 현재 display: block인 아이콘의 aria-label을 표시해주세요 --\x3e\n        <a href="#" class="'+Dv+'__control_btn" aria-label="음소거" role="button">\n          \x3c!-- [D] 음소거/해제시 하위 아이콘에 display:none을 번갈아가며 적용해주세요 --\x3e\n          <span class="'+Dv+"__icon_sound_on "+Dv+'__video_toolbar_sound_mute_on" aria-label="음소거" style="display: none;">\n            \n<svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" width="30" height="30" viewBox="0 0 30 30">\n    <defs>\n        <path id="prefix__sound_on_a" d="M10.235.14c.39-.325.981-.048.981.46V15.4c0 .507-.59.784-.98.46l-4.76-3.97H.935c-.517 0-.936-.42-.936-.937V5.045c0-.516.42-.935.935-.935h4.54l4.76-3.97zm3.932 4.177c.985.984 1.527 2.292 1.527 3.683 0 1.39-.542 2.698-1.527 3.683-.146.146-.337.22-.528.22-.192 0-.383-.074-.529-.22-.292-.292-.292-.765 0-1.057.702-.703 1.09-1.635 1.09-2.626 0-.992-.388-1.924-1.09-2.626-.292-.292-.292-.765 0-1.057.292-.292.765-.292 1.057 0zM15.83.22C17.909 2.3 19.055 5.062 19.055 8c0 2.938-1.146 5.701-3.226 7.781-.146.146-.337.22-.53.22-.19 0-.381-.074-.527-.22-.292-.292-.292-.766 0-1.057 3.707-3.708 3.707-9.74 0-13.448-.292-.292-.292-.765 0-1.057.292-.292.765-.292 1.057 0z"/>\n    </defs>\n    <g fill="none" fill-rule="evenodd" transform="translate(5 7)">\n        <mask id="prefix__sound_on_b" fill="#fff">\n            <use xlink:href="#prefix__sound_on_a"/>\n        </mask>\n        <use fill="#FFF" xlink:href="#prefix__sound_on_a"/>\n        <g fill="#FFF" fill-rule="nonzero" mask="url(#prefix__sound_on_b)" class="control_svg">\n            <path d="M0 0H30V30H0z" transform="translate(-5 -7)"/>\n        </g>\n    </g>\n</svg>\n\n          </span>\n          <span class="'+Dv+"__icon_sound_off "+Dv+'__video_toolbar_sound_mute_off" aria-label="음소거 해제" style="display: none;">\n            \n<svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" width="30" height="30" viewBox="0 0 30 30">\n    <defs>\n        <path id="prefix__sound_off_a" d="M11.216.6v5.684l-4.174-3.48L10.235.14c.39-.325.981-.048.981.46zM14.2 8c0-.991-.387-1.924-1.089-2.625-.292-.292-.292-.766 0-1.058.292-.292.765-.292 1.057 0 .985.985 1.527 2.292 1.527 3.683 0 .61-.11 1.202-.31 1.76L14.13 8.714c.045-.233.07-.472.07-.714zm2.818 3.122c1.154-3.335.413-7.187-2.246-9.846-.292-.291-.292-.765 0-1.056.293-.293.766-.293 1.058 0 2.08 2.079 3.225 4.843 3.225 7.78 0 1.445-.28 2.847-.808 4.146l-1.229-1.024zm1.931 3.556c.317.265.36.736.095 1.053-.148.177-.36.27-.574.27-.169 0-.339-.058-.479-.175l-1.272-1.06c-.273.353-.568.693-.89 1.015-.146.146-.337.22-.528.22-.19 0-.382-.074-.529-.22-.292-.292-.292-.766 0-1.057.291-.29.554-.599.798-.917l-4.353-3.63v5.224c0 .507-.592.784-.98.46l-4.76-3.97H.935c-.517 0-.936-.42-.936-.937V5.045c0-.516.42-.935.935-.935h3.006L.597 1.322C.281 1.057.238.586.502.268c.264-.317.736-.359 1.053-.095l17.393 14.505z"/>\n    </defs>\n    <g fill="none" fill-rule="evenodd" transform="translate(5 7)">\n        <mask id="prefix__sound_off_b" fill="#fff">\n            <use xlink:href="#prefix__sound_off_a"/>\n        </mask>\n        <use fill="#FFF" xlink:href="#prefix__sound_off_a"/>\n        <g fill="#FFF" fill-rule="nonzero" mask="url(#prefix__sound_off_b)" class="control_svg">\n            <path d="M0 0H30V30H0z" transform="translate(-5 -7)"/>\n        </g>\n    </g>\n</svg>\n\n          </span>\n        </a>\n        <div class="'+Dv+'__volume_panel"></div>\n      </div>\n      </div>\n  </div>\n</div>\n')+'\n    </div>\n    <div class="'+Nt+'__navi_root">\n      <a href="#" class="'+Nt+"__navi_btn "+Nt+'__navi_btn--prev" target="_blank" rel="nofollow noopener" aria-label="이전 이미지">'+Sv+'</a>\n      <a href="#" class="'+Nt+"__navi_btn "+Nt+'__navi_btn--next" target="_blank" rel="nofollow noopener" aria-label="다음 이미지">'+Sv+"</a>\n    </div> \n  </div>\n  "+('\n  <div class="'+(Lv=Cv=Nt)+'__side_ghost" ></div>\n  \x3c!-- [D] 뷰어진입시 에러가 발생하면 civ__is_error 추가--\x3e\n  <div class="'+Cv+'__side_index">\n    <div class="'+Cv+"__index_header "+Cv+'__side_index_header">\n      <a href="#" class="'+Cv+'__index_toggle_btn">'+xv+'</a>\n      <span class="'+Cv+'__index_indicator">\n        <strong class="'+Cv+"__current "+Cv+'__side_current"></strong> / \n        <span class="'+Cv+"__length "+Cv+'__side_total"></span>\n      </span>\n    </div>\n\n    <div class="'+Cv+"__error_view "+Cv+'__side_error_view">\n      '+Gv({type:Fv,message:"리스트를 불러오지<br>못했습니다."})+'\n    </div>\n    \n    <div class="'+Cv+'__scroll_wrapper">\n    <ul class="'+Cv+"__thumb_list "+Cv+'__side_index_list" width:100%;">\n\n    </ul>\n    </div>\n  </div>\n')+'\n  \x3c!-- 하단영역 --\x3e\n  <div class="'+Nt+'__bottom "></div>\n  \x3c!-- [D] '+Nt+'__is-closed 클래스 토글 --\x3e        \n  <div class="'+Nt+"__toast "+Nt+'__is-closed"></div>\n  <div class="'+Nt+'__footer_layout"></div>\n  '+('\n  <div style="position:absolute;bottom:0px;width:100%; height:0px; z-index:10" class="'+Nt+'__viewer_custom_bottom"></div>\n')+"  \n</div>\n";(Vv=kv||(kv={})).RESIZE="resize",Vv.KEYDOWN="keydown",Vv.POPSTATE="popstate",Vv.WHEEL="wheel";var Xv,Wv,qv=function(){function t(t,e,n){var i;void 0===e&&(e=!1);var r=this;this.dummyFunction=function(){},this.eventFunctionMap=((i={})[kv.RESIZE]=this.dummyFunction,i[kv.KEYDOWN]=this.dummyFunction,i[kv.POPSTATE]=this.dummyFunction,i[kv.WHEEL]=this.dummyFunction,i),this.onPopState=function(t){r.urlCallback&&r.eventFunctionMap[kv.POPSTATE](t)},this.browserInfo=$a(),this.urlCallback=e,this.globalEl=t;var o=this.eventFunctionMap;this.eventFunctionMap=uu(o,n)}return t.prototype.bindEvent=function(){var t=this.eventFunctionMap;this.globalEl.addEventListener("orientationchange",[kv.RESIZE]),this.globalEl.addEventListener("resize",t[kv.RESIZE]),this.globalEl.addEventListener("keydown",t[kv.KEYDOWN]),this.globalEl.addEventListener("wheel",t[kv.WHEEL]),this.globalEl.addEventListener("popstate",this.onPopState),this.browserInfo.isIOS&&this.globalEl.addEventListener("gesturestart",Cp),this.browserInfo.isIOS&&this.globalEl.addEventListener("webkitmouseforcewillbegin",Cp)},t.prototype.unbindEvent=function(){var t=this.eventFunctionMap;this.globalEl.removeEventListener("popstate",this.onPopState),this.globalEl.removeEventListener("keydown",t[kv.KEYDOWN]),this.globalEl.removeEventListener("resize",t[kv.RESIZE]),this.globalEl.removeEventListener("wheel",t[kv.WHEEL]),this.globalEl.removeEventListener("orientationchange",t[kv.RESIZE]),this.browserInfo.isIOS&&this.globalEl.removeEventListener("gesturestart",Cp),this.browserInfo.isIOS&&this.globalEl.removeEventListener("webkitmouseforcewillbegin",Cp)},t}();(Wv=Xv||(Xv={})).INDEX_CHANGE="index_change",Wv.DATA_CHANGE="data_change";var Yv=function(){function t(t,e){var n;this.eventMap=((n={})[Xv.INDEX_CHANGE]=function(){},n[Xv.DATA_CHANGE]=function(){},n),this.itemModel=t,this.eventMap=uu(this.eventMap,e)}return t.prototype.bindEvent=function(){var t,e=this.eventMap,n=e[Xv.INDEX_CHANGE],i=e[Xv.DATA_CHANGE];this.itemModel.on(((t={})[Dt.INDEX_CHANGE]=n,t[Dt.DATA_CHANGE]=i,t))},t.prototype.unbindEvent=function(){this.itemModel.off()},t}(),Kv=[],$v=Kv.sort,Zv=s(function(){Kv.sort(void 0)}),Qv=s(function(){Kv.sort(null)}),Jv=dt("sort");H({target:"Array",proto:!0,forced:Zv||!Qv||!Jv},{sort:function(t){return void 0===t?$v.call(ot(this)):$v.call(ot(this),M(t))}});wt("Array").sort;var tg=d.f,eg=function(a){return function(t){for(var e,n=u(t),i=it(n),r=i.length,o=0,s=[];o<r;)e=i[o++],f&&!tg.call(n,e)||s.push(a?[e,n[e]]:n[e]);return s}},ng={entries:eg(!0),values:eg(!1)}.values;H({target:"Object",stat:!0},{values:function(t){return ng(t)}});D.Object.values;var ig=!lc(function(t){});H({target:"Array",stat:!0,forced:ig},{from:function(t){var e,n,i,r,o,s,a=ot(t),l="function"==typeof this?this:Array,u=arguments.length,c=1<u?arguments[1]:void 0,h=void 0!==c,p=Ju(a),f=0;if(h&&(c=N(c,2<u?arguments[2]:void 0,2)),null==p||l==Array&&Zu(p))for(n=new l(e=q(a.length));f<e;f++)s=h?c(a[f],f):a[f],La(n,f,s);else for(o=(r=p.call(a)).next,n=new l;!(i=o.call(r)).done;f++)s=h?tc(r,c,[i.value,f],!0):i.value,La(n,f,s);return n.length=f,n}});var rg=D.Array.from;var og=function(t,a,e,n,l,u){void 0===a&&(a=.01),void 0===e&&(e="cors"),void 0===n&&(n="image_viewer");var i,r,o,c=new Image,s=(i=e,r=n,o=t,o+=/\?/.test(o)?"&":"?",o+=[encodeURIComponent(i),"=",encodeURIComponent(r)].join(""));c.crossOrigin="Anonymous",c.setAttribute("data-src",s),zh(c).then(function(){var t,e,n,i=c.width*a,r=c.height*a;(i<3&&r<4||r<3&&i<4)&&(i*=2,r*=2),8<i&&(r=Math.max(8*r/i,1),i=8),8<r&&(i=Math.max(8*i/r,1),r=8);try{var o=(t=i,e=r,(n=document.createElement("canvas")).setAttribute("width",t),n.setAttribute("height",e),n.getContext("2d"));o.drawImage(c,0,0,i,r);var s=function(t){for(var e=0,n=0,i=0,r=t.length/4,o=0;o<t.length;o+=4){var s=rg(t.subarray(o,o+3));e+=s[0],n+=s[1],i+=s[2]}return[Math.round(e/r),Math.round(n/r),Math.round(i/r)]}(o.getImageData(0,0,i,r).data);l&&l(s)}catch(t){u&&u()}}).catch(function(){u()})},sg=function(){function t(t){this.injectData=t.getData()}return t.prototype.loadItemsInPanel=function(t,e,n){var i=this.injectData.itemLoader,r=function(){i.setItemsByIndex(t,e),i.once("onAllLoadItem",function(){n&&n()})};i.isLoading()?Ui(_u(r).call(r,this),100):r()},t}(),ag=function(){function d(){}return d.prototype.setup=function(t){return this.param=t,this},d.prototype.clearResource=function(){this.param=null},d.prototype.shrinkImagePanel=function(){var t,e=this.param,n=e.image,i=e.viewHeight,r=e.viewWidth,o=e.shrinkImage,s=e.useCss3d,a=e.panelList,l=n.height,u=za(),c=i===l,h=Qt+Zt,p=o&&u?d.getScaleRatio(c,i,r):1,f=s?{transformOrigin:"center "+(c?h:-h/2)+"px",transform:"scale3d("+p+", "+p+", "+p+")"}:{transformOrigin:"center "+(c?h:-h/2)+"px",transform:"scale("+p+")",willChange:"transform"};Gs(t=su(a)).call(t,function(t){wu(t.querySelector(Ht.IMAGE_WRAP),f)}),this.clearResource()},d.getScaleRatio=function(t,e,n){var i=t?e:n;return(i-(t?Qt:0)-2*Zt)/i},d.prototype.changeThumbToOrgImg=function(){var i=this,t=this.param,r=t.image,o=t.itemData,e=r.src,s=r.width,a=Hh(o.orgUrl),n=decodeURIComponent(a);if(n===decodeURIComponent(e)||n===decodeURIComponent(Wh.getCurrentImageSrc()))return r.width=s,r.draggable=!1,void this.clearResource();Wh.start(a,function(t){var e=Hh(o.orgUrl),n=decodeURIComponent(e);decodeURIComponent(t)===n&&(r.width=s,r.draggable=!1,r.src=a),i.clearResource()})},d}(),lg=function(){function o(){}return o.prototype.resizeViewer=function(t,e,n,i){var r;e?kp(_u(r=o.resizeHeight).call(r,this,t,e,n,i),300)():n?kp(function(){o.resizeHeight(t,!1,!0,i),o.resizeHeight(t,!1,!0,i)},100)():o.resizeHeight(t,!1,n,i)},o.resizeHeight=function(t,e,n,i){wu(t,{height:window.innerHeight+1+"px"}),n&&e&&Ui(function(){ji.scrollTo(0,1)},10),i()},o.applyPanelStyle=function(t,e){e.style.setProperty("touch-action","none"),t?(e.style.setProperty("-webkit-touch-callout","default","important"),e.style.setProperty("-webkit-user-select","auto","important"),e.style.setProperty("user-select","auto","important")):Fu(e)},o}(),ug=function(){function t(t,e,n,i){void 0===t&&(t=0),void 0===e&&(e=0),void 0===n&&(n=0),void 0===i&&(i=0),this.x=t,this.y=e,this.width=n,this.height=i}return t.prototype.fromClientRect=function(t){this.x=t.left,this.y=t.top,this.width=t.width,this.height=t.height},t.prototype.fromTLBR=function(t,e,n,i){this.top=t,this.left=e,this.bottom=n,this.right=i},Oh(t.prototype,"x",{get:function(){return this._x},set:function(t){this._x=t},enumerable:!0,configurable:!0}),Oh(t.prototype,"y",{get:function(){return this._y},set:function(t){this._y=t},enumerable:!0,configurable:!0}),Oh(t.prototype,"width",{get:function(){return this._width},set:function(t){this._width=t},enumerable:!0,configurable:!0}),Oh(t.prototype,"height",{get:function(){return this._height},set:function(t){this._height=t},enumerable:!0,configurable:!0}),Oh(t.prototype,"top",{get:function(){return this.y},set:function(t){this._y=t},enumerable:!0,configurable:!0}),Oh(t.prototype,"left",{get:function(){return this.x},set:function(t){this._x=t},enumerable:!0,configurable:!0}),Oh(t.prototype,"bottom",{get:function(){return this.y+this.height},set:function(t){this._height=t-this._y},enumerable:!0,configurable:!0}),Oh(t.prototype,"right",{get:function(){return this.x+this.width},set:function(t){this._width=t-this._x},enumerable:!0,configurable:!0}),t}();var cg=function(){function t(){}return t.prototype.setup=function(t){return this.effectParam=t,this},t.prototype.fadeIn=function(t,e,n,i,r,o){var s=t.getBoundingClientRect(),a=t.src;this.effectParam.ghostImageLayout.prepare(s,a),this.loadingImage(t,e,n,i,o,r)},t.prototype.fadeOut=function(t,e){var n=this,i=this.effectParam,r=i.loadImage,o=i.baseElement,s=i.ghostImageLayout;if(this.effectParam){wu(r,{visibility:"hidden"}),wu(o,{opacity:0});var a=new ug;a.fromClientRect(r.getBoundingClientRect()),s.prepare(a,r.src),s.buildOut(t.getBoundingClientRect(),function(){e(),n.clearResource()})}},t.prototype.clearResource=function(){this.effectParam=null},t.prototype.loadingImage=function(i,t,r,o,e,s){var a,l=this,n=this.effectParam,u=n.ghostImageLayout,c=n.loadImage,h=n.baseElement,p=n.opacity,f=n.isMobile,d=void 0===f||f,v=n.imageTimeout,g=Cu(c,"error",function(){e&&e(),wu(h,{opacity:1}),u.hide(),s&&s(),l.clearResource()}),_=Cu(c,"load",function(){if(clearTimeout(a),l.effectParam){var n=function(){wu(i,{visibility:"visible"}),wu(h,{transform:null,opacity:1}),u.hide(),s&&s(),Lu(c,"error",g),l.clearResource()};Ui(function(){var t=new ug;t.fromClientRect(c.getBoundingClientRect()),t.top+=r,d&&wu(i,{visibility:"hidden"}),wu(h,{transform:Iu(r)}),Vu(h,Rt.FADEIN,{opacity:p});var e=Ui(n,400);u.show(t,function(){clearTimeout(e),o&&o(),n()})},50)}});a=Ui(function(){_(),Lu(c,"load",_)},v)},t.prototype.hideToUp=function(t,e,n){var i=this.effectParam.ghostImageLayout,r=t.getBoundingClientRect(),o=new ug;o.fromClientRect(r),o.top-=e,i.prepare(r,t.src);var s=Ui(n,300);i.buildOut(o,function(){clearTimeout(s),n()})},t.prototype.hideToDown=function(t,e,n,i){void 0===n&&(n=0);var r=this.effectParam,o=r.loadImage,s=r.baseElement;wu(o,{visibility:"hidden"}),wu(t,{top:So(t.style.top)+e+n+"px",transform:null,opacity:1});var a=Ui(function(){i()},300);Vu(s,Rt.FADEOUT,{opacity:0}),Vu(t,Rt.FADEHIDE,function(){clearTimeout(a),i()})},t.prototype.fadeOutWithBaseElement=function(t,e,n,i,r){n||r(),wu(this.effectParam.baseElement,{opacity:Math.max(.3,1-Math.abs(i)/(2*e/3))}),wu(t,{transform:Iu(i)})},t}(),hg=function(){function t(){}return t.prototype.setup=function(t){return this.param=t,this},t.prototype.clearResource=function(){this.param=null},t.prototype.on=function(t){void 0===t&&(t=0);var e=this.param,n=e.image,i=e.imageList,r=e.cssProperty,o=void 0===r?{}:r,s=e.isMobile;wu(n,{visibility:"visible"}),s?(wu(i,Xs({},o)),window.scrollTo(0,0),wu(i,{transform:Iu(-t)})):wu(document.body,Xs({},o)),this.clearResource()},t.prototype.off=function(t,e,n){var i=this.param,r=i.imageList,o=i.cssProperty,s=void 0===o?{}:o,a=i.isMobile;wu(r,Xs({},s));var l=this.getCenterY(t,e,n);return a?wu(r,{transform:Iu(-l)}):wu(document.body,Xs({},s)),this.clearResource(),l},t.prototype.getCenterY=function(t,e,n){if(this.param.useScrollSync&&t){var i=t.getBoundingClientRect(),r=(e-i.height)/2;return Math.max(i.top+n-r,0)}return n},t}(),pg=t(function(jt){!function(o,a,t,v){var s,l=["","webkit","Moz","MS","ms","o"],e=a.createElement("div"),n="function",u=Math.round,g=Math.abs,_=Date.now;function c(t,e,n){return setTimeout(m(t,n),e)}function i(t,e,n){return!!Array.isArray(t)&&(h(t,n[e],n),!0)}function h(t,e,n){var i;if(t)if(t.forEach)t.forEach(e,n);else if(t.length!==v)for(i=0;i<t.length;)e.call(n,t[i],i,t),i++;else for(i in t)t.hasOwnProperty(i)&&e.call(n,t[i],i,t)}function r(i,t,e){var r="DEPRECATED METHOD: "+t+"\n"+e+" AT \n";return function(){var t=new Error("get-stack-trace"),e=t&&t.stack?t.stack.replace(/^[^\(]+?[\n$]/gm,"").replace(/^\s+at\s+/gm,"").replace(/^Object.<anonymous>\s*\(/gm,"{anonymous}()@"):"Unknown Stack Trace",n=o.console&&(o.console.warn||o.console.log);return n&&n.call(o.console,r,e),i.apply(this,arguments)}}s="function"!=typeof Object.assign?function(t){var e=arguments;if(t===v||null===t)throw new TypeError("Cannot convert undefined or null to object");for(var n=Object(t),i=1;i<arguments.length;i++){var r=e[i];if(r!==v&&null!==r)for(var o in r)r.hasOwnProperty(o)&&(n[o]=r[o])}return n}:Object.assign;var p=r(function(t,e,n){for(var i=Object.keys(e),r=0;r<i.length;)(!n||n&&t[i[r]]===v)&&(t[i[r]]=e[i[r]]),r++;return t},"extend","Use `assign`."),f=r(function(t,e){return p(t,e,!0)},"merge","Use `assign`.");function d(t,e,n){var i,r=e.prototype;(i=t.prototype=Object.create(r)).constructor=t,i._super=r,n&&s(i,n)}function m(t,e){return function(){return t.apply(e,arguments)}}function y(t,e){return typeof t==n?t.apply(e&&e[0]||v,e):t}function E(t,e){return t===v?e:t}function I(e,t,n){h(x(t),function(t){e.addEventListener(t,n,!1)})}function b(e,t,n){h(x(t),function(t){e.removeEventListener(t,n,!1)})}function T(t,e){for(;t;){if(t==e)return!0;t=t.parentNode}return!1}function S(t,e){return-1<t.indexOf(e)}function x(t){return t.trim().split(/\s+/g)}function w(t,e,n){if(t.indexOf&&!n)return t.indexOf(e);for(var i=0;i<t.length;){if(n&&t[i][n]==e||!n&&t[i]===e)return i;i++}return-1}function P(t){return Array.prototype.slice.call(t,0)}function O(t,n,e){for(var i=[],r=[],o=0;o<t.length;){var s=n?t[o][n]:t[o];w(r,s)<0&&i.push(t[o]),r[o]=s,o++}return e&&(i=n?i.sort(function(t,e){return t[n]>e[n]}):i.sort()),i}function A(t,e){for(var n,i,r=e[0].toUpperCase()+e.slice(1),o=0;o<l.length;){if((i=(n=l[o])?n+r:e)in t)return i;o++}return v}var L=1;function C(t){var e=t.ownerDocument||t;return e.defaultView||e.parentWindow||o}var D="ontouchstart"in o,M=A(o,"PointerEvent")!==v,N=D&&/mobile|tablet|ip(ad|hone|od)|android/i.test(navigator.userAgent),R="touch",k=25,V=1,B=4,F=8,z=1,G=2,H=4,U=8,j=16,X=G|H,W=U|j,q=X|W,Y=["x","y"],K=["clientX","clientY"];function $(e,t){var n=this;this.manager=e,this.callback=t,this.element=e.element,this.target=e.options.inputTarget,this.domHandler=function(t){y(e.options.enable,[e])&&n.handler(t)},this.init()}function Z(t,e,n){var i=n.pointers.length,r=n.changedPointers.length,o=e&V&&i-r==0,s=e&(B|F)&&i-r==0;n.isFirst=!!o,n.isFinal=!!s,o&&(t.session={}),n.eventType=e,function(t,e){var n=t.session,i=e.pointers,r=i.length;n.firstInput||(n.firstInput=Q(e));1<r&&!n.firstMultiple?n.firstMultiple=Q(e):1===r&&(n.firstMultiple=!1);var o=n.firstInput,s=n.firstMultiple,a=s?s.center:o.center,l=e.center=J(i);e.timeStamp=_(),e.deltaTime=e.timeStamp-o.timeStamp,e.angle=it(a,l),e.distance=nt(a,l),function(t,e){var n=e.center,i=t.offsetDelta||{},r=t.prevDelta||{},o=t.prevInput||{};e.eventType!==V&&o.eventType!==B||(r=t.prevDelta={x:o.deltaX||0,y:o.deltaY||0},i=t.offsetDelta={x:n.x,y:n.y});e.deltaX=r.x+(n.x-i.x),e.deltaY=r.y+(n.y-i.y)}(n,e),e.offsetDirection=et(e.deltaX,e.deltaY);var u=tt(e.deltaTime,e.deltaX,e.deltaY);e.overallVelocityX=u.x,e.overallVelocityY=u.y,e.overallVelocity=g(u.x)>g(u.y)?u.x:u.y,e.scale=s?(p=s.pointers,f=i,nt(f[0],f[1],K)/nt(p[0],p[1],K)):1,e.rotation=s?(c=s.pointers,h=i,it(h[1],h[0],K)+it(c[1],c[0],K)):0,e.maxPointers=n.prevInput?e.pointers.length>n.prevInput.maxPointers?e.pointers.length:n.prevInput.maxPointers:e.pointers.length,function(t,e){var n,i,r,o,s=t.lastInterval||e,a=e.timeStamp-s.timeStamp;if(e.eventType!=F&&(k<a||s.velocity===v)){var l=e.deltaX-s.deltaX,u=e.deltaY-s.deltaY,c=tt(a,l,u);i=c.x,r=c.y,n=g(c.x)>g(c.y)?c.x:c.y,o=et(l,u),t.lastInterval=e}else n=s.velocity,i=s.velocityX,r=s.velocityY,o=s.direction;e.velocity=n,e.velocityX=i,e.velocityY=r,e.direction=o}(n,e);var c,h;var p,f;var d=t.element;T(e.srcEvent.target,d)&&(d=e.srcEvent.target);e.target=d}(t,n),t.emit("hammer.input",n),t.recognize(n),t.session.prevInput=n}function Q(t){for(var e=[],n=0;n<t.pointers.length;)e[n]={clientX:u(t.pointers[n].clientX),clientY:u(t.pointers[n].clientY)},n++;return{timeStamp:_(),pointers:e,center:J(e),deltaX:t.deltaX,deltaY:t.deltaY}}function J(t){var e=t.length;if(1===e)return{x:u(t[0].clientX),y:u(t[0].clientY)};for(var n=0,i=0,r=0;r<e;)n+=t[r].clientX,i+=t[r].clientY,r++;return{x:u(n/e),y:u(i/e)}}function tt(t,e,n){return{x:e/t||0,y:n/t||0}}function et(t,e){return t===e?z:g(t)>=g(e)?t<0?G:H:e<0?U:j}function nt(t,e,n){n||(n=Y);var i=e[n[0]]-t[n[0]],r=e[n[1]]-t[n[1]];return Math.sqrt(i*i+r*r)}function it(t,e,n){n||(n=Y);var i=e[n[0]]-t[n[0]],r=e[n[1]]-t[n[1]];return 180*Math.atan2(r,i)/Math.PI}$.prototype={handler:function(){},init:function(){this.evEl&&I(this.element,this.evEl,this.domHandler),this.evTarget&&I(this.target,this.evTarget,this.domHandler),this.evWin&&I(C(this.element),this.evWin,this.domHandler)},destroy:function(){this.evEl&&b(this.element,this.evEl,this.domHandler),this.evTarget&&b(this.target,this.evTarget,this.domHandler),this.evWin&&b(C(this.element),this.evWin,this.domHandler)}};var rt={mousedown:V,mousemove:2,mouseup:B},ot="mousedown",st="mousemove mouseup";function at(){this.evEl=ot,this.evWin=st,this.pressed=!1,$.apply(this,arguments)}d(at,$,{handler:function(t){var e=rt[t.type];e&V&&0===t.button&&(this.pressed=!0),2&e&&1!==t.which&&(e=B),this.pressed&&(e&B&&(this.pressed=!1),this.callback(this.manager,e,{pointers:[t],changedPointers:[t],pointerType:"mouse",srcEvent:t}))}});var lt={pointerdown:V,pointermove:2,pointerup:B,pointercancel:F,pointerout:F},ut={2:R,3:"pen",4:"mouse",5:"kinect"},ct="pointerdown",ht="pointermove pointerup pointercancel";function pt(){this.evEl=ct,this.evWin=ht,$.apply(this,arguments),this.store=this.manager.session.pointerEvents=[]}o.MSPointerEvent&&!o.PointerEvent&&(ct="MSPointerDown",ht="MSPointerMove MSPointerUp MSPointerCancel"),d(pt,$,{handler:function(t){var e=this.store,n=!1,i=t.type.toLowerCase().replace("ms",""),r=lt[i],o=ut[t.pointerType]||t.pointerType,s=o==R,a=w(e,t.pointerId,"pointerId");r&V&&(0===t.button||s)?a<0&&(e.push(t),a=e.length-1):r&(B|F)&&(n=!0),a<0||(e[a]=t,this.callback(this.manager,r,{pointers:e,changedPointers:[t],pointerType:o,srcEvent:t}),n&&e.splice(a,1))}});var ft={touchstart:V,touchmove:2,touchend:B,touchcancel:F};function dt(){this.evTarget="touchstart",this.evWin="touchstart touchmove touchend touchcancel",this.started=!1,$.apply(this,arguments)}d(dt,$,{handler:function(t){var e=ft[t.type];if(e===V&&(this.started=!0),this.started){var n=function(t,e){var n=P(t.touches),i=P(t.changedTouches);e&(B|F)&&(n=O(n.concat(i),"identifier",!0));return[n,i]}.call(this,t,e);e&(B|F)&&n[0].length-n[1].length==0&&(this.started=!1),this.callback(this.manager,e,{pointers:n[0],changedPointers:n[1],pointerType:R,srcEvent:t})}}});var vt={touchstart:V,touchmove:2,touchend:B,touchcancel:F},gt="touchstart touchmove touchend touchcancel";function _t(){this.evTarget=gt,this.targetIds={},$.apply(this,arguments)}d(_t,$,{handler:function(t){var e=vt[t.type],n=function(t,e){var n=P(t.touches),i=this.targetIds;if(e&(2|V)&&1===n.length)return i[n[0].identifier]=!0,[n,n];var r,o,s=P(t.changedTouches),a=[],l=this.target;if(o=n.filter(function(t){return T(t.target,l)}),e===V)for(r=0;r<o.length;)i[o[r].identifier]=!0,r++;r=0;for(;r<s.length;)i[s[r].identifier]&&a.push(s[r]),e&(B|F)&&delete i[s[r].identifier],r++;return a.length?[O(o.concat(a),"identifier",!0),a]:void 0}.call(this,t,e);n&&this.callback(this.manager,e,{pointers:n[0],changedPointers:n[1],pointerType:R,srcEvent:t})}});var mt=2500;function yt(){$.apply(this,arguments);var t=m(this.handler,this);this.touch=new _t(this.manager,t),this.mouse=new at(this.manager,t),this.primaryTouch=null,this.lastTouches=[]}function Et(t){var e=t.changedPointers[0];if(e.identifier===this.primaryTouch){var n={x:e.clientX,y:e.clientY};this.lastTouches.push(n);var i=this.lastTouches;setTimeout(function(){var t=i.indexOf(n);-1<t&&i.splice(t,1)},mt)}}d(yt,$,{handler:function(t,e,n){var i=n.pointerType==R,r="mouse"==n.pointerType;if(!(r&&n.sourceCapabilities&&n.sourceCapabilities.firesTouchEvents)){if(i)(function(t,e){t&V?(this.primaryTouch=e.changedPointers[0].identifier,Et.call(this,e)):t&(B|F)&&Et.call(this,e)}).call(this,e,n);else if(r&&function(t){for(var e=t.srcEvent.clientX,n=t.srcEvent.clientY,i=0;i<this.lastTouches.length;i++){var r=this.lastTouches[i],o=Math.abs(e-r.x),s=Math.abs(n-r.y);if(o<=25&&s<=25)return!0}return!1}.call(this,n))return;this.callback(t,e,n)}},destroy:function(){this.touch.destroy(),this.mouse.destroy()}});var It=A(e.style,"touchAction"),bt=It!==v,Tt="manipulation",St="none",xt="pan-x",wt="pan-y",Pt=function(){if(!bt)return!1;var e={},n=o.CSS&&o.CSS.supports;return["auto","manipulation","pan-y","pan-x","pan-x pan-y","none"].forEach(function(t){e[t]=!n||o.CSS.supports("touch-action",t)}),e}();function Ot(t,e){this.manager=t,this.set(e)}Ot.prototype={set:function(t){"compute"==t&&(t=this.compute()),bt&&this.manager.element.style&&Pt[t]&&(this.manager.element.style[It]=t),this.actions=t.toLowerCase().trim()},update:function(){this.set(this.manager.options.touchAction)},compute:function(){var e=[];return h(this.manager.recognizers,function(t){y(t.options.enable,[t])&&(e=e.concat(t.getTouchAction()))}),function(t){if(S(t,St))return St;var e=S(t,xt),n=S(t,wt);if(e&&n)return St;if(e||n)return e?xt:wt;if(S(t,Tt))return Tt;return"auto"}(e.join(" "))},preventDefaults:function(t){var e=t.srcEvent,n=t.offsetDirection;if(this.manager.session.prevented)e.preventDefault();else{var i=this.actions,r=S(i,St)&&!Pt.none,o=S(i,wt)&&!Pt[wt],s=S(i,xt)&&!Pt[xt];if(r){var a=1===t.pointers.length,l=t.distance<2,u=t.deltaTime<250;if(a&&l&&u)return}if(!s||!o)return r||o&&n&X||s&&n&W?this.preventSrc(e):void 0}},preventSrc:function(t){this.manager.session.prevented=!0,t.preventDefault()}};var At=1;function Lt(t){this.options=s({},this.defaults,t||{}),this.id=L++,this.manager=null,this.options.enable=E(this.options.enable,!0),this.state=At,this.simultaneous={},this.requireFail=[]}function Ct(t){return 16&t?"cancel":8&t?"end":4&t?"move":2&t?"start":""}function Dt(t){return t==j?"down":t==U?"up":t==G?"left":t==H?"right":""}function Mt(t,e){var n=e.manager;return n?n.get(t):t}function Nt(){Lt.apply(this,arguments)}function Rt(){Nt.apply(this,arguments),this.pX=null,this.pY=null}function kt(){Nt.apply(this,arguments)}function Vt(){Lt.apply(this,arguments),this._timer=null,this._input=null}function Bt(){Nt.apply(this,arguments)}function Ft(){Nt.apply(this,arguments)}function zt(){Lt.apply(this,arguments),this.pTime=!1,this.pCenter=!1,this._timer=null,this._input=null,this.count=0}function Gt(t,e){return(e=e||{}).recognizers=E(e.recognizers,Gt.defaults.preset),new Ht(t,e)}Lt.prototype={defaults:{},set:function(t){return s(this.options,t),this.manager&&this.manager.touchAction.update(),this},recognizeWith:function(t){if(i(t,"recognizeWith",this))return this;var e=this.simultaneous;return e[(t=Mt(t,this)).id]||(e[t.id]=t).recognizeWith(this),this},dropRecognizeWith:function(t){return i(t,"dropRecognizeWith",this)||(t=Mt(t,this),delete this.simultaneous[t.id]),this},requireFailure:function(t){if(i(t,"requireFailure",this))return this;var e=this.requireFail;return-1===w(e,t=Mt(t,this))&&(e.push(t),t.requireFailure(this)),this},dropRequireFailure:function(t){if(i(t,"dropRequireFailure",this))return this;t=Mt(t,this);var e=w(this.requireFail,t);return-1<e&&this.requireFail.splice(e,1),this},hasRequireFailures:function(){return 0<this.requireFail.length},canRecognizeWith:function(t){return!!this.simultaneous[t.id]},emit:function(e){var n=this,t=this.state;function i(t){n.manager.emit(t,e)}t<8&&i(n.options.event+Ct(t)),i(n.options.event),e.additionalEvent&&i(e.additionalEvent),8<=t&&i(n.options.event+Ct(t))},tryEmit:function(t){if(this.canEmit())return this.emit(t);this.state=32},canEmit:function(){for(var t=0;t<this.requireFail.length;){if(!(this.requireFail[t].state&(32|At)))return!1;t++}return!0},recognize:function(t){var e=s({},t);if(!y(this.options.enable,[this,e]))return this.reset(),void(this.state=32);56&this.state&&(this.state=At),this.state=this.process(e),30&this.state&&this.tryEmit(e)},process:function(t){},getTouchAction:function(){},reset:function(){}},d(Nt,Lt,{defaults:{pointers:1},attrTest:function(t){var e=this.options.pointers;return 0===e||t.pointers.length===e},process:function(t){var e=this.state,n=t.eventType,i=6&e,r=this.attrTest(t);return i&&(n&F||!r)?16|e:i||r?n&B?8|e:2&e?4|e:2:32}}),d(Rt,Nt,{defaults:{event:"pan",threshold:10,pointers:1,direction:q},getTouchAction:function(){var t=this.options.direction,e=[];return t&X&&e.push(wt),t&W&&e.push(xt),e},directionTest:function(t){var e=this.options,n=!0,i=t.distance,r=t.direction,o=t.deltaX,s=t.deltaY;return r&e.direction||(i=e.direction&X?(r=0===o?z:o<0?G:H,n=o!=this.pX,Math.abs(t.deltaX)):(r=0===s?z:s<0?U:j,n=s!=this.pY,Math.abs(t.deltaY))),t.direction=r,n&&i>e.threshold&&r&e.direction},attrTest:function(t){return Nt.prototype.attrTest.call(this,t)&&(2&this.state||!(2&this.state)&&this.directionTest(t))},emit:function(t){this.pX=t.deltaX,this.pY=t.deltaY;var e=Dt(t.direction);e&&(t.additionalEvent=this.options.event+e),this._super.emit.call(this,t)}}),d(kt,Nt,{defaults:{event:"pinch",threshold:0,pointers:2},getTouchAction:function(){return[St]},attrTest:function(t){return this._super.attrTest.call(this,t)&&(Math.abs(t.scale-1)>this.options.threshold||2&this.state)},emit:function(t){if(1!==t.scale){var e=t.scale<1?"in":"out";t.additionalEvent=this.options.event+e}this._super.emit.call(this,t)}}),d(Vt,Lt,{defaults:{event:"press",pointers:1,time:251,threshold:9},getTouchAction:function(){return["auto"]},process:function(t){var e=this.options,n=t.pointers.length===e.pointers,i=t.distance<e.threshold,r=t.deltaTime>e.time;if(this._input=t,!i||!n||t.eventType&(B|F)&&!r)this.reset();else if(t.eventType&V)this.reset(),this._timer=c(function(){this.state=8,this.tryEmit()},e.time,this);else if(t.eventType&B)return 8;return 32},reset:function(){clearTimeout(this._timer)},emit:function(t){8===this.state&&(t&&t.eventType&B?this.manager.emit(this.options.event+"up",t):(this._input.timeStamp=_(),this.manager.emit(this.options.event,this._input)))}}),d(Bt,Nt,{defaults:{event:"rotate",threshold:0,pointers:2},getTouchAction:function(){return[St]},attrTest:function(t){return this._super.attrTest.call(this,t)&&(Math.abs(t.rotation)>this.options.threshold||2&this.state)}}),d(Ft,Nt,{defaults:{event:"swipe",threshold:10,velocity:.3,direction:X|W,pointers:1},getTouchAction:function(){return Rt.prototype.getTouchAction.call(this)},attrTest:function(t){var e,n=this.options.direction;return n&(X|W)?e=t.overallVelocity:n&X?e=t.overallVelocityX:n&W&&(e=t.overallVelocityY),this._super.attrTest.call(this,t)&&n&t.offsetDirection&&t.distance>this.options.threshold&&t.maxPointers==this.options.pointers&&g(e)>this.options.velocity&&t.eventType&B},emit:function(t){var e=Dt(t.offsetDirection);e&&this.manager.emit(this.options.event+e,t),this.manager.emit(this.options.event,t)}}),d(zt,Lt,{defaults:{event:"tap",pointers:1,taps:1,interval:300,time:250,threshold:9,posThreshold:10},getTouchAction:function(){return[Tt]},process:function(t){var e=this.options,n=t.pointers.length===e.pointers,i=t.distance<e.threshold,r=t.deltaTime<e.time;if(this.reset(),t.eventType&V&&0===this.count)return this.failTimeout();if(i&&r&&n){if(t.eventType!=B)return this.failTimeout();var o=!this.pTime||t.timeStamp-this.pTime<e.interval,s=!this.pCenter||nt(this.pCenter,t.center)<e.posThreshold;if(this.pTime=t.timeStamp,this.pCenter=t.center,s&&o?this.count+=1:this.count=1,this._input=t,0===this.count%e.taps)return this.hasRequireFailures()?(this._timer=c(function(){this.state=8,this.tryEmit()},e.interval,this),2):8}return 32},failTimeout:function(){return this._timer=c(function(){this.state=32},this.options.interval,this),32},reset:function(){clearTimeout(this._timer)},emit:function(){8==this.state&&(this._input.tapCount=this.count,this.manager.emit(this.options.event,this._input))}}),Gt.VERSION="2.0.7",Gt.defaults={domEvents:!1,touchAction:"compute",enable:!0,inputTarget:null,inputClass:null,preset:[[Bt,{enable:!1}],[kt,{enable:!1},["rotate"]],[Ft,{direction:X}],[Rt,{direction:X},["swipe"]],[zt],[zt,{event:"doubletap",taps:2},["tap"]],[Vt]],cssProps:{userSelect:"none",touchSelect:"none",touchCallout:"none",contentZooming:"none",userDrag:"none",tapHighlightColor:"rgba(0,0,0,0)"}};function Ht(t,e){var n;this.options=s({},Gt.defaults,e||{}),this.options.inputTarget=this.options.inputTarget||t,this.handlers={},this.session={},this.recognizers=[],this.oldCssProps={},this.element=t,this.input=new((n=this).options.inputClass||(M?pt:N?_t:D?yt:at))(n,Z),this.touchAction=new Ot(this,this.options.touchAction),Ut(this,!0),h(this.options.recognizers,function(t){var e=this.add(new t[0](t[1]));t[2]&&e.recognizeWith(t[2]),t[3]&&e.requireFailure(t[3])},this)}function Ut(n,i){var r,o=n.element;o.style&&(h(n.options.cssProps,function(t,e){r=A(o.style,e),o.style[r]=i?(n.oldCssProps[r]=o.style[r],t):n.oldCssProps[r]||""}),i||(n.oldCssProps={}))}Ht.prototype={set:function(t){return s(this.options,t),t.touchAction&&this.touchAction.update(),t.inputTarget&&(this.input.destroy(),this.input.target=t.inputTarget,this.input.init()),this},stop:function(t){this.session.stopped=t?2:1},recognize:function(t){var e=this.session;if(!e.stopped){var n;this.touchAction.preventDefaults(t);var i=this.recognizers,r=e.curRecognizer;(!r||r&&8&r.state)&&(r=e.curRecognizer=null);for(var o=0;o<i.length;)n=i[o],2===e.stopped||r&&n!=r&&!n.canRecognizeWith(r)?n.reset():n.recognize(t),!r&&14&n.state&&(r=e.curRecognizer=n),o++}},get:function(t){if(t instanceof Lt)return t;for(var e=this.recognizers,n=0;n<e.length;n++)if(e[n].options.event==t)return e[n];return null},add:function(t){if(i(t,"add",this))return this;var e=this.get(t.options.event);return e&&this.remove(e),this.recognizers.push(t),(t.manager=this).touchAction.update(),t},remove:function(t){if(i(t,"remove",this))return this;if(t=this.get(t)){var e=this.recognizers,n=w(e,t);-1!==n&&(e.splice(n,1),this.touchAction.update())}return this},on:function(t,e){if(t!==v&&e!==v){var n=this.handlers;return h(x(t),function(t){n[t]=n[t]||[],n[t].push(e)}),this}},off:function(t,e){if(t!==v){var n=this.handlers;return h(x(t),function(t){e?n[t]&&n[t].splice(w(n[t],e),1):delete n[t]}),this}},emit:function(t,e){var n,i,r;this.options.domEvents&&(n=t,i=e,(r=a.createEvent("Event")).initEvent(n,!0,!0),(r.gesture=i).target.dispatchEvent(r));var o=this.handlers[t]&&this.handlers[t].slice();if(o&&o.length){e.type=t,e.preventDefault=function(){e.srcEvent.preventDefault()};for(var s=0;s<o.length;)o[s](e),s++}},destroy:function(){this.element&&Ut(this,!1),this.handlers={},this.session={},this.input.destroy(),this.element=null}},s(Gt,{INPUT_START:V,INPUT_MOVE:2,INPUT_END:B,INPUT_CANCEL:F,STATE_POSSIBLE:At,STATE_BEGAN:2,STATE_CHANGED:4,STATE_ENDED:8,STATE_RECOGNIZED:8,STATE_CANCELLED:16,STATE_FAILED:32,DIRECTION_NONE:z,DIRECTION_LEFT:G,DIRECTION_RIGHT:H,DIRECTION_UP:U,DIRECTION_DOWN:j,DIRECTION_HORIZONTAL:X,DIRECTION_VERTICAL:W,DIRECTION_ALL:q,Manager:Ht,Input:$,TouchAction:Ot,TouchInput:_t,MouseInput:at,PointerEventInput:pt,TouchMouseInput:yt,SingleTouchInput:dt,Recognizer:Lt,AttrRecognizer:Nt,Tap:zt,Pan:Rt,Swipe:Ft,Pinch:kt,Rotate:Bt,Press:Vt,on:I,off:b,each:h,merge:f,extend:p,assign:s,inherit:d,bindFn:m,prefixed:A}),(void 0!==o?o:"undefined"!=typeof self?self:{}).Hammer=Gt,"function"==typeof v&&v.amd?v(function(){return Gt}):jt.exports?jt.exports=Gt:o.Hammer=Gt}(window,document)});var fg=pg.STATE_RECOGNIZED,dg=pg.INPUT_END,vg=pg.INPUT_START,gg=pg.STATE_FAILED,_g=pg.STATE_BEGAN,mg=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return js(e,t),e.prototype.process=function(t){var e=this,n=this.options,i=t.pointers.length===n.pointers,r=t.distance<n.threshold,o=t.deltaTime<n.time;if(this.reset(),t.eventType&vg&&0===this.count)return this.failTimeout();if(r&&o&&i){if(t.eventType!==dg)return this.failTimeout();var s=!this.pTime||t.timeStamp-this.pTime<n.interval,a=!this.pCenter||function(t,e,n){void 0===n&&(n=["x","y"]);var i=e[n[0]]-t[n[0]],r=e[n[1]]-t[n[1]];return Math.sqrt(i*i+r*r)}(this.pCenter,t.center)<n.posThreshold;if(this.pTime=t.timeStamp,this.pCenter=t.center,a&&s?this.count+=1:this.count=1,this._input=t,0===this.count%n.taps)return Ui(function(){e.state=fg,e.tryEmit()},10),_g}return gg},e}(pg.Tap),yg=function(t){function n(){var e=null!==t&&t.apply(this,arguments)||this;return e.onTick=function(t){n._running&&(e.trigger("tick",{type:"tick",time:t}),requestAnimationFrame(e.onTick))},e}return js(n,t),n.start=function(){n.running&&n.stop(),n._running=!0,requestAnimationFrame(n.shared.onTick),n.shared.trigger("start")},n.stop=function(){n._running=!1,n.shared.trigger("stop")},Oh(n,"shared",{get:function(){return n.ticker=n.ticker||new n},enumerable:!0,configurable:!0}),Oh(n,"running",{get:function(){return n._running},enumerable:!0,configurable:!0}),n._running=!1,n}(Ph);H({target:"Array",proto:!0},{fill:function(t){for(var e=ot(this),n=q(e.length),i=arguments.length,r=$(1<i?arguments[1]:void 0,n),o=2<i?arguments[2]:void 0,s=void 0===o?n:$(o,n);r<s;)e[r++]=t;return e}});var Eg=wt("Array").fill,Ig=Array.prototype,bg=function(t){var e=t.fill;return t===Ig||t instanceof Array&&e===Ig.fill?Eg:e};var Tg=function(){function t(){this._matrix=[],this.invalidate=!0,this.identity()}return t.prototype.identity=function(){this.x=0,this.y=0,this.scaleX=1,this.scaleY=1,this.radian=0,this.pivotX=0,this.pivotY=0,this._matrix=[],this.invalidate=!0},t.prototype.toLocal=function(t){return e=this.matrix,n=t,i=e[0],r=e[1],o=e[2],s=e[3],a=e[4],l=e[5],u=n.x,c=n.y,{x:s*(h=1/(i*s-r*o))*u+-o*h*c+(l*o-a*s)*h,y:i*h*c+-r*h*u+(-l*i+a*r)*h};var e,n,i,r,o,s,a,l,u,c,h},t.prototype.toGlobal=function(t){return e=this.matrix,i=(n=t).x,r=n.y,{x:e[0]*i+e[2]*r+e[4],y:e[1]*i+e[3]*r+e[5]};var e,n,i,r},t.prototype.setTransformOrigin=function(t,e){if(this.pivotX!==t||this.pivotY!==e){var n=t-this.pivotX,i=e-this.pivotY,r=this.getLocalTranslation(n,i),o=r.x,s=r.y;this.pivotX=t,this.pivotY=e,this.x+=o,this.y+=s}},t.prototype.getLocalTranslation=function(t,e){var n=0===this.radian?1:Math.cos(this.radian),i=0===this.radian?0:Math.sin(this.radian),r=n*this.scaleX,o=i*this.scaleX;return{x:r*t+-i*this.scaleY*e,y:o*t+n*this.scaleY*e}},Oh(t.prototype,"matrix",{get:function(){return this.invalidate&&(!function(t,e){var n=t.x,i=void 0===n?0:n,r=t.y,o=void 0===r?0:r,s=t.scaleX,a=void 0===s?1:s,l=t.scaleY,u=void 0===l?1:l,c=t.pivotX,h=void 0===c?0:c,p=t.pivotY,f=void 0===p?0:p,d=t.radian,v=void 0===d?0:d;void 0===e&&(e=[]);var g=0===v?1:Math.cos(v),_=0===v?0:Math.sin(v),m=g*a,y=_*a,E=-_*u,I=g*u,b=-m*h-E*f+i,T=-y*h-I*f+o;e[0]=m,e[1]=y,e[2]=E,e[3]=I,e[4]=b,e[5]=T}(this,this._matrix),this.invalidate=!1),this._matrix},enumerable:!0,configurable:!0}),Oh(t.prototype,"cssMatrix",{get:function(){return"matrix("+this.matrix.join(",")+")"},enumerable:!0,configurable:!0}),Oh(t.prototype,"cssMatrix3d",{get:function(){var t,e=bg(t=new Array(16)).call(t,0);return e[0]=this.matrix[0],e[5]=this.matrix[3],e[12]=this.matrix[4],e[13]=this.matrix[5],e[15]=1,"matrix("+e.join(",")+")"},enumerable:!0,configurable:!0}),Oh(t.prototype,"cssTranslate",{get:function(){var t=$a(),e=t.useCss3d,n=t.isIOS;return e&&!n?"\n    translate3d(\n      "+(this.x-this.pivotX*this.scaleX)+"px,\n      "+(this.y-this.pivotY*this.scaleY)+"px,\n      0px)\n    scale3d("+this.scaleX+", "+this.scaleY+", 1)\n    ":"\n      translate(\n        "+(this.x-this.pivotX*this.scaleX)+"px,\n        "+(this.y-this.pivotY*this.scaleY)+"px)\n      scale("+this.scaleX+")\n      "},enumerable:!0,configurable:!0}),Oh(t.prototype,"x",{get:function(){return this._x},set:function(t){t!==this._x&&(this.invalidate=!0,this._x=t)},enumerable:!0,configurable:!0}),Oh(t.prototype,"y",{get:function(){return this._y},set:function(t){t!==this._y&&(this.invalidate=!0,this._y=t)},enumerable:!0,configurable:!0}),Oh(t.prototype,"scaleX",{get:function(){return this._scaleX},set:function(t){t!==this._scaleX&&(this.invalidate=!0,this._scaleX=t)},enumerable:!0,configurable:!0}),Oh(t.prototype,"scaleY",{get:function(){return this._scaleY},set:function(t){t!==this._scaleY&&(this.invalidate=!0,this._scaleY=t)},enumerable:!0,configurable:!0}),Oh(t.prototype,"pivotX",{get:function(){return this._pivotX},set:function(t){t!==this._pivotX&&(this.invalidate=!0,this._pivotX=t)},enumerable:!0,configurable:!0}),Oh(t.prototype,"pivotY",{get:function(){return this._pivotY},set:function(t){t!==this._pivotY&&(this.invalidate=!0,this._pivotY=t)},enumerable:!0,configurable:!0}),Oh(t.prototype,"radian",{get:function(){return this._radian},set:function(t){t!==this._radian&&(this.invalidate=!0,this._radian=t)},enumerable:!0,configurable:!0}),Oh(t.prototype,"rotation",{get:function(){return 180*this._radian/Math.PI},set:function(t){this.radian=t*Math.PI/180},enumerable:!0,configurable:!0}),t}(),Sg=function(e){function t(t){var h=e.call(this)||this;return h.afterLoadFailItem=function(t,e,n){var i=e.itemPanel,r=h.injectData,o=r.itemLoader,s=r.gestureProxy,a=r.exceptionLayout,l=r.videoToolbarLayout,u=o.callbackProxy.getProps().currentIndex,c=Ut;t===kt.VIDEO&&(c=jt),n===u&&(s.setVerticalPanTracking(!1),l.hide(),a.show({message:c,itemType:t},i))},h.afterLoadSuccessItem=function(t){var e=h.injectData,n=e.itemLoader,i=e.eventProxy,r=e.state,o=e.itemModel,s=e.gestureProxy,a=e.hrImageIndexLayout,l=n.callbackProxy.getProps().currentIndex;if(l===t){var u=o.get(t),c=u.itemType;r.currentItemType=c,(r.videoPlayed=!1)===a.isVisiblity()&&s.setVerticalPanTracking(!0),c!==kt.VIDEO&&i.trigger(zt.TRIGGER_UNBIND),i.trigger(Tt.LOAD_CURRENT_ITEM,{index:t,itemData:u})}h.updateDominentColor(l,t)},h.changeThumbToOrgImg=kp(function(){var t=h.injectData,e={image:t.image,itemData:t.itemModel.getCurrent()};h.imageUnit.setup(e).changeThumbToOrgImg()},$t),h.di=t,h.injectData=h.di.getData(),h.itemUnit=new sg(h.di),h.imageUnit=new ag,h}return js(t,e),t.prototype.prepareloadPanelItem=function(t){var e=this.injectData,n=e.flicking,i=e.itemModel,r=e.hrImageIndexLayout;return!(!n||0===i.length)&&(void 0!==t&&(i.setIndex(t),r.currentIndex=t),!0)},t.prototype.isShrinkImage=function(){var t=za(),e=this.injectData.hrImageIndexLayout;return t&&e.isVisiblity()},t.prototype.updateColor=function(t,e,n){var i=this.injectData,r=i.browserInfo,o=i.itemModel,s=i.options,a=r.useDominantColor,l=s.dominantColor,u=l.useColor,c=l.paramName,h=l.paramValue;if(a&&u){var p=o.get(t),f=hu(p,"dominantColor");if(f)e&&e(function(t){var e;if(!/\d+\|\d+\|\d+/.test(t))throw new Error("알수 없는 형태의 dominantColor 입니다. "+t);return oo(e=t.match(/\d+/g)).call(e,Number)}(f));else{var d=hu(p,"thumbUrl");d?og(d,.05,c,h,function(t){o.setDominantColor(d,t),e&&e(t)},n):n&&n()}}else n&&n()},t.prototype.updateDominentColor=function(t,e){var n=this;t!==e?this.updateColor(t):(this.injectData.exceptionLayout.hide(),this.updateColor(t,function(t){n.applyDominantColor(t,!0)},function(){n.applyDominantColor()}))},t.prototype.loadPanelItem=function(t,e){if(this.prepareloadPanelItem(t)){var n=this.injectData,i=n.flicking,r=n.itemModel,o=n.image,s=n.itemPanel,a=n.itemLoader,l=n.exceptionLayout,u=n.videoToolbarLayout,c="number"==typeof t?t:r.getComputedIndex(),h=0!==c,p=c!==r.length-1;i.prevFlick=h,i.nextFlick=p,l.isVisiblity()&&l.hide(),u.hide(),this.shrinkImageLayout(),a.callbackProxy.bindProps({currentIndex:c,extendMetaData:{currentImage:o,itemPanel:s}}),a.callbackProxy.setOnSuccess(this.afterLoadSuccessItem),a.callbackProxy.setOnFail(this.afterLoadFailItem),this.itemUnit.loadItemsInPanel(c,i.panel,e)}},t.prototype.failItemLoad=function(t,e){var n=this.injectData.ghostImageLayout;this.afterLoadFailItem(t,e),n.hide()},t.prototype.applyDominantColor=function(l,t){void 0===l&&(l=null),void 0===t&&(t=!1);var e=this.injectData,n=e.headerLayout,i=e.footerLayout,r=e.backgroundLayout,o=e.hrImageIndexLayout,s=te,u=Yt,a=function(t){return l?(n=t/100,i=(e=l)[0],r=e[1],o=e[2],s=Math.sqrt(i*i+r*r+o*o),[(a=441.6729559300637*n)*i/s|0,a*r/s|0,a*o/s|0]):u;var e,n,i,r,o,s,a},c=a(Jt),h=a(s);n.updateBgColor(c,t),i.updateBgColor(c,t),r.updateBgColor(c,t),o.updateBgColor(h,t)},t.prototype.getImgFromList=function(t){var e=this.injectData.itemModel,n=null!=t?e.get(t):e.getCurrent(),i=null;if(!n)return i;try{i=document.querySelector(n.selector)}catch(t){console.error("invalid selector",n.selector)}return i},t.prototype.shrinkImageLayout=function(){var t=this.injectData,e=t.image,n=t.state,i=t.elBase,r=t.browserInfo,o={image:e,panelList:i.querySelectorAll(Ht.FLICK_PANEL),shrinkImage:this.isShrinkImage(),viewHeight:n.height,viewWidth:n.width,useCss3d:r.useCss3d};this.imageUnit.setup(o).shrinkImagePanel()},t}(Ph);function xg(){return(xg=Object.assign||function(t){for(var e=arguments,n=1;n<arguments.length;n++){var i=e[n];for(var r in i)Object.prototype.hasOwnProperty.call(i,r)&&(t[r]=i[r])}return t}).apply(this,arguments)}function wg(t,e){t.prototype=Object.create(e.prototype),(t.prototype.constructor=t).__proto__=e}function Pg(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}var Og,Ag="function"!=typeof Object.assign?function(t){var e=arguments;if(null==t)throw new TypeError("Cannot convert undefined or null to object");for(var n=Object(t),i=1;i<arguments.length;i++){var r=e[i];if(null!=r)for(var o in r)r.hasOwnProperty(o)&&(n[o]=r[o])}return n}:Object.assign,Lg=["","webkit","Moz","MS","ms","o"],Cg="undefined"==typeof document?{style:{}}:document.createElement("div"),Dg="function",Mg=Math.round,Ng=Math.abs,Rg=Date.now;function kg(t,e){for(var n,i,r=e[0].toUpperCase()+e.slice(1),o=0;o<Lg.length;){if((i=(n=Lg[o])?n+r:e)in t)return i;o++}}Og="undefined"==typeof window?{}:window;var Vg=kg(Cg.style,"touchAction"),Bg=void 0!==Vg;var Fg="compute",zg="manipulation",Gg="none",Hg="pan-x",Ug="pan-y",jg=function(){if(!Bg)return!1;var e={},n=Og.CSS&&Og.CSS.supports;return["auto","manipulation","pan-y","pan-x","pan-x pan-y","none"].forEach(function(t){return e[t]=!n||Og.CSS.supports("touch-action",t)}),e}(),Xg="ontouchstart"in Og,Wg=void 0!==kg(Og,"PointerEvent"),qg=Xg&&/mobile|tablet|ip(ad|hone|od)|android/i.test(navigator.userAgent),Yg="touch",Kg="mouse",$g=25,Zg=1,Qg=4,Jg=8,t_=1,e_=2,n_=4,i_=8,r_=16,o_=e_|n_,s_=i_|r_,a_=o_|s_,l_=["x","y"],u_=["clientX","clientY"];function c_(t,e,n){var i;if(t)if(t.forEach)t.forEach(e,n);else if(void 0!==t.length)for(i=0;i<t.length;)e.call(n,t[i],i,t),i++;else for(i in t)t.hasOwnProperty(i)&&e.call(n,t[i],i,t)}function h_(t,e){return typeof t===Dg?t.apply(e&&e[0]||void 0,e):t}function p_(t,e){return-1<t.indexOf(e)}var f_=function(){function t(t,e){this.manager=t,this.set(e)}var e=t.prototype;return e.set=function(t){t===Fg&&(t=this.compute()),Bg&&this.manager.element.style&&jg[t]&&(this.manager.element.style[Vg]=t),this.actions=t.toLowerCase().trim()},e.update=function(){this.set(this.manager.options.touchAction)},e.compute=function(){var e=[];return c_(this.manager.recognizers,function(t){h_(t.options.enable,[t])&&(e=e.concat(t.getTouchAction()))}),function(t){if(p_(t,Gg))return Gg;var e=p_(t,Hg),n=p_(t,Ug);return e&&n?Gg:e||n?e?Hg:Ug:p_(t,zg)?zg:"auto"}(e.join(" "))},e.preventDefaults=function(t){var e=t.srcEvent,n=t.offsetDirection;if(this.manager.session.prevented)e.preventDefault();else{var i=this.actions,r=p_(i,Gg)&&!jg[Gg],o=p_(i,Ug)&&!jg[Ug],s=p_(i,Hg)&&!jg[Hg];if(r){var a=1===t.pointers.length,l=t.distance<2,u=t.deltaTime<250;if(a&&l&&u)return}if(!s||!o)return r||o&&n&o_||s&&n&s_?this.preventSrc(e):void 0}},e.preventSrc=function(t){this.manager.session.prevented=!0,t.preventDefault()},t}();function d_(t,e){for(;t;){if(t===e)return!0;t=t.parentNode}return!1}function v_(t){var e=t.length;if(1===e)return{x:Mg(t[0].clientX),y:Mg(t[0].clientY)};for(var n=0,i=0,r=0;r<e;)n+=t[r].clientX,i+=t[r].clientY,r++;return{x:Mg(n/e),y:Mg(i/e)}}function g_(t){for(var e=[],n=0;n<t.pointers.length;)e[n]={clientX:Mg(t.pointers[n].clientX),clientY:Mg(t.pointers[n].clientY)},n++;return{timeStamp:Rg(),pointers:e,center:v_(e),deltaX:t.deltaX,deltaY:t.deltaY}}function __(t,e,n){n||(n=l_);var i=e[n[0]]-t[n[0]],r=e[n[1]]-t[n[1]];return Math.sqrt(i*i+r*r)}function m_(t,e,n){n||(n=l_);var i=e[n[0]]-t[n[0]],r=e[n[1]]-t[n[1]];return 180*Math.atan2(r,i)/Math.PI}function y_(t,e){return t===e?t_:Ng(t)>=Ng(e)?t<0?e_:n_:e<0?i_:r_}function E_(t,e,n){return{x:e/t||0,y:n/t||0}}function I_(t,e){var n=t.session,i=e.pointers,r=i.length;n.firstInput||(n.firstInput=g_(e)),1<r&&!n.firstMultiple?n.firstMultiple=g_(e):1===r&&(n.firstMultiple=!1);var o,s,a,l,u,c,h=n.firstInput,p=n.firstMultiple,f=p?p.center:h.center,d=e.center=v_(i);e.timeStamp=Rg(),e.deltaTime=e.timeStamp-h.timeStamp,e.angle=m_(f,d),e.distance=__(f,d),o=n,a=(s=e).center,l=o.offsetDelta||{},u=o.prevDelta||{},c=o.prevInput||{},s.eventType!==Zg&&c.eventType!==Qg||(u=o.prevDelta={x:c.deltaX||0,y:c.deltaY||0},l=o.offsetDelta={x:a.x,y:a.y}),s.deltaX=u.x+(a.x-l.x),s.deltaY=u.y+(a.y-l.y),e.offsetDirection=y_(e.deltaX,e.deltaY);var v,g,_,m,y=E_(e.deltaTime,e.deltaX,e.deltaY);e.overallVelocityX=y.x,e.overallVelocityY=y.y,e.overallVelocity=Ng(y.x)>Ng(y.y)?y.x:y.y,e.scale=p?(v=p.pointers,__((g=i)[0],g[1],u_)/__(v[0],v[1],u_)):1,e.rotation=p?(_=p.pointers,m_((m=i)[1],m[0],u_)+m_(_[1],_[0],u_)):0,e.maxPointers=n.prevInput?e.pointers.length>n.prevInput.maxPointers?e.pointers.length:n.prevInput.maxPointers:e.pointers.length,function(t,e){var n,i,r,o,s=t.lastInterval||e,a=e.timeStamp-s.timeStamp;if(e.eventType!==Jg&&($g<a||void 0===s.velocity)){var l=e.deltaX-s.deltaX,u=e.deltaY-s.deltaY,c=E_(a,l,u);i=c.x,r=c.y,n=Ng(c.x)>Ng(c.y)?c.x:c.y,o=y_(l,u),t.lastInterval=e}else n=s.velocity,i=s.velocityX,r=s.velocityY,o=s.direction;e.velocity=n,e.velocityX=i,e.velocityY=r,e.direction=o}(n,e);var E,I=t.element,b=e.srcEvent;d_(E=b.composedPath?b.composedPath()[0]:b.path?b.path[0]:b.target,I)&&(I=E),e.target=I}function b_(t,e,n){var i=n.pointers.length,r=n.changedPointers.length,o=e&Zg&&i-r==0,s=e&(Qg|Jg)&&i-r==0;n.isFirst=!!o,n.isFinal=!!s,o&&(t.session={}),n.eventType=e,I_(t,n),t.emit("hammer.input",n),t.recognize(n),t.session.prevInput=n}function T_(t){return t.trim().split(/\s+/g)}function S_(e,t,n){c_(T_(t),function(t){e.addEventListener(t,n,!1)})}function x_(e,t,n){c_(T_(t),function(t){e.removeEventListener(t,n,!1)})}function w_(t){var e=t.ownerDocument||t;return e.defaultView||e.parentWindow||window}var P_=function(){function t(e,t){var n=this;this.manager=e,this.callback=t,this.element=e.element,this.target=e.options.inputTarget,this.domHandler=function(t){h_(e.options.enable,[e])&&n.handler(t)},this.init()}var e=t.prototype;return e.handler=function(){},e.init=function(){this.evEl&&S_(this.element,this.evEl,this.domHandler),this.evTarget&&S_(this.target,this.evTarget,this.domHandler),this.evWin&&S_(w_(this.element),this.evWin,this.domHandler)},e.destroy=function(){this.evEl&&x_(this.element,this.evEl,this.domHandler),this.evTarget&&x_(this.target,this.evTarget,this.domHandler),this.evWin&&x_(w_(this.element),this.evWin,this.domHandler)},t}();function O_(t,e,n){if(t.indexOf&&!n)return t.indexOf(e);for(var i=0;i<t.length;){if(n&&t[i][n]==e||!n&&t[i]===e)return i;i++}return-1}var A_={pointerdown:Zg,pointermove:2,pointerup:Qg,pointercancel:Jg,pointerout:Jg},L_={2:Yg,3:"pen",4:Kg,5:"kinect"},C_="pointerdown",D_="pointermove pointerup pointercancel";Og.MSPointerEvent&&!Og.PointerEvent&&(C_="MSPointerDown",D_="MSPointerMove MSPointerUp MSPointerCancel");var M_=function(n){function i(){var t,e=i.prototype;return e.evEl=C_,e.evWin=D_,(t=n.apply(this,arguments)||this).store=t.manager.session.pointerEvents=[],t}return wg(i,n),i.prototype.handler=function(t){var e=this.store,n=!1,i=t.type.toLowerCase().replace("ms",""),r=A_[i],o=L_[t.pointerType]||t.pointerType,s=o===Yg,a=O_(e,t.pointerId,"pointerId");r&Zg&&(0===t.button||s)?a<0&&(e.push(t),a=e.length-1):r&(Qg|Jg)&&(n=!0),a<0||(e[a]=t,this.callback(this.manager,r,{pointers:e,changedPointers:[t],pointerType:o,srcEvent:t}),n&&e.splice(a,1))},i}(P_);function N_(t){return Array.prototype.slice.call(t,0)}function R_(t,n,e){for(var i=[],r=[],o=0;o<t.length;){var s=n?t[o][n]:t[o];O_(r,s)<0&&i.push(t[o]),r[o]=s,o++}return e&&(i=n?i.sort(function(t,e){return t[n]>e[n]}):i.sort()),i}var k_={touchstart:Zg,touchmove:2,touchend:Qg,touchcancel:Jg},V_=function(e){function n(){var t;return n.prototype.evTarget="touchstart touchmove touchend touchcancel",(t=e.apply(this,arguments)||this).targetIds={},t}return wg(n,e),n.prototype.handler=function(t){var e=k_[t.type],n=function(t,e){var n,i,r=N_(t.touches),o=this.targetIds;if(e&(2|Zg)&&1===r.length)return o[r[0].identifier]=!0,[r,r];var s=N_(t.changedTouches),a=[],l=this.target;if(i=r.filter(function(t){return d_(t.target,l)}),e===Zg)for(n=0;n<i.length;)o[i[n].identifier]=!0,n++;n=0;for(;n<s.length;)o[s[n].identifier]&&a.push(s[n]),e&(Qg|Jg)&&delete o[s[n].identifier],n++;return a.length?[R_(i.concat(a),"identifier",!0),a]:void 0}.call(this,t,e);n&&this.callback(this.manager,e,{pointers:n[0],changedPointers:n[1],pointerType:Yg,srcEvent:t})},n}(P_);var B_={mousedown:Zg,mousemove:2,mouseup:Qg},F_=function(n){function i(){var t,e=i.prototype;return e.evEl="mousedown",e.evWin="mousemove mouseup",(t=n.apply(this,arguments)||this).pressed=!1,t}return wg(i,n),i.prototype.handler=function(t){var e=B_[t.type];e&Zg&&0===t.button&&(this.pressed=!0),2&e&&1!==t.which&&(e=Qg),this.pressed&&(e&Qg&&(this.pressed=!1),this.callback(this.manager,e,{pointers:[t],changedPointers:[t],pointerType:Kg,srcEvent:t}))},i}(P_),z_=2500,G_=25;function H_(t){var e=t.changedPointers[0];if(e.identifier===this.primaryTouch){var n={x:e.clientX,y:e.clientY},i=this.lastTouches;this.lastTouches.push(n);setTimeout(function(){var t=i.indexOf(n);-1<t&&i.splice(t,1)},z_)}}var U_=function(){return function(n){function t(t,e){var o;return(o=n.call(this,t,e)||this).handler=function(t,e,n){var i=n.pointerType===Yg,r=n.pointerType===Kg;if(!(r&&n.sourceCapabilities&&n.sourceCapabilities.firesTouchEvents)){if(i)(function(t,e){t&Zg?(this.primaryTouch=e.changedPointers[0].identifier,H_.call(this,e)):t&(Qg|Jg)&&H_.call(this,e)}).call(Pg(Pg(o)),e,n);else if(r&&function(t){for(var e=t.srcEvent.clientX,n=t.srcEvent.clientY,i=0;i<this.lastTouches.length;i++){var r=this.lastTouches[i],o=Math.abs(e-r.x),s=Math.abs(n-r.y);if(o<=G_&&s<=G_)return!0}return!1}.call(Pg(Pg(o)),n))return;o.callback(t,e,n)}},o.touch=new V_(o.manager,o.handler),o.mouse=new F_(o.manager,o.handler),o.primaryTouch=null,o.lastTouches=[],o}return wg(t,n),t.prototype.destroy=function(){this.touch.destroy(),this.mouse.destroy()},t}(P_)}();function j_(t,e,n){return!!Array.isArray(t)&&(c_(t,n[e],n),!0)}var X_=1;function W_(t,e){var n=e.manager;return n?n.get(t):t}function q_(t){return 16&t?"cancel":8&t?"end":4&t?"move":2&t?"start":""}var Y_=function(){function t(t){void 0===t&&(t={}),this.options=xg({enable:!0},t),this.id=X_++,this.manager=null,this.state=1,this.simultaneous={},this.requireFail=[]}var e=t.prototype;return e.set=function(t){return Ag(this.options,t),this.manager&&this.manager.touchAction.update(),this},e.recognizeWith=function(t){if(j_(t,"recognizeWith",this))return this;var e=this.simultaneous;return e[(t=W_(t,this)).id]||(e[t.id]=t).recognizeWith(this),this},e.dropRecognizeWith=function(t){return j_(t,"dropRecognizeWith",this)||(t=W_(t,this),delete this.simultaneous[t.id]),this},e.requireFailure=function(t){if(j_(t,"requireFailure",this))return this;var e=this.requireFail;return-1===O_(e,t=W_(t,this))&&(e.push(t),t.requireFailure(this)),this},e.dropRequireFailure=function(t){if(j_(t,"dropRequireFailure",this))return this;t=W_(t,this);var e=O_(this.requireFail,t);return-1<e&&this.requireFail.splice(e,1),this},e.hasRequireFailures=function(){return 0<this.requireFail.length},e.canRecognizeWith=function(t){return!!this.simultaneous[t.id]},e.emit=function(e){var n=this,t=this.state;function i(t){n.manager.emit(t,e)}t<8&&i(n.options.event+q_(t)),i(n.options.event),e.additionalEvent&&i(e.additionalEvent),8<=t&&i(n.options.event+q_(t))},e.tryEmit=function(t){if(this.canEmit())return this.emit(t);this.state=32},e.canEmit=function(){for(var t=0;t<this.requireFail.length;){if(!(33&this.requireFail[t].state))return!1;t++}return!0},e.recognize=function(t){var e=Ag({},t);if(!h_(this.options.enable,[this,e]))return this.reset(),void(this.state=32);56&this.state&&(this.state=1),this.state=this.process(e),30&this.state&&this.tryEmit(e)},e.process=function(t){},e.getTouchAction=function(){},e.reset=function(){},t}(),K_=function(e){function t(t){return void 0===t&&(t={}),e.call(this,xg({pointers:1},t))||this}wg(t,e);var n=t.prototype;return n.attrTest=function(t){var e=this.options.pointers;return 0===e||t.pointers.length===e},n.process=function(t){var e=this.state,n=t.eventType,i=6&e,r=this.attrTest(t);return i&&(n&Jg||!r)?16|e:i||r?n&Qg?8|e:2&e?4|e:2:32},t}(Y_);function $_(t){return t===r_?"down":t===i_?"up":t===e_?"left":t===n_?"right":""}var Z_=function(n){function t(t){var e;return void 0===t&&(t={}),(e=n.call(this,xg({event:"pan",threshold:10,pointers:1,direction:a_},t))||this).pX=null,e.pY=null,e}wg(t,n);var e=t.prototype;return e.getTouchAction=function(){var t=this.options.direction,e=[];return t&o_&&e.push(Ug),t&s_&&e.push(Hg),e},e.directionTest=function(t){var e=this.options,n=!0,i=t.distance,r=t.direction,o=t.deltaX,s=t.deltaY;return r&e.direction||(i=e.direction&o_?(r=0===o?t_:o<0?e_:n_,n=o!==this.pX,Math.abs(t.deltaX)):(r=0===s?t_:s<0?i_:r_,n=s!==this.pY,Math.abs(t.deltaY))),t.direction=r,n&&i>e.threshold&&r&e.direction},e.attrTest=function(t){return K_.prototype.attrTest.call(this,t)&&(2&this.state||!(2&this.state)&&this.directionTest(t))},e.emit=function(t){this.pX=t.deltaX,this.pY=t.deltaY;var e=$_(t.direction);e&&(t.additionalEvent=this.options.event+e),n.prototype.emit.call(this,t)},t}(K_),Q_={domEvents:!1,touchAction:Fg,enable:!0,inputTarget:null,inputClass:null,cssProps:{userSelect:"none",touchSelect:"none",touchCallout:"none",contentZooming:"none",userDrag:"none",tapHighlightColor:"rgba(0,0,0,0)"}};function J_(n,i){var r,o=n.element;o.style&&(c_(n.options.cssProps,function(t,e){r=kg(o.style,e),o.style[r]=i?(n.oldCssProps[r]=o.style[r],t):n.oldCssProps[r]||""}),i||(n.oldCssProps={}))}var tm=function(){function t(t,e){var n,i=this;this.options=Ag({},Q_,e||{}),this.options.inputTarget=this.options.inputTarget||t,this.handlers={},this.session={},this.recognizers=[],this.oldCssProps={},this.element=t,this.input=new((n=this).options.inputClass||(Wg?M_:qg?V_:Xg?U_:F_))(n,b_),this.touchAction=new f_(this,this.options.touchAction),J_(this,!0),c_(this.options.recognizers,function(t){var e=i.add(new t[0](t[1]));t[2]&&e.recognizeWith(t[2]),t[3]&&e.requireFailure(t[3])},this)}var e=t.prototype;return e.set=function(t){return Ag(this.options,t),t.touchAction&&this.touchAction.update(),t.inputTarget&&(this.input.destroy(),this.input.target=t.inputTarget,this.input.init()),this},e.stop=function(t){this.session.stopped=t?2:1},e.recognize=function(t){var e=this.session;if(!e.stopped){var n;this.touchAction.preventDefaults(t);var i=this.recognizers,r=e.curRecognizer;(!r||r&&8&r.state)&&(r=e.curRecognizer=null);for(var o=0;o<i.length;)n=i[o],2===e.stopped||r&&n!==r&&!n.canRecognizeWith(r)?n.reset():n.recognize(t),!r&&14&n.state&&(r=e.curRecognizer=n),o++}},e.get=function(t){if(t instanceof Y_)return t;for(var e=this.recognizers,n=0;n<e.length;n++)if(e[n].options.event===t)return e[n];return null},e.add=function(t){if(j_(t,"add",this))return this;var e=this.get(t.options.event);return e&&this.remove(e),this.recognizers.push(t),(t.manager=this).touchAction.update(),t},e.remove=function(t){if(j_(t,"remove",this))return this;var e=this.get(t);if(t){var n=this.recognizers,i=O_(n,e);-1!==i&&(n.splice(i,1),this.touchAction.update())}return this},e.on=function(t,e){if(void 0===t||void 0===e)return this;var n=this.handlers;return c_(T_(t),function(t){n[t]=n[t]||[],n[t].push(e)}),this},e.off=function(t,e){if(void 0===t)return this;var n=this.handlers;return c_(T_(t),function(t){e?n[t]&&n[t].splice(O_(n[t],e),1):delete n[t]}),this},e.emit=function(t,e){var n,i,r;this.options.domEvents&&(n=t,i=e,(r=document.createEvent("Event")).initEvent(n,!0,!0),(r.gesture=i).target.dispatchEvent(r));var o=this.handlers[t]&&this.handlers[t].slice();if(o&&o.length){e.type=t,e.preventDefault=function(){e.srcEvent.preventDefault()};for(var s=0;s<o.length;)o[s](e),s++}},e.destroy=function(){this.element&&J_(this,!1),this.handlers={},this.session={},this.input.destroy(),this.element=null},t}();function em(i,t,e){var r="DEPRECATED METHOD: "+t+"\n"+e+" AT \n";return function(){var t=new Error("get-stack-trace"),e=t&&t.stack?t.stack.replace(/^[^\(]+?[\n$]/gm,"").replace(/^\s+at\s+/gm,"").replace(/^Object.<anonymous>\s*\(/gm,"{anonymous}()@"):"Unknown Stack Trace",n=window.console&&(window.console.warn||window.console.log);return n&&n.call(window.console,r,e),i.apply(this,arguments)}}var nm=em(function(t,e,n){for(var i=Object.keys(e),r=0;r<i.length;)(!n||n&&void 0===t[i[r]])&&(t[i[r]]=e[i[r]]),r++;return t},"extend","Use `assign`.");em(function(t,e){return nm(t,e,!0)},"merge","Use `assign`.");var im=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])};function rm(t,e){function n(){this.constructor=t}im(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}var om,sm=Object.assign||function(t){for(var e,n=arguments,i=1,r=arguments.length;i<r;i++)for(var o in e=n[i])Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o]);return t};function am(t,e,n,i){var r=t,o=[n[0]?e[0]:i?e[0]-i[0]:e[0],n[1]?e[1]:i?e[1]+i[1]:e[1]];return r=Math.max(o[0],r),r=Math.min(o[1],r)}function lm(t,e){return t<e[0]||t>e[1]}function um(t,e,n){return n[1]&&t>e[1]||n[0]&&t<e[0]}function cm(t,e,n){var i=t,r=e[0],o=e[1],s=o-r;return n[1]&&o<t&&(i=(i-o)%s+r),n[0]&&t<r&&(i=(i-r)%s+o),i}function hm(t){for(var e=[],n=0,i=t.length;n<i;n++)e.push(t[n]);return e}var pm=(om="undefined"==typeof window?{}:window).requestAnimationFrame||om.webkitRequestAnimationFrame,fm=om.cancelAnimationFrame||om.webkitCancelAnimationFrame;if(pm&&!fm){var dm={},vm=pm;pm=function(e){var n=vm(function(t){dm[n]&&e(t)});return dm[n]=!0,n},fm=function(t){delete dm[t]}}else pm&&fm||(pm=function(t){return om.setTimeout(function(){t(om.performance&&om.performance.now&&om.performance.now()||(new Date).getTime())},16)},fm=om.clearTimeout);function gm(t,e){var n={};for(var i in t)i&&(n[i]=e(t[i],i));return n}function _m(t,e){var n={};for(var i in t)i&&e(t[i],i)&&(n[i]=t[i]);return n}function mm(t,e){for(var n in t)if(n&&!e(t[n],n))return!1;return!0}function ym(t,n){return mm(t,function(t,e){return t===n[e]})}var Em={};function Im(t,e){var n,i;return Em[e]||(Em[e]=(i=(n=e)<1?Math.pow(10,Tm(n)):1,function(t){return 0===n?0:Math.round(Math.round(t/n)*n*i)/i})),Em[e](t)}function bm(t,n){if(!t||!n)return t;var i="number"==typeof n;return gm(t,function(t,e){return Im(t,i?n:n[e])})}function Tm(t){if(!isFinite(t))return 0;var e=t+"";if(0<=e.indexOf("e")){for(var n=0,i=1;Math.round(t*i)/i!==t;)i*=10,n++;return n}return 0<=e.indexOf(".")?e.length-e.indexOf(".")-1:0}function Sm(t,e,n){return Math.max(Math.min(t,n),e)}var xm=function(){function t(t){var e=t.options,n=t.itm,i=t.em,r=t.axm;this.options=e,this.itm=n,this.em=i,this.axm=r,this.animationEnd=this.animationEnd.bind(this)}var e=t.prototype;return e.getDuration=function(o,t,e){var n,s=this;if(void 0!==e)n=e;else{var i=gm(t,function(t,e){return n=Math.abs(t-o[e]),i=s.options.deceleration,(r=Math.sqrt(n/i*2))<100?0:r;var n,i,r});n=Object.keys(i).reduce(function(t,e){return Math.max(t,i[e])},-1/0)}return Sm(n,this.options.minimumDuration,this.options.maximumDuration)},e.createAnimationParam=function(t,e,n){var i=this.axm.get(),r=t,o=n&&n.event||null;return{depaPos:i,destPos:r,duration:Sm(e,this.options.minimumDuration,this.options.maximumDuration),delta:this.axm.getDelta(i,r),inputEvent:o,input:n&&n.input||null,isTrusted:!!o,done:this.animationEnd}},e.grab=function(t,e){if(this._animateParam&&t.length){var n=this.axm.get(t),i=this.axm.map(n,function(t,e){return cm(t,e.range,e.circular)});mm(i,function(t,e){return n[e]===t})||this.em.triggerChange(i,!1,n,e,!!e),this._animateParam=null,this._raf&&(r=this._raf,fm(r)),this._raf=null,this.em.triggerAnimationEnd(!(!e||!e.event))}var r},e.getEventInfo=function(){return this._animateParam&&this._animateParam.input&&this._animateParam.inputEvent?{input:this._animateParam.input,event:this._animateParam.inputEvent}:null},e.restore=function(t){var e=this.axm.get(),n=this.axm.map(e,function(t,e){return Math.min(e.range[1],Math.max(e.range[0],t))});this.animateTo(n,this.getDuration(e,n),t)},e.animationEnd=function(){var t=this.getEventInfo();this._animateParam=null;var e=this.axm.filter(this.axm.get(),function(t,e){return um(t,e.range,e.circular)});0<Object.keys(e).length&&this.setTo(this.axm.map(e,function(t,e){return cm(t,e.range,e.circular)})),this.itm.setInterrupt(!1),this.em.triggerAnimationEnd(!!t),this.axm.isOutside()?this.restore(t):this.finish(!!t)},e.finish=function(t){this._animateParam=null,this.itm.setInterrupt(!1),this.em.triggerFinish(t)},e.animateLoop=function(r,o){if(r.duration){this._animateParam=sm({},r);var l=this._animateParam,u=this,c=l.destPos,h=l.depaPos,p=0,f=gm(h,function(t,e){return t<=c[e]?1:-1}),d=gm(c,function(t){return t}),v=(new Date).getTime();l.startTime=v,function t(){u._raf=null;var e=(new Date).getTime(),s=(e-l.startTime)/r.duration,a=u.easing(s),n=u.axm.map(h,function(t,e,n){var i=1<=s?c[n]:t+l.delta[n]*(a-p),r=cm(i,e.range,e.circular);if(i!==r){var o=f[n]*(e.range[1]-e.range[0]);c[n]-=o,h[n]-=o}return r}),i=!u.em.triggerChange(n,!1,h);if(h=n,v=e,1<=(p=a))return ym(c=u.getFinalPos(c,d),u.axm.get(Object.keys(c)))||u.em.triggerChange(c,!0,h),void o();i?u.finish(!1):u._raf=pm(t)}()}else this.em.triggerChange(r.destPos,!0),o()},e.getFinalPos=function(t,n){var i=this;return gm(t,function(t,e){return t>=n[e]-1e-6&&t<=n[e]+1e-6?n[e]:Im(t,i.getRoundUnit(t,e))})},e.getRoundUnit=function(t,e){var n,i=this.options.round,r=null;if(!i){var o=this.axm.getAxisOptions(e);n=Math.max(Tm(o.range[0]),Tm(o.range[1]),Tm(t)),r=1/Math.pow(10,n)}return r||i},e.getUserControll=function(t){var e=t.setTo();return e.destPos=this.axm.get(e.destPos),e.duration=Sm(e.duration,this.options.minimumDuration,this.options.maximumDuration),e},e.animateTo=function(t,e,n){var i=this,r=this.createAnimationParam(t,e,n),o=sm({},r.depaPos),s=this.em.triggerAnimationStart(r),a=this.getUserControll(r);if(!s&&this.axm.every(a.destPos,function(t,e){return um(t,e.range,e.circular)})&&console.warn("You can't stop the 'animation' event when 'circular' is true."),s&&!ym(a.destPos,o)){var l=n&&n.event||null;this.animateLoop({depaPos:o,destPos:a.destPos,duration:a.duration,delta:this.axm.getDelta(o,a.destPos),isTrusted:!!l,inputEvent:l,input:n&&n.input||null},function(){return i.animationEnd()})}},e.easing=function(t){return 1<t?1:this.options.easing(t)},e.setTo=function(t,e){void 0===e&&(e=0);var n=Object.keys(t);this.grab(n);var i=this.axm.get(n);if(ym(t,i))return this;this.itm.setInterrupt(!0);var r=_m(t,function(t,e){return i[e]!==t});return Object.keys(r).length&&(ym(r=this.axm.map(r,function(t,e){var n=e.range,i=e.circular;return i&&(i[0]||i[1])?t:am(t,n,i)}),i)||(0<e?this.animateTo(r,e):(this.em.triggerChange(r),this.finish(!1)))),this},e.setBy=function(n,t){return void 0===t&&(t=0),this.setTo(gm(this.axm.get(Object.keys(n)),function(t,e){return t+n[e]}),t)},t}(),wm=function(){function t(t){this.axes=t}var e=t.prototype;return e.triggerHold=function(t,e){var n=this.getRoundPos(t).roundPos;this.axes.trigger("hold",{pos:n,input:e.input||null,inputEvent:e.event||null,isTrusted:!0})},e.triggerRelease=function(t){var e=this.getRoundPos(t.destPos,t.depaPos),n=e.roundPos,i=e.roundDepa;t.destPos=n,t.depaPos=i,t.setTo=this.createUserControll(t.destPos,t.duration),this.axes.trigger("release",t)},e.triggerChange=function(t,e,n,i,r){void 0===r&&(r=!1);var o=this.am,s=o.axm,a=o.getEventInfo(),l=this.getRoundPos(t,n),u=l.roundPos,c=l.roundDepa,h=s.moveTo(u,c),p=i&&i.event||a&&a.event||null,f={pos:h.pos,delta:h.delta,holding:r,inputEvent:p,isTrusted:!!p,input:i&&i.input||a&&a.input||null,set:p?this.createUserControll(h.pos):function(){}},d=this.axes.trigger("change",f);return p&&s.set(f.set().destPos),d},e.triggerAnimationStart=function(t){var e=this.getRoundPos(t.destPos,t.depaPos),n=e.roundPos,i=e.roundDepa;return t.destPos=n,t.depaPos=i,t.setTo=this.createUserControll(t.destPos,t.duration),this.axes.trigger("animationStart",t)},e.triggerAnimationEnd=function(t){void 0===t&&(t=!1),this.axes.trigger("animationEnd",{isTrusted:t})},e.triggerFinish=function(t){void 0===t&&(t=!1),this.axes.trigger("finish",{isTrusted:t})},e.createUserControll=function(t,e){void 0===e&&(e=0);var n={destPos:sm({},t),duration:e};return function(t,e){return t&&(n.destPos=sm({},t)),void 0!==e&&(n.duration=e),n}},e.setAnimationManager=function(t){this.am=t},e.destroy=function(){this.axes.off()},e.getRoundPos=function(t,e){var n=this.axes.options.round;return{roundPos:bm(t,n),roundDepa:bm(e,n)}},t}(),Pm=function(){function t(t){this.options=t,this._prevented=!1}var e=t.prototype;return e.isInterrupting=function(){return this.options.interruptable||this._prevented},e.isInterrupted=function(){return!this.options.interruptable&&this._prevented},e.setInterrupt=function(t){!this.options.interruptable&&(this._prevented=t)},t}(),Om=function(){function t(t,e){var n=this;this.axis=t,this.options=e,this._complementOptions(),this._pos=Object.keys(this.axis).reduce(function(t,e){return t[e]=n.axis[e].range[0],t},{})}var e=t.prototype;return e._complementOptions=function(){var r=this;Object.keys(this.axis).forEach(function(i){r.axis[i]=sm({range:[0,100],bounce:[0,0],circular:[!1,!1]},r.axis[i]),["bounce","circular"].forEach(function(t){var e=r.axis,n=e[i][t];/string|number|boolean/.test(typeof n)&&(e[i][t]=[n,n])})})},e.getDelta=function(t,e){var n=this.get(t);return gm(this.get(e),function(t,e){return t-n[e]})},e.get=function(t){var n=this;return t&&Array.isArray(t)?t.reduce(function(t,e){return e&&e in n._pos&&(t[e]=n._pos[e]),t},{}):sm({},this._pos,t||{})},e.moveTo=function(n,i){void 0===i&&(i=this._pos);var t=gm(this._pos,function(t,e){return e in n&&e in i?n[e]-i[e]:0});return this.set(this.map(n,function(t,e){return e?cm(t,e.range,e.circular):0})),{pos:sm({},this._pos),delta:t}},e.set=function(t){for(var e in t)e&&e in this._pos&&(this._pos[e]=t[e])},e.every=function(t,n){var i=this.axis;return mm(t,function(t,e){return n(t,i[e],e)})},e.filter=function(t,n){var i=this.axis;return _m(t,function(t,e){return n(t,i[e],e)})},e.map=function(t,n){var i=this.axis;return gm(t,function(t,e){return n(t,i[e],e)})},e.isOutside=function(t){return!this.every(t?this.get(t):this._pos,function(t,e){return!lm(t,e.range)})},e.getAxisOptions=function(t){return this.axis[t]},t}(),Am=function(){function t(t){var e=t.options,n=t.itm,i=t.em,r=t.axm,o=t.am;this.isOutside=!1,this.moveDistance=null,this.isStopped=!1,this.options=e,this.itm=n,this.em=i,this.axm=r,this.am=o}var e=t.prototype;return e.atOutside=function(t){var s=this;if(this.isOutside)return this.axm.map(t,function(t,e){var n=e.range[0]-e.bounce[0],i=e.range[1]+e.bounce[1];return i<t?i:t<n?n:t});var a=this.am.easing(1e-5)/1e-5;return this.axm.map(t,function(t,e){var n=e.range[0],i=e.range[1],r=e.bounce,o=e.circular;return o&&(o[0]||o[1])?t:t<n?n-s.am.easing((n-t)/(r[0]*a))*r[0]:i<t?i+s.am.easing((t-i)/(r[1]*a))*r[1]:t})},e.get=function(t){return this.axm.get(t.axes)},e.hold=function(t,e){if(!this.itm.isInterrupted()&&t.axes.length){var n={input:t,event:e};this.isStopped=!1,this.itm.setInterrupt(!0),this.am.grab(t.axes,n),!this.moveDistance&&this.em.triggerHold(this.axm.get(),n),this.isOutside=this.axm.isOutside(t.axes),this.moveDistance=this.axm.get(t.axes)}},e.change=function(t,e,n){if(!this.isStopped&&this.itm.isInterrupting()&&!this.axm.every(n,function(t){return 0===t})){var i,r=this.moveDistance||this.axm.get(t.axes);i=gm(r,function(t,e){return t+(n[e]||0)}),this.moveDistance&&(this.moveDistance=i),this.isOutside&&this.axm.every(r,function(t,e){return!lm(t,e.range)})&&(this.isOutside=!1),r=this.atOutside(r),i=this.atOutside(i),!this.em.triggerChange(i,!1,r,{input:t,event:e},!0)&&(this.isStopped=!0,this.moveDistance=null,this.am.finish(!1))}},e.release=function(t,e,n,i){if(!this.isStopped&&this.itm.isInterrupting()&&this.moveDistance){var r=this.axm.get(t.axes),o=this.axm.get(),s=this.axm.get(this.axm.map(n,function(t,e,n){return e.circular&&(e.circular[0]||e.circular[1])?r[n]+t:am(r[n]+t,e.range,e.circular,e.bounce)})),a=this.am.getDuration(s,r,i);0===a&&(s=sm({},o));var l={depaPos:o,destPos:s,duration:a,delta:this.axm.getDelta(o,s),inputEvent:e,input:t,isTrusted:!0};this.em.triggerRelease(l),this.moveDistance=null;var u=this.am.getUserControll(l),c=ym(u.destPos,o),h={input:t,event:e};c||0===u.duration?(!c&&this.em.triggerChange(u.destPos,!1,o,h,!0),this.itm.setInterrupt(!1),this.axm.isOutside()?this.am.restore(h):this.em.triggerFinish(!0)):this.am.animateTo(u.destPos,u.duration,h)}},t}(),Lm=function(){if("undefined"==typeof document)return"";for(var t=(document.head||document.getElementsByTagName("head")[0]).style,e=["transform","webkitTransform","msTransform","mozTransform"],n=0,i=e.length;n<i;n++)if(e[n]in t)return e[n];return""}(),Cm=function(r){function t(t,e,n){void 0===t&&(t={}),void 0===e&&(e={});var i=r.call(this)||this;return i.axis=t,i._inputs=[],i.options=sm({easing:function(t){return 1-Math.pow(1-t,3)},interruptable:!0,maximumDuration:1/0,minimumDuration:0,deceleration:6e-4,round:null},e),i.itm=new Pm(i.options),i.axm=new Om(i.axis,i.options),i.em=new wm(i),i.am=new xm(i),i.io=new Am(i),i.em.setAnimationManager(i.am),n&&i.em.triggerChange(n),i}rm(t,r);var e=t.prototype;return e.connect=function(t,e){var n;if(n="string"==typeof t?t.split(" "):t.concat(),~this._inputs.indexOf(e)&&this.disconnect(e),"hammer"in e){var i=this._inputs.filter(function(t){return t.hammer&&t.element===e.element});i.length&&(e.hammer=i[0].hammer)}return e.mapAxes(n),e.connect(this.io),this._inputs.push(e),this},e.disconnect=function(t){if(t){var e=this._inputs.indexOf(t);0<=e&&(this._inputs[e].disconnect(),this._inputs.splice(e,1))}else this._inputs.forEach(function(t){return t.disconnect()}),this._inputs=[];return this},e.get=function(t){return this.axm.get(t)},e.setTo=function(t,e){return void 0===e&&(e=0),this.am.setTo(t,e),this},e.setBy=function(t,e){return void 0===e&&(e=0),this.am.setBy(t,e),this},e.isBounceArea=function(t){return this.axm.isOutside(t)},e.destroy=function(){this.disconnect(),this.em.destroy()},t.VERSION="2.6.0",t.TRANSFORM=Lm,t.DIRECTION_NONE=t_,t.DIRECTION_LEFT=e_,t.DIRECTION_RIGHT=n_,t.DIRECTION_UP=i_,t.DIRECTION_DOWN=r_,t.DIRECTION_HORIZONTAL=o_,t.DIRECTION_VERTICAL=s_,t.DIRECTION_ALL=a_,t}(Ph),Dm="PointerEvent"in om||"MSPointerEvent"in om,Mm="ontouchstart"in om,Nm="_EGJS_AXES_INPUTTYPE_";function Rm(i,t){return t.reduce(function(t,e,n){return i[n]&&(t[i[n]]=e),t},{})}function km(t,e,n){return n?!!(e===a_||e&t&&n&t):!!(e&t)}var Vm,Bm=function(){function t(t,e){if(this.axes=[],this.hammer=null,this.element=null,this.panRecognizer=null,void 0===tm)throw new Error("The Hammerjs must be loaded before eg.Axes.PanInput.\nhttp://hammerjs.github.io/");this.element=function e(t,n){var i;if(void 0===n&&(n=!1),"string"==typeof t){if(t.match(/^<([a-z]+)\s*([^>]*)>/)){var r=document.createElement("div");r.innerHTML=t,i=hm(r.childNodes)}else i=hm(document.querySelectorAll(t));n||(i=1<=i.length?i[0]:void 0)}else t===om?i=t:!t.nodeName||1!==t.nodeType&&9!==t.nodeType?"jQuery"in om&&t instanceof jQuery||t.constructor.prototype.jquery?i=n?t.toArray():t.get(0):Array.isArray(t)&&(i=t.map(function(t){return e(t)}),n||(i=1<=i.length?i[0]:void 0)):i=t;return i}(t),this.options=sm({inputType:["touch","mouse","pointer"],scale:[1,1],thresholdAngle:45,threshold:0,hammerManagerOptions:{cssProps:{userSelect:"none",touchSelect:"none",touchCallout:"none",userDrag:"none"}}},e),this.onHammerInput=this.onHammerInput.bind(this),this.onPanmove=this.onPanmove.bind(this),this.onPanend=this.onPanend.bind(this)}var e=t.prototype;return e.mapAxes=function(t){var e=!!t[0],n=!!t[1];this._direction=e&&n?a_:e?o_:n?s_:t_,this.axes=t},e.connect=function(t){var e={direction:this._direction,threshold:this.options.threshold};if(this.hammer)this.removeRecognizer(),this.dettachEvent();else{var n=this.element[Nm];n||(n=String(Math.round(Math.random()*(new Date).getTime())));var i=function(t){void 0===t&&(t=[]);var e=!1,n=!1,i=!1;return t.forEach(function(t){switch(t){case"mouse":n=!0;break;case"touch":e=Mm;break;case"pointer":i=Dm}}),i?M_:e&&n?U_:e?V_:n?F_:null}(this.options.inputType);if(!i)throw new Error("Wrong inputType parameter!");this.hammer=function(t,e){try{return new tm(t,sm({},e))}catch(t){return null}}(this.element,sm({inputClass:i},this.options.hammerManagerOptions)),this.element[Nm]=n}return this.panRecognizer=new Z_(e),this.hammer.add(this.panRecognizer),this.attachEvent(t),this},e.disconnect=function(){return this.removeRecognizer(),this.hammer&&this.dettachEvent(),this._direction=t_,this},e.destroy=function(){this.disconnect(),this.hammer&&0===this.hammer.recognizers.length&&this.hammer.destroy(),delete this.element[Nm],this.element=null,this.hammer=null},e.enable=function(){return this.hammer&&(this.hammer.get("pan").options.enable=!0),this},e.disable=function(){return this.hammer&&(this.hammer.get("pan").options.enable=!1),this},e.isEnable=function(){return!(!this.hammer||!this.hammer.get("pan").options.enable)},e.removeRecognizer=function(){this.hammer&&this.panRecognizer&&(this.hammer.remove(this.panRecognizer),this.panRecognizer=null)},e.onHammerInput=function(t){this.isEnable()&&(t.isFirst?this.observer.hold(this,t):t.isFinal&&this.onPanend(t))},e.onPanmove=function(t){var e=function(t,e){if(e<0||90<e)return t_;var n=Math.abs(t);return e<n&&n<180-e?s_:o_}(t.angle,this.options.thresholdAngle),n=this.hammer.session.prevInput;t.offsetY=n?(t.offsetX=t.deltaX-n.deltaX,t.deltaY-n.deltaY):t.offsetX=0;var i=this.getOffset([t.offsetX,t.offsetY],[km(o_,this._direction,e),km(s_,this._direction,e)]),r=i.some(function(t){return 0!==t});r&&(t.srcEvent.preventDefault(),t.srcEvent.stopPropagation()),(t.preventSystemEvent=r)&&this.observer.change(this,t,Rm(this.axes,i))},e.onPanend=function(t){var e,n,i,r,o=this.getOffset([Math.abs(t.velocityX)*(t.deltaX<0?-1:1),Math.abs(t.velocityY)*(t.deltaY<0?-1:1)],[km(o_,this._direction),km(s_,this._direction)]);e=o,n=this.observer.options.deceleration,i=Math.sqrt(e[0]*e[0]+e[1]*e[1]),r=Math.abs(i/-n),o=[e[0]/2*r,e[1]/2*r],this.observer.release(this,t,Rm(this.axes,o))},e.attachEvent=function(t){this.observer=t,this.hammer.on("hammer.input",this.onHammerInput).on("panstart panmove",this.onPanmove)},e.dettachEvent=function(){this.hammer.off("hammer.input",this.onHammerInput).off("panstart panmove",this.onPanmove),this.observer=null},e.getOffset=function(t,e){var n=[0,0],i=this.options.scale;return e[0]&&(n[0]=t[0]*i[0]),e[1]&&(n[1]=t[1]*i[1]),n},t}();
/*
	Copyright (c) 2017 NAVER Corp.
	@egjs/flicking project is licensed under the MIT <https://naver.github.io/egjs/license.txt> license

	@egjs/flicking JavaScript library
	https://github.com/naver/egjs-flicking

	@version 2.4.4
	*/
function Fm(t,e){t.prototype=Object.create(e.prototype),(t.prototype.constructor=t).__proto__=e}var zm=(Vm="undefined"==typeof window?{document:{},navigator:{userAgent:""}}:window).document,Gm={$:function(t){var n=null;if("string"==typeof t){var e=t.match(/^<([a-z]+)\s*([^>]*)>/);e?(n=zm.createElement(e[1]),3===e.length&&e[2].split(" ").forEach(function(t){var e=t.split("=");n.setAttribute(e[0],e[1].trim().replace(/(^["']|["']$)/g,""))})):(n=zm.querySelectorAll(t)).length?1===n.length&&(n=n[0]):n=null}else t.nodeName&&1===t.nodeType&&(n=t);return n},toArray:function(t){return[].slice.call(t)},isArray:function(t){return t&&t.constructor===Array},isObject:function(t){return t&&!t.nodeType&&"object"==typeof t&&!this.isArray(t)},extend:function(n){for(var t=arguments,i=this,e=arguments.length,r=new Array(1<e?e-1:0),o=1;o<e;o++)r[o-1]=t[o];if(!r.length||1===r.length&&!r[0])return n;var s=r.shift();return this.isObject(n)&&this.isObject(s)&&Object.keys(s).forEach(function(t){var e=s[t];i.isObject(e)?(!n[t]&&(n[t]={}),n[t]=i.extend(n[t],e)):n[t]=i.isArray(e)?e.concat():e}),this.extend.apply(this,[n].concat(r))},css:function(t,e,n){if("string"==typeof e){var i=t.style[e];return(!i||"auto"===i||/\d/.test(i)&&!/\d(px)?$/.test(i))&&(i=Vm.getComputedStyle(t)[e]),n?this.getNumValue(i):i}var r=function(e,n){return Object.keys(n).forEach(function(t){e[t]=n[t]})};return this.isArray(t)?t.forEach(function(t){return r(t.style,e)}):r(t.style,e),t},classList:function(t,e,n){var i,r="boolean"==typeof n;return t.classList?i=t.classList[r&&(n?"add":"remove")||"contains"](e):(i=t.className,r?n&&-1===i.indexOf(e)?i=t.className=(i+" "+e).replace(/\s{2,}/g," "):n||(i=t.className=i.replace(e,"")):i=new RegExp("\\b"+e+"\\b").test(i)),i},getNumValue:function(t,e){var n=t;return isNaN(n=parseFloat(n))?e:n},getUnitValue:function(t){return(parseFloat(t)||0)+(String(t).match(/(?:[a-z]{2,}|%)$/)||"px")},getOuter:function(n,t){var i=this,r=0;return("outerWidth"===t?["Left","Right"]:["Top","Bottom"]).forEach(function(e){["padding","margin"].forEach(function(t){r+=i.css(n,""+t+e,!0)})}),this.css(n,t.replace("outer","").toLocaleLowerCase(),!0)+r},outerWidth:function(t){return this.getOuter(t,"outerWidth")},outerHeight:function(t){return this.getOuter(t,"outerHeight")},translate:function(t,e,n){return n?"translate3d("+t+","+e+",0)":"translate("+t+","+e+")"},hasClickBug:function(){var t=Vm.navigator.userAgent,e=/iPhone|iPad/.test(t);return this.hasClickBug=function(){return e},e}},Hm=function(){function t(t){this.superclass=t||function(){return function(){}}()}return t.prototype.with=function(){for(var t=arguments,e=arguments.length,n=new Array(e),i=0;i<e;i++)n[i]=t[i];return n.reduce(function(t,e){return e(t)},this.superclass)},t}(),Um={beforeFlickStart:"beforeFlickStart",beforeRestore:"beforeRestore",flick:"flick",flickEnd:"flickEnd",restore:"restore"},jm={name:"transform"};jm.support=function(){if(!zm.documentElement)return!1;var t=zm.documentElement.style;return jm.name in t||(jm.name="webkitTransform")in t}();var Xm,Wm,qm=Vm.CSS&&Vm.CSS.supports&&Vm.CSS.supports("will-change","transform"),Ym=/Android 2\./.test(Vm.navigator.userAgent),Km="data-height",$m={panel:{$list:null,index:0,no:0,currIndex:0,currNo:0,size:0,count:0,origCount:0,changed:!1,animating:!1,minCount:3},touch:{holdPos:0,destPos:0,distance:0,direction:null,lastPos:0,holding:!1,isTrusted:!1},customEvent:{flick:!0,restore:!1,restoreCall:!1},dirData:[],indexToMove:0,$dummyAnchor:null},Zm={hwAccelerable:!0,prefix:"eg-flick",deceleration:6e-4,horizontal:!0,circular:!1,previewPadding:null,bounce:null,threshold:40,duration:100,panelEffect:function(t){return 1-Math.pow(1-t,3)},defaultIndex:0,inputType:["touch","mouse"],thresholdAngle:45,adaptiveHeight:!1,zIndex:2e3,useTranslate:!0},Qm=function(t){return function(t){function e(){return t.apply(this,arguments)||this}Fm(e,t);var n=e.prototype;return n._holdHandler=function(t){var e=this._conf,n=e.touch,i=t.pos.flick;n.holdPos=i,n.holding=!0,n.isTrusted=!0,e.panel.changed=!1,this._adjustContainerCss("start",i)},n._changeHandler=function(t){var e,n,i=this._conf,r=i.touch,o=t.pos.flick,s=r.holdPos,a=null;this._setPointerEvents(t),t.inputEvent?(e=t.inputEvent.direction,n=t.inputEvent[this.options.horizontal?"deltaX":"deltaY"],~i.dirData.indexOf(e)||(e=i.dirData[+(Math.abs(r.lastPos)<=n)]),r.lastPos=n):r.lastPos=null,i.customEvent.flick&&(a=this._triggerEvent(Um.flick,{pos:o,holding:t.holding,direction:e||r.direction,distance:r.isTrusted?o-s:null})),a||null===a?this._setTranslate([-o,0]):(t.stop(),r.distance=0,r.direction=null,r.destPos=0,r.holding=!1,r.isTrusted=!1,this._adjustContainerCss("end"),this._setPointerEvents(),this._setPhaseValue("end"))},n._releaseHandler=function(t){var e=this._conf,n=e.touch,i=n.holdPos,r=e.panel.size,o=e.customEvent,s=n.holdPos<t.depaPos.flick;n.distance=t.depaPos.flick-i,n.direction=e.dirData[+!s],n.destPos=i+(s?r:-r);var a=n.distance,l=this.options.duration,u=i;this._isMovable()?(!o.restoreCall&&(o.restore=!1),u=n.destPos):0<Math.abs(a)?this._triggerBeforeRestore(t):l=0,t.setTo({flick:u},l),0===a&&this._adjustContainerCss("end"),n.holding=!1,this._setPointerEvents()},n._animationStartHandler=function(t){var e=this._conf,n=e.panel,i=e.customEvent,r=t.inputEvent||e.touch.lastPos;!i.restoreCall&&r&&!1===this._setPhaseValue("start",{depaPos:t.depaPos.flick,destPos:t.destPos.flick})&&t.stop(),r&&(t.duration=this.options.duration,t.destPos.flick=n.size*(n.index+e.indexToMove)),n.animating=!0},n._animationEndHandler=function(){var t=this._conf;t.panel.animating=!1,this._setPhaseValue("end"),this._triggerRestore(),t.touch.isTrusted=!1},e}(t)},Jm=function(){var t,e=function(o){function t(t,e,n){var i;(i=o.call(this)||this).$wrapper=Gm.$(t),i.plugins=[];var r=i.$wrapper&&i.$wrapper.children;if(!i.$wrapper||!r||!r.length)throw new Error("Given base element doesn't exist or it hasn't proper DOM structure to be initialized.");return i._setOptions(e),i._setConfig(r,n),!Gm.hasClickBug()&&(i._setPointerEvents=function(){}),i._build(),i._bindEvents(!0),i._applyPanelsCss(),i._arrangePanels(),i.options.hwAccelerable&&qm&&i._setHint(),i.options.adaptiveHeight&&i._setAdaptiveHeight(),i._adjustContainerCss("end"),i}Fm(t,o);var e=t.prototype;return e._setOptions=function(t){var e={previewPadding:[0,0],bounce:[10,10]};for(var n in this.options=Gm.extend(Gm.extend({},Zm),e,t),e){var i=this.options[n];/(number|string)/.test(typeof i)?i=[i,i]:Gm.isArray(i)||(i=e[n]),this.options[n]=i}Ym&&(this.options.useTranslate=!1)},e._setConfig=function(t,e){var n=this.options,i=n.previewPadding,r=t;Gm.classList(r[0],n.prefix+"-container")&&(r=r[0],r=(this.$container=r).children),r=Gm.toArray(r);var o=this._conf=Gm.extend(Gm.extend({},$m),{panel:{$list:r,minCount:0<i[0]+i[1]?5:3},origPanelStyle:{wrapper:{className:this.$wrapper.getAttribute("class")||null,style:this.$wrapper.getAttribute("style")||null},container:{className:this.$container&&this.$container.getAttribute("class")||null,style:this.$container&&this.$container.getAttribute("style")||null},list:r.map(function(t){return{className:t.getAttribute("class")||null,style:t.getAttribute("style")||null}})},useLayerHack:n.hwAccelerable&&!qm,eventPrefix:e||""});[["LEFT","RIGHT"],["UP","DOWN"]][+!n.horizontal].forEach(function(t){return o.dirData.push(Cm["DIRECTION_"+t])})},e._build=function(){var t=this._conf.panel,e=this.options,n=t.$list,i=e.previewPadding.concat(),r=e.prefix,o=e.horizontal,s=t.count=t.origCount=n.length,a=e.bounce;this._setPadding(i,!0);var l=this._getDataByDirection([t.size,"100%"]),u={position:"relative",zIndex:e.zIndex||2e3,width:"100%",height:"100%"};if(o&&(u.top="0px"),this.$container)Gm.css(this.$container,u);else{var c=n[0].parentNode,h=zm.createElement("div");h.className=r+"-container",Gm.css(h,u),n.forEach(function(t){return h.appendChild(t)}),c.appendChild(h),this.$container=h}n.forEach(function(t){Gm.classList(t,r+"-panel",!0),Gm.css(t,{position:"absolute",width:Gm.getUnitValue(l[0]),height:Gm.getUnitValue(l[1]),boxSizing:"border-box",top:0,left:0})}),this._addClonePanels()&&(s=t.count=(t.$list=Gm.toArray(this.$container.children)).length),this._axesInst=new Cm({flick:{range:[0,t.size*(s-1)],bounce:a}},{easing:e.panelEffect,deceleration:e.deceleration,interruptable:!1}),this._setDefaultPanel(e.defaultIndex)},e._setPadding=function(t,e){var n=this.$wrapper,i=this.options.horizontal,r=this._conf.panel,o={};!t.reduce(function(t,e){return parseFloat(t)+parseFloat(e)})&&e||(i&&t.reverse(),o.padding=(i?"0 ":"")+t.map(function(t){return isNaN(t)?t:t+"px"}).join(" 0 ")),e&&(o.overflow="hidden",o.boxSizing="border-box"),Object.keys(o).length&&Gm.css(n,o);var s=i?["Left","Right"]:["Top","Bottom"],a=Math.max(n["offset"+(i?"Width":"Height")],Gm.css(n,i?"width":"height",!0));r.size=a-(Gm.css(n,"padding"+s[0],!0)+Gm.css(n,"padding"+s[1],!0))},e._addClonePanels=function(){var t,e=this,n=this._conf.panel,i=n.origCount,r=n.minCount-i,o=n.$list;if(this.options.circular&&i<n.minCount){for(t=o.map(function(t){return t.cloneNode(!0)});t.length<r;)t=t.concat(o.map(function(t){return t.cloneNode(!0)}));return t.forEach(function(t){return e.$container.appendChild(t)}),!!t.length}return!1},e._movePanelPosition=function(t,e){var n=this._conf.panel,i=n.$list,r=i.splice(e?0:n.count-t,t);n.$list=e?i.concat(r):r.concat(i)},e._setDefaultPanel=function(t){var e,n,i=this._conf.panel,r=i.count-1;this.options.circular?(0<t&&t<=r&&this._movePanelPosition(t,!0),n=this._getBasePositionIndex(),this._movePanelPosition(n,!1),this._setPanelNo({no:t,currNo:t})):0<t&&t<=r&&(this._setPanelNo({index:t,no:t,currIndex:t,currNo:t}),e=[-i.size*t,0],this._setTranslate(e),this._setAxes("setTo",Math.abs(e[0]),0))},e._arrangePanels=function(t,e){var n,i=this._conf,r=i.panel,o=i.touch,s=i.dirData;this.options.circular&&(i.customEvent.flick=!1,t&&(e&&(o.direction=s[+!(0<e)]),this._arrangePanelPosition(o.direction,e)),n=this._getBasePositionIndex(),this._setPanelNo({index:n,currIndex:n}),i.customEvent.flick=!!this._setAxes("setTo",r.size*r.index,0)),this._applyPanelsPos()},e._applyPanelsPos=function(){this._conf.panel.$list.forEach(this._applyPanelsCss.bind(this))},e._setMoveStyle=function(t,e){var i=jm,r=this._conf.useLayerHack;this._setMoveStyle=i.support?function(t,e){var n;Gm.css(t,((n={})[i.name]=Gm.translate(e[0],e[1],r),n))}:function(t,e){Gm.css(t,{left:e[0],top:e[1]})},this._setMoveStyle(t,e)},e._applyPanelsCss=function(){var t=this._conf,e="__dummy_anchor",n=this.options.useTranslate;this._applyPanelsCss=n?function(t,e){var n=this._getDataByDirection([jm.support?100*e+"%":this._conf.panel.size*e+"px",0]);this._setMoveStyle(t,n)}:(Ym&&(t.$dummyAnchor=Gm.$("."+e),!t.$dummyAnchor&&this.$wrapper.appendChild(t.$dummyAnchor=Gm.$('<a href="javascript:void(0)" class="'+e+'" style="position:absolute;height:0px;width:0px">'))),function(t,e){var n=this._getDataByDirection([this._conf.panel.size*e+"px",0]);Gm.css(t,{left:n[0],top:n[1]})})},e._adjustContainerCss=function(t,e){var n,i=this._conf,r=i.panel,o=this.options,s=o.useTranslate,a=o.horizontal,l=o.previewPadding[0],u=this.$container,c=e;if(!s)if(c||(c=-r.size*r.index),"start"===t)u=u.style,n=parseFloat(u[a?"left":"top"]),a?n&&(u.left="0px"):n!==l&&(u.top="0px"),this._setTranslate([-c,0]);else if("end"===t){var h;c=this._getCoordsValue([c,0]),Gm.css(u,((h={left:c.x,top:c.y})[jm.name]=Gm.translate(0,0,i.useLayerHack),h)),i.$dummyAnchor&&i.$dummyAnchor.focus()}},e._setAxes=function(t,e,n){return this._axesInst[t]({flick:e},n)},e._setHint=function(){var t={willChange:"transform"};Gm.css(this.$container,t),Gm.css(this._conf.panel.$list,t)},e._getDataByDirection=function(t){var e=t.concat();return!this.options.horizontal&&e.reverse(),e},e._arrangePanelPosition=function(t,e){var n=t===this._conf.dirData[0];this._movePanelPosition(Math.abs(e||1),n)},e._getBasePositionIndex=function(){return Math.floor(this._conf.panel.count/2-.1)},e._bindEvents=function(t){var e=this.options,n=this.$wrapper,i=this._axesInst;t?(this._panInput=new Bm(n,{inputType:e.inputType,thresholdAngle:e.thresholdAngle,scale:this._getDataByDirection([-1,0])}),i.on({hold:this._holdHandler.bind(this),change:this._changeHandler.bind(this),release:this._releaseHandler.bind(this),animationStart:this._animationStartHandler.bind(this),animationEnd:this._animationEndHandler.bind(this)}).connect(this._getDataByDirection(["flick",""]),this._panInput)):(this.disableInput(),i.off())},e._setAdaptiveHeight=function(t){var e,n,i=this._conf,r=i.indexToMove,o=0===r?this["get"+((t===Cm.DIRECTION_LEFT?"Next":t===Cm.DIRECTION_RIGHT&&"Prev")||"")+"Element"]():i.panel.$list[i.panel.currIndex+r],s=o.querySelector(":first-child");s&&((n=s.getAttribute(Km))||(e=o.children,0<(n=Gm.outerHeight(1<e.length?(o.style.height="auto",o):s))&&s.setAttribute(Km,n)),0<n&&(this.$wrapper.style.height=n+"px"))},e._triggerBeforeRestore=function(t){var e=this._conf,n=e.touch;n.direction=+e.dirData.join("").replace(n.direction,""),e.customEvent.restore=this._triggerEvent(Um.beforeRestore,{depaPos:t.depaPos.flick,destPos:t.destPos.flick}),e.customEvent.restore||("stop"in t&&t.stop(),e.panel.animating=!1)},e._triggerRestore=function(){var t=this._conf.customEvent;t.restore&&this._triggerEvent(Um.restore),t.restore=t.restoreCall=!1},e._setPhaseValue=function(t,e){var n=this._conf,i=this.options,r=n.panel,o=i.useTranslate;if("start"===t&&(r.changed=this._isMovable())){if(!this._triggerEvent(Um.beforeFlickStart,e))return r.changed=r.animating=!1,!1;i.adaptiveHeight&&this._setAdaptiveHeight(n.touch.direction),0===n.indexToMove&&this._setPanelNo()}else"end"===t&&(i.circular&&r.changed&&this._arrangePanels(!0,n.indexToMove),o&&this._setTranslate([-r.size*r.index,0]),n.touch.distance=n.indexToMove=0,r.changed&&this._triggerEvent(Um.flickEnd));return this._adjustContainerCss(t),!0},e._getNumByDirection=function(){var t=this._conf;return t.touch.direction===t.dirData[0]?1:-1},e._revertPanelNo=function(){var t=this._conf.panel,e=this._getNumByDirection(),n=0<=t.currIndex?t.currIndex:t.index-e,i=0<=t.currNo?t.currNo:t.no-e;this._setPanelNo({index:n,no:i})},e._setPanelNo=function(t){var e=this._conf.panel,n=e.origCount-1,i=this._getNumByDirection();if(Gm.isObject(t))for(var r in t)e[r]=t[r];else e.currIndex=e.index,e.currNo=e.no,e.index+=i,e.no+=i;e.no>n?e.no=0:e.no<0&&(e.no=n)},e._setPointerEvents=function(t){var e,n=this.$container,i=Gm.css(n,"pointerEvents");t&&t.holding&&t.inputEvent&&t.inputEvent.preventSystemEvent&&"none"!==i?e="none":t||"auto"===i||(e="auto"),e&&Gm.css(n,{pointerEvents:e})},e._getCoordsValue=function(t){var e=this._getDataByDirection(t);return{x:Gm.getUnitValue(e[0]),y:Gm.getUnitValue(e[1])}},e._setTranslate=function(t){var e=this._getCoordsValue(t);this._setMoveStyle(this.$container,[e.x,e.y])},e._isMovable=function(){var t,e,n=this.options,i=this._axesInst,r=Math.abs(this._conf.touch.distance)>=n.threshold;return!(!n.circular&&r&&(t=i.axis.flick.range[1],(e=i.get().flick)<0||t<e))&&r},e._triggerEvent=function(t,e){var n=this._conf,i=n.panel;return t===Um.flickEnd&&(i.currNo=i.no,i.currIndex=i.index),this.trigger(n.eventPrefix+t,Gm.extend({eventType:t,no:i.currNo,direction:n.touch.direction,isTrusted:n.touch.isTrusted},e))},e._getElement=function(t,e,n){var i,r,o=this._conf.panel,s=this.options.circular,a=o.currIndex,l=t===this._conf.dirData[0],u=null,c=r=n?(i=o.count,a):(i=o.origCount,o.currNo);return l?r<i-1?r++:s&&(r=0):0<r?r--:s&&(r=i-1),c!==r&&(u=e?o.$list[l?a+1:a-1]:r),u},e._setValueToMove=function(t){var e=this._conf;e.touch.distance=this.options.threshold+1,e.touch.direction=e.dirData[+!t]},e.getIndex=function(t){return this._conf.panel[t?"currIndex":"currNo"]},e.getElement=function(){var t=this._conf.panel;return t.$list[t.currIndex]},e.getNextElement=function(){return this._getElement(this._conf.dirData[0],!0)},e.getNextIndex=function(t){return this._getElement(this._conf.dirData[0],!1,t)},e.getAllElements=function(){return this._conf.panel.$list},e.getPrevElement=function(){return this._getElement(this._conf.dirData[1],!0)},e.getPrevIndex=function(t){return this._getElement(this._conf.dirData[1],!1,t)},e.isPlaying=function(){return this._conf.panel.animating},e._movePanelByPhase=function(t,e,n){var i=Gm.getNumValue(n,this.options.duration);!1!==this._setPhaseValue("start")&&(this._setAxes(t,e,i),!i&&this._setPhaseValue("end"))},e.next=function(t){var e=this.getNextIndex();return"number"!=typeof e?this:this._moveTo(e,t,Cm.DIRECTION_RIGHT)},e.prev=function(t){var e=this.getPrevIndex();return"number"!=typeof e?this:this._moveTo(e,t,Cm.DIRECTION_LEFT)},e.moveTo=function(t,e){return this._moveTo(t,e)},e._moveTo=function(t,e,n){var i,r,o=this._conf,s=o.panel,a=this.options.circular,l=s.index,u=t;return(u=Gm.getNumValue(u,-1))<0||u>=s.origCount||u===s.no||s.animating||o.touch.holding||(i=u-(a?s.no:l),n===Cm.DIRECTION_RIGHT&&i<0?i+=s.origCount:n===Cm.DIRECTION_LEFT&&0<i&&(i-=s.origCount),r=0<i,a&&Math.abs(i)>(r?s.count-(l+1):l)&&(r=0<(i+=(r?-1:1)*s.count)),this._setPanelNo(a?{no:u}:{no:u,index:u}),this._conf.indexToMove=i,this._setValueToMove(r),this._movePanelByPhase(a?"setBy":"setTo",s.size*(a?i:u),e)),this},e.resize=function(){var t,e=this._conf,n=this.options,i=e.panel,r=n.horizontal,o=n.useTranslate;if(!this.isPlaying()){var s;if(Gm.isArray(n.previewPadding)&&"number"==typeof+n.previewPadding.join("")?(this._setPadding(n.previewPadding.concat()),t=i.size):r&&(t=i.size=Gm.css(this.$wrapper,"width",!0)),Gm.css(i.$list,((s={})[r?"width":"height"]=Gm.getUnitValue(t),s)),n.adaptiveHeight){var a=this.$container.querySelectorAll("["+Km+"]");a.length&&(Gm.toArray(a).forEach(function(t){return t.removeAttribute(Km)}),this._setAdaptiveHeight())}this._axesInst.axis.flick.range=[0,t*(i.count-1)],this._setAxes("setTo",t*i.index,0),o||(this._applyPanelsPos(),this._adjustContainerCss("end"))}return this},e.restore=function(t){var e,n=this._conf,i=n.panel,r=this._axesInst.get().flick,o=t;return r!==i.currIndex*i.size?(n.customEvent.restoreCall=!0,o=Gm.getNumValue(o,this.options.duration),this._revertPanelNo(),e=i.size*i.index,this._triggerBeforeRestore({depaPos:r,destPos:e}),this._setAxes("setTo",e,o),o||(this._adjustContainerCss("end"),this._triggerRestore())):i.changed&&(this._revertPanelNo(),n.touch.distance=n.indexToMove=0),this},e.enableInput=function(){return this._panInput.enable(),this},e.disableInput=function(){return this._panInput.disable(),this},e.getStatus=function(t){var e=this._conf.panel,n=/((?:-webkit-)?transform|left|top|will-change|box-sizing|width):[^;]*;/g,i={panel:{index:e.index,no:e.no,currIndex:e.currIndex,currNo:e.currNo},$list:e.$list.map(function(t){return{style:t.style.cssText.replace(n,"").trim(),className:t.className,html:t.innerHTML}})};return t?JSON.stringify(i):i},e.setStatus=function(t){var e=this._conf.panel,n=this.options.adaptiveHeight,s="string"==typeof t?JSON.parse(t):t;if(s){for(var i in s.panel)i in e&&(e[i]=s.panel[i]);e.$list.forEach(function(t,e){var n=s.$list[e],i=n.style,r=n.className,o=n.html;i&&(t.style.cssText+=i),r&&(t.className=r),o&&(t.innerHTML=o)}),n&&this._setAdaptiveHeight()}},e.destroy=function(){var e=this,t=this._conf.origPanelStyle,n=t.wrapper,i=t.container,r=t.list;this._bindEvents(!1),this.off(),this._axesInst.destroy(),this._panInput.destroy();var o=this.$wrapper;o.setAttribute("class",n.className),o[n.style?"setAttribute":"removeAttribute"]("style",n.style);var s=this.$container,a=[].slice.call(s.children);t.container.className?(s.setAttribute("class",i.className),s[i.style?"setAttribute":"removeAttribute"]("style",i.style)):(a.forEach(function(t){return o.appendChild(t)}),s.parentNode.removeChild(s));for(var l,u=0;l=a[u];u++)if(u>r.length-1)l.parentNode.removeChild(l);else{var c=r[u].className,h=r[u].style;l[c?"setAttribute":"removeAttribute"]("class",c),l[h?"setAttribute":"removeAttribute"]("style",h)}for(var p in this.plugins.forEach(function(t){e.plugins[t].$componentWillUnmount()}),this)this[p]=null},e.plugin=function(t){var n=this;return t.forEach(function(e){0===n.plugins.filter(function(t){return t.constructor===e.constructor}).length&&n.plugins.push(e.$componentWillMount(n))}),this},t}((t=Ph,new Hm(t)).with(Qm));return e.utils=Gm,e.VERSION="2.4.4",e.consts={EVENTS:Um,TRANSFORM:jm,SUPPORT_WILLCHANGE:qm,IS_ANDROID2:Ym},e.DIRECTION_NONE=Cm.DIRECTION_NONE,e.DIRECTION_LEFT=Cm.DIRECTION_LEFT,e.DIRECTION_RIGHT=Cm.DIRECTION_RIGHT,e.DIRECTION_UP=Cm.DIRECTION_UP,e.DIRECTION_DOWN=Cm.DIRECTION_DOWN,e.DIRECTION_HORIZONTAL=Cm.DIRECTION_HORIZONTAL,e.DIRECTION_VERTICAL=Cm.DIRECTION_VERTICAL,e.DIRECTION_ALL=Cm.DIRECTION_ALL,e}();(Wm=Xm||(Xm={}))[Wm.Next=2]="Next",Wm[Wm.Prev=4]="Prev";var ty=function(r){function t(t,e,n){void 0===n&&(n=null);var o=r.call(this)||this;o.elRoot=t,o._preventNextFlick=!1,o._preventPrevFlick=!1,o._inputDisabled=!1,o._padding=0,o.usePadding=!0,o._width=0,o.isPlugSet=!1,o.isDesktop=!1,o.onFlick=function(t){if(o.isEndOfPanel(t))return t.stop(),void Ui(function(){o._flick.restore(0)},0);var e=o._options.flickPanelPadding;if(t.holding)o.usePadding&&(o.padding=e);else{var n=t.direction===Xm.Prev?-1:1;o.padding=Math.max(0,Math.min(20,e-e*t.distance*n/o._width))}o.trigger("flick",t)},o.isEndOfPanel=function(t){var e=t.distance,n=t.direction,i=o._preventPrevFlick&&(e<0&&n===Xm.Prev||o.stopFlick),r=o._preventNextFlick&&(0<e&&n===Xm.Next||o.stopFlick);return(i||r)&&t.isTrusted},o.startXPos=0,o.moveXPos=0,o.stopFlick=!1,o.onMouseDown=function(t){o.startXPos=t.pageX,Au(o.elRoot,"mousemove",o.onMouseMove),Au(o.elRoot,"mouseup",o.onMouseUp)},o.onMouseMove=function(t){var e=t.pageX;o.moveXPos=e-o.startXPos,o.stopFlick=o._preventPrevFlick&&0<o.moveXPos||o._preventNextFlick&&o.moveXPos<0,o.stopFlick&&Cp(t)},o.onMouseUp=function(t){var e=t.pageX-o.startXPos,n=0<=e?e:-1*e;o.moveXPos=0,o.stopFlick=10<n&&(o._preventPrevFlick&&0<e||o._preventNextFlick&&e<0),o.stopFlick&&Cp(t),Lu(o.elRoot,"mousemove",o.onMouseMove),Lu(o.elRoot,"mouseup",o.onMouseUp)};var i=$a();return o._options=uu({},e||{}),o.isDesktop=i.isDeskTop,o.isDesktop&&Au(o.elRoot,"mousedown",o.onMouseDown),o._initFlicking(),o.plugins=n,o}return js(t,r),t.prototype._initFlicking=function(){var n=this,t=new Jm(this.elRoot,this._options);t.on({beforeFlickStart:function(t){n.trigger("beforeFlickStart",t)},flick:this.isDesktop?Vp(this.onFlick,20):this.onFlick,flickEnd:function(t){var e=t.direction===Xm.Next?"next":"prev";n.padding=0,n.trigger("flickEnd",Xs({dirctionStr:e},t))},beforeRestore:function(t){n.trigger("beforeRestore",t)},restore:function(t){n.trigger("restore",t)}}),this._flick=t},Oh(t.prototype,"padding",{get:function(){return this._padding},set:function(t){this._padding=t,this.setPadding(this._flick.getPrevElement(),-t),this.setPadding(this._flick.getNextElement(),t)},enumerable:!0,configurable:!0}),t.prototype.getPrevElement=function(){return this._flick.getPrevElement()},t.prototype.getElement=function(){return this._flick.getElement()},t.prototype.getNextElement=function(){return this._flick.getNextElement()},t.prototype.restore=function(t){return this._flick.restore(t)},t.prototype.resize=function(){return this._flick.resize(),this._width=this._flick.getElement().offsetWidth,this},t.prototype.disableInput=function(t){return void 0===t&&(t=!0),this._inputDisabled=t,this._flick.disableInput()},t.prototype.hide=function(){xu(this.elRoot)},t.prototype.show=function(){Su(this.elRoot)},t.prototype.bindPlugin=function(){this.plugins&&!0!==this.isPlugSet&&(this._flick.plugin(this.plugins),this.isPlugSet=!0)},t.prototype.enableInput=function(){return this._inputDisabled=!1,this.bindPlugin(),this._flick.enableInput()},t.prototype.isInputDisabled=function(){return this._inputDisabled},t.prototype.setPanelPadding=function(t){this.usePadding=t,this.padding=0},t.prototype.resetPanel=function(){var t,n=this._options.imageSelector;Gs(t=this._flick.getAllElements()).call(t,function(t){var e=t.querySelector(n);e&&(e&&wu(e,{visibility:null}),e.src="")})},Oh(t.prototype,"panel",{get:function(){return{prev:this._flick.getPrevElement(),current:this._flick.getElement(),next:this._flick.getNextElement()}},enumerable:!0,configurable:!0}),Oh(t.prototype,"nextFlick",{get:function(){return!this._preventNextFlick},set:function(t){this._preventNextFlick=!t},enumerable:!0,configurable:!0}),Oh(t.prototype,"prevFlick",{get:function(){return!this._preventPrevFlick},set:function(t){this._preventPrevFlick=!t},enumerable:!0,configurable:!0}),t.prototype.moveNext=function(t){this._flick.next(t)},t.prototype.movePrev=function(t){this._flick.prev(t)},t.prototype.setPadding=function(t,e){var n=t.querySelector("img");n&&wu(n,{transform:"matrix(1, 0, 0, 1, "+e+", 0)"})},t.prototype.destroy=function(){this._flick.destroy(),this._flick=null},t}(Ph);function ey(t,e){return t.top<e.top||(t.bottom>e.bottom||(t.left<e.left||t.right>e.right))}function ny(t,e){if(!ey(t,e))return null;var n,i,r,o,s,a=(n=Math.max(0,e.top-t.top),i=Math.max(0,e.left-t.left),r=Math.min(0,e.bottom-t.bottom),o=Math.min(0,e.right-t.right),(s=new ug).top=n,s.left=i,s.bottom=r,s.right=o,s);return 0<a.left&&a.right<0&&(a.left=0,a.right=0),0<a.top&&a.bottom<0&&(a.top=0,a.bottom=0),0!==a.left||0!==a.right||0!==a.top||0!==a.bottom?a:null}function iy(){for(var t=arguments,e=[],n=0;n<arguments.length;n++)e[n]=t[n];return oo(e).call(e,function(t){return n=t.srcEvent,{x:(e={pageX:(i=(r=n).touches&&r.touches.length?r.touches[0]:r.changedTouches&&r.changedTouches.length?r.changedTouches[r.changedTouches.length-1]:{}).pageX||r.pageX||0,pageY:i.pageY||r.pageY||0}).pageX,y:e.pageY};var e,n,i,r})}var ry={time3:3,time2:2,time1:1.5,doubleTap:2.5},oy={time3:3,time2:2,time1:1.5};function sy(t){return-(Math.cos(Math.PI*t)-1)/2}function ay(t,e){var n=e.toGlobal({x:0,y:0}),i=e.toGlobal({x:t.width,y:t.height});return new ug(n.x+t.x,n.y+t.y,i.x-n.x,i.y-n.y)}var ly=function(n){function o(t,e){void 0===e&&(e={});var a=n.call(this)||this;return a.gestureArea=t,a._transform=new Tg,a.activated=!1,a.viewPortTarget=null,a.isIncreaseScale=!1,a.onSwipe=function(t){a.trigger("swipe",t)},a.onTap=function(t){a.trigger("tap",t)},a.onSingleTap=function(t){a.trigger("singletap",t)},a.onDoubleTap=function(t){if(a.trigger("doubletap",t)&&!a.isDesktop){var e=1<a.scale?1:a.maxScaleDoubleTap;a.handleScaleTransform(t.center,e,function(){a.trigger("doubletapend")})}},a.onPanStart=function(t){var e=Kt;if(o.isIOS){if(t.srcEvent.pageX<e)return void a.trigger("lockFlicking");1===a.scale&&a.trigger("unlockFlicking")}a.trigger("panstart",t);var n=Xs({},t),i=[],r=t.center;yg.stop(),Rp.fromEvent(a.hammer,"pan").takeUntil("panend").subscribe(function(t){var e=t.center;i.push([e.x-r.x,e.y-r.y]),3<i.length&&i.shift(),a.handlePan(n,r,t),r=e},function(t){1<a.scale?a.throwImage(i):a.handlePanEnd(n,t),a.trigger("panend",{gestureEvent:t})})},a.onPinchStart=function(t){if(a.trigger("pinchstart",t)){a._state.isPlayingAnimation&&(a._state.isPlayingAnimation=!1,yg.stop());var e=a.scale,n=t.scale,i=t.center,r=a.transform.toLocal({x:t.center.x-a.originRect.left,y:t.center.y-a.originRect.top}),o=r.x,s=r.y;a.transform.setTransformOrigin(o,s),Rp.fromEvent(a.hammer,"pinch").takeUntil("pinchend").subscribe(function(t){a.handlePinch(a.image,e,n,i,t),n=t.scale,i=t.center},function(){return a.handlePinchEnd()})}},a.triggerChangeScaleEvent=kp(function(t){!1===yg.running&&a.trigger("changeScale",{scale:t,scaleRule:a.scaleRule,isIncreaseScale:a.isIncreaseScale})},50),a._options=uu({deviceType:St.MOBILE,maxScaleInZoom:2.5,maxScaleDoubleTapDetectRatio:.8,durationOnScale:250,durationOnThrowing:1e3,durationOnAlign:150,maxVelocityThrowing:750,elasticMod:.45,friction:.95,boundingFriction:.75,longPressInterval:300,doubletapInterval:150,exitGestureDistance:100,scaleRule:ry},e),a._state=uu({isPlayingAnimation:!1,timeAnimStarted:0,fullScreen:!1}),a.scaleRule=a._options.scaleRule,a}return js(o,n),Oh(o.prototype,"options",{get:function(){return this._options},set:function(t){this._options=t},enumerable:!0,configurable:!0}),o.prototype.activate=function(){this.activated||(this.hammer=new pg.Manager(this.gestureArea,{recognizers:[[mg,{event:"doubletap",taps:2,threshold:3,posThreshold:20}],[pg.Tap,{event:"singletap",interval:this._options.doubletapInterval}],[pg.Tap],[pg.Pan],[pg.Press,{time:this._options.longPressInterval}],[pg.Swipe,{direction:pg.DIRECTION_VERTICAL}],[pg.Pinch]]}),this.hammer.get("doubletap").recognizeWith("tap"),this.hammer.get("singletap").requireFailure("doubletap"),this.hammer.get("singletap").recognizeWith("tap"),this.hammer.get("swipe").recognizeWith("pan"),this.hammer.on("tap",this.onTap),this.hammer.on("singletap",this.onSingleTap),this.hammer.on("doubletap",this.onDoubleTap),this.hammer.on("panstart",this.onPanStart),this.hammer.on("swipe",this.onSwipe),this.hammer.on("pinchstart",this.onPinchStart),this.activated=!0)},o.prototype.deactivate=function(){this.hammer&&(this.hammer.get("tap").dropRequireFailure("singletap"),this.hammer.get("singletap").dropRequireFailure("doubletap"),this.hammer.get("doubletap").dropRecognizeWith("singletap"),this.hammer.get("singletap").dropRecognizeWith("tap"),this.hammer.get("swipe").dropRecognizeWith("pan"),this.hammer.off("tap",this.onTap),this.hammer.off("singletap",this.onSingleTap),this.hammer.off("doubletap",this.onDoubleTap),this.hammer.off("panstart",this.onPanStart),this.hammer.off("swipe",this.onSwipe),this.hammer.off("pinchstart",this.onPinchStart),this.activated=!1)},o.prototype.handleScaleTransform=function(t,r,e){var o=this,n=this.transform.toLocal({x:t.x-this.originRect.left,y:t.y-this.originRect.top}),i=n.x,s=n.y;this.transform.setTransformOrigin(i,s);var a=this.scale,l=a<r?1:-1;yg.start(),this.isIncreaseScale=this.scale<r,Rp.fromEvent(yg.shared,"tick").takeUntil("stop").subscribe(function(t){o._state.isPlayingAnimation||(o._state.isPlayingAnimation=!0,o._state.timeAnimStarted=t.time);var e=(t.time-o._state.timeAnimStarted)/o._options.durationOnScale;1<e&&(e=1);var n=a+(r-a)*sy(e);0<l?r<n&&(n=r):n<r&&(n=r),o.scale=n;var i=ay(o.originRect,o.transform);o.alignTransform(i),o.updateTransform(!0),1<=e&&yg.stop()},function(){o._state.isPlayingAnimation=!1,e&&e(),o.isDesktop&&o.trigger(1===o.scale?"unlockFlicking":"lockFlicking")})},o.prototype.handlePan=function(t,e,n){if(t.srcEvent.target){var i=iy(t,n),r=i[0],o=zu(i[1],r);1<this.scale?this.handleImageDrag(this._image,e,n.center):t.direction===pg.DIRECTION_DOWN&&this.trigger("exitgesture",{translate:Math.max(0,o.y),gestureEvent:n})}},o.prototype.handleImageDrag=function(t,e,n,i){void 0===i&&(i=this._options.elasticMod);var r,o,s=ay(this.originRect,this.transform),a=ny(this.viewport,s),l=!(r=a)||0===r.top&&0===r.bottom?1:i,u=!(o=a)||0===o.left&&0===o.right?1:i,c=n.x-e.x,h=n.y-e.y,p=this.viewport.right-this.viewport.left,f=this.viewport.bottom-this.viewport.top;s.width>p&&(this.transform.x+=u*c),s.height>f&&(this.transform.y+=l*h),this.updateTransform()},o.prototype.handlePanEnd=function(t,e){var n=iy(t,e),i=n[0],r=n[1];this.trigger("exitgestureEnd",{gestureEvent:e,translate:Math.max(0,zu(r,i).y)})},o.prototype.throwImage=function(t){var i=this,e=t.length;if(0!==e){var n=this._options,r=n.friction,o=n.boundingFriction,s=At(t).call(t,function(t,e){var n=t[0],i=t[1];return[n+e[0],i+e[1]]},[0,0]),a=s[0],l=s[1],u=ay(this.originRect,this.transform);(a/=e)>this._options.maxVelocityThrowing&&(a=this._options.maxVelocityThrowing),u.width<=this._viewport.width&&(a=0),(l/=e)>this._options.maxVelocityThrowing&&(l=this._options.maxVelocityThrowing),u.height<=this._viewport.height&&(l=0),yg.start(),Rp.fromEvent(yg.shared,"tick").takeUntil("stop").subscribe(function(t){i._state.isPlayingAnimation||(i._state.isPlayingAnimation=!0,i._state.timeAnimStarted=t.time);var e=(t.time-i._state.timeAnimStarted)/i._options.durationOnThrowing,n=Math.max(Math.min(1,1-e),0);ey(i.viewport,ay(i.originRect,i.transform))&&(a*=o,l*=o),a*=r,l*=r,a*=n,l*=n,i.transform.x+=a,i.transform.y+=l,i.updateTransform(),(Math.abs(a)<1&&Math.abs(l)<1||1<=e)&&yg.stop()},function(){i._state.isPlayingAnimation=!1,i.alignAnimate()})}},o.prototype.handlePinch=function(t,e,n,i,r,o){void 0===o&&(o=this._options.elasticMod);var s=r.scale-n,a=this.scale+s<1,l=this.scale+s>this.maxScalePinch,u=a||l?o:1*e;this.scale+=u*s,this.handleImageDrag(t,i,r.center)},o.prototype.handlePinchEnd=function(){if(this.scale=Math.max(1,Math.min(this.maxScalePinch,this.scale)),1<this.scale){var t=ay(this.originRect,this.transform);this.alignTransform(t),this.trigger("pinchcomplete")}else this.transform.identity(),this.trigger("pinchidentity");this.updateTransform()},o.prototype.alignAnimate=function(){var r=this,t=ay(this.originRect,this.transform),o=ny(this.viewport,t),s=this.transform.x,a=this.transform.y;o&&(yg.start(),Rp.fromEvent(yg.shared,"tick").takeUntil("stop").subscribe(function(t){r._state.isPlayingAnimation||(r._state.isPlayingAnimation=!0,r._state.timeAnimStarted=t.time);var e=(t.time-r._state.timeAnimStarted)/r.options.durationOnAlign,n=o.width*sy(e),i=o.height*sy(e);r.transform.x=s-n*(o.right?1:-1),r.transform.y=a-i*(o.bottom?1:-1),r.updateTransform(),1<=e&&yg.stop()},function(){r._state.isPlayingAnimation=!1}))},o.prototype.alignTransform=function(t){if(t){var e=ny(this.viewport,t),n=this.viewport.right-this.viewport.left,i=this.viewport.bottom-this.viewport.top;t.width<n?this.transform.x=(this.image.offsetWidth-t.width)/2+this.transform.getLocalTranslation(this.transform.pivotX,0).x:e&&(this.transform.x+=-(e.left+e.right)),t.height<i?this.transform.y=(this.image.offsetHeight-t.height)/2+this.transform.getLocalTranslation(0,this.transform.pivotY).y:e&&(this.transform.y+=-(e.top+e.bottom))}},o.prototype.updateTransform=function(t){if(void 0===t&&(t=!1),this.image){t&&Vu(this.image,Rt.TRANSFORM_TWEEN);var e=Rt.IMAGE_WILL_CHANGE,n=$a().isIOS;n&&Pu(this.image,e,!0),wu(this.image,{transform:this.transform.cssTranslate}),n&&2<this.scale&&Pu(this.image,e,!1)}},o.prototype.setViewportTLBR=function(t){var e=new ug;e.fromTLBR(t.top,t.left,t.bottom,t.right),this._viewport=e},o.prototype.setTargetImage=function(t){this._image=t,this.reset({silently:!1,alignAnimate:!1}),this.scaleRule=this.getScaleRule()},o.prototype.updateFullScreenMode=function(t){void 0===t&&(t=!0),this._state.fullScreen=t},Oh(o.prototype,"isDesktop",{get:function(){return this._options.deviceType===St.DESKTOP},enumerable:!0,configurable:!0}),Oh(o.prototype,"isMobile",{get:function(){return this._options.deviceType===St.MOBILE},enumerable:!0,configurable:!0}),o.prototype.getScaleRule=function(){return this.isMobile?ry:oy},o.prototype.reset=function(t){void 0===t&&(t={silently:!1,alignAnimate:!0});var e=t.silently,n=t.alignAnimate;!1===this.isDesktop&&this.resetImageAttr(),this.resetIdentityPosition(n),yg.stop(),this.updateIdentityValue(),this.trigger("unlockFlicking"),e||this.trigger("reset")},o.prototype.resetImageAttr=function(){this.image&&this.image.removeAttribute("width"),this.image&&this.image.removeAttribute("draggable")},o.prototype.resetIdentityPosition=function(t){void 0===t&&(t=!0),this.transform.identity(),t?this.updateTransform(t):(wu(this.image,{transform:this.transform.cssTranslate}),Pu(this.image,Rt.IMAGE_WILL_CHANGE,!1))},o.prototype.updateIdentityValue=function(){this.resetOriginRect(),this.resetViewport()},o.prototype.resetViewport=function(){var t=new ug,e=this.viewPortTarget,n=window.innerWidth,i=window.innerHeight;e&&(n=e.offsetWidth,i=e.offsetHeight),t.fromTLBR(0,0,i,n),this._viewport=t},Oh(o.prototype,"viewport",{get:function(){return this._viewport||this.resetViewport(),this._viewport},set:function(t){this._viewport=t},enumerable:!0,configurable:!0}),o.prototype.resetOriginRect=function(){if(this.image){var t=new ug;t.fromClientRect(this.image.getBoundingClientRect()),this._originRect=t}},Oh(o.prototype,"originRect",{get:function(){return this._originRect&&this._originRect.width||this.resetOriginRect(),this._originRect},set:function(t){this._originRect=t},enumerable:!0,configurable:!0}),Oh(o.prototype,"transform",{get:function(){return this._transform},enumerable:!0,configurable:!0}),Oh(o.prototype,"image",{get:function(){return this._image},enumerable:!0,configurable:!0}),Oh(o.prototype,"scale",{get:function(){return this.transform.scaleX},set:function(t){this.transform.scaleX=t,this.transform.scaleY=t,this.triggerChangeScaleEvent(t)},enumerable:!0,configurable:!0}),Oh(o.prototype,"fitViewportScale",{get:function(){return this.viewport.width/this.originRect.width},enumerable:!0,configurable:!0}),Oh(o.prototype,"maxScale",{get:function(){return this.isImageLargerThanViewport?this.fitViewportScale*this.scaleRule.time3:this.scaleRule.time3},enumerable:!0,configurable:!0}),Oh(o.prototype,"maxScalePinch",{get:function(){return this.isDesktop?this.scaleRule.time3:this.maxScale},enumerable:!0,configurable:!0}),Oh(o.prototype,"maxScaleDoubleTap",{get:function(){return this.scale<this.fitViewportScale&&this.isVerticalImageNeedToFit?this.fitViewportScale:this.maxScale},enumerable:!0,configurable:!0}),Oh(o.prototype,"isImageLargerThanViewport",{get:function(){return this.originRect.width+1>this.viewport.width||this.originRect.height+1>this.viewport.height},enumerable:!0,configurable:!0}),Oh(o.prototype,"isVerticalImageNeedToFit",{get:function(){return this.isImageLargerThanViewport&&this.originRect.width<this.originRect.height&&this.originRect.width/this.viewport.width<this._options.maxScaleDoubleTapDetectRatio},enumerable:!0,configurable:!0}),o.prototype.getIncreaseScale=function(){var t=this.scale,e=this.scaleRule,n=e.time1,i=e.time2?e.time2:e.time3,r=e.time3;return 1===t?n:t<i?i:r},o.prototype.getDecreaseScale=function(){var t=this.scale,e=this.scaleRule,n=e.time1,i=e.time2?e.time2:e.time3;return i<t?i:n<t?n:1},o.prototype.getViewportCenter=function(){return{x:Math.floor(this.viewport.width/2),y:Math.floor(this.viewport.height/2)}},o.prototype.increaseScale=function(){this.scale>=this.scaleRule.time3||this.handleScaleTransform(this.getViewportCenter(),this.getIncreaseScale())},o.prototype.decreaseScale=function(){1!==this.scale&&(1!==this.getDecreaseScale()?this.handleScaleTransform(this.getViewportCenter(),this.getDecreaseScale()):this.reset({silently:!1,alignAnimate:!1}))},o.prototype.setViewePortTarget=function(t){this.viewPortTarget=t},o.prototype.initScale=function(){this.handleScaleTransform(this.getViewportCenter(),1)},o.prototype.destroy=function(){this.hammer.destroy()},o.isIOS=$a().isIOS,o.isDesktop=$a().isDeskTop,o}(Ph),uy=function(t,e){var n,o=e.getData(),s=o.eventProxy,a=t.close,l=t.resize;return(n={})[kv.KEYDOWN]=function(t){var e=o.itemModel,n=o.flicking,i=o.fullModeLayout,r=o.state.fullScreen;switch(Cp(t),r&&i.showLayouts(),t.keyCode){case Mp.ESC:a();break;case Mp.LEFT:!e.isFirst()&&n.movePrev(0);break;case Mp.UP:r&&!e.isFirst()&&n.movePrev(0);break;case Mp.SPACE:case Mp.RIGHT:!e.isLast()&&n.moveNext(0);break;case Mp.DOWN:r&&!e.isLast()&&n.moveNext(0);break;case Mp.PLUS:case Mp.PLUS_E:i.scaleIncreaseAction();break;case Mp.MIUNS:case Mp.MINUS_E:i.scaleDecreaseAction();break;case Mp.ENTER:s.trigger(zt.TIGGER_TOGGLE_PLAY)}},n[kv.POPSTATE]=function(){a(null,!1)},n[kv.RESIZE]=function(){var t=o.hrImageIndexLayout,e=o.vrImageIndexLayout,n=o.flicking,i=o.elRoot,r=o.state;r.resizeTimer&&window.clearTimeout(r.resizeTimer),n.restore(0),r.resizeTimer=window.setTimeout(function(){l(!0)},100),t.updateVisibleWidth(),e.resizeIndexList(),wu(i,"opacity")<1&&a()},n},cy=function(e,r,t){var n,o=t.getData();return(n={})[Xv.DATA_CHANGE]=function(t){e(t)},n[Xv.INDEX_CHANGE]=function(t){var e=o.itemModel,n=o.wrapViewUnit,i=t.newIndex+1;n.update(i,e.length,e.getCurrent()),r(t.newIndex)},n},hy=function(t){function e(){var n=null!==t&&t.apply(this,arguments)||this;return n.videoEventBlockedFilter=function(e){return function(t){n.injectData.state.currentItemType!==kt.IMAGE&&e(t)}},n}return js(e,t),e.prototype.initElementPosition=function(){var t,e=this.injectData.elItemList;Gs(t=su(e.querySelectorAll("img"))).call(t,function(t){t.dataset&&(t.dataset.top=t.getBoundingClientRect().top)})},e.prototype.confirmOpenVideoItem=function(t){var e=this.injectData,n=e.itemModel,i=hu(e.options,"videoPlayerSettings.autoPlay")||!1,r=n.get(t);r&&r.itemType===kt.VIDEO&&(r.videoData.autoPlay=i,n.set(t,r,!0))},e}(Ph),py=function(i){function t(t,e){void 0===t&&(t={});var n=i.call(this)||this;return n._options=t,n.eventProxy=e,n}return js(t,i),t.prototype.load=function(r,o,s,a){return qs(this,void 0,void 0,function(){var e,n,i;return Ys(this,function(t){switch(t.label){case 0:e=r===o,this.panel=s,this.initPanel(a),e&&this.setLoadingEl(),t.label=1;case 1:return t.trys.push([1,3,,4]),[4,this.loadItem(r,o,a)];case 2:return n=t.sent(),this.trigger("itemLoaded"),e&&this.hideLoadingEl(),[2,n];case 3:return i=t.sent(),e&&this.hideLoadingEl(),this.trigger("itemLoaded"),[2,xh.reject(i)];case 4:return[2]}})})},t.prototype.hideLoadingEl=function(){xu(this.panel.querySelector(Ht.IMAGE_PANEL_LOADING))},t}(Ph),fy=function(i){function c(t,e){void 0===t&&(t={});var n=i.call(this,t,e)||this;return n.afterLoadImage=function(t,e){var n=t.imageEl,i=t.isApplyFadeAction;t.isDisplayPanel&&(c.USE_EFFECT_OFF=!1),n.removeAttribute("width"),c.afterLoadAction(i,n),e(c.getAfterLoadData(t))},n._options=t,n}return js(c,i),c.prototype.initPanel=function(){var t=this.panel.querySelector(Ht.VIDEO_WRAP),e=this.panel.querySelector(Ht.IMAGE_WRAP),n=this.panel.querySelector(Ht.IMAGE_PANEL_LOADING);Su(e),xu(t),xu(n)},c.prototype.setLoadingEl=function(){Su(this.panel.querySelector(Ht.IMAGE_PANEL_LOADING))},c.prototype.loadItem=function(t,e,n){var i=this,r=n.imgSrc,o=this.panel.querySelector("img"),s=t===e,a=!0===s&&!0===this._options.useFadeEffect&&!1===c.USE_EFFECT_OFF,l={imageEl:o,data:n,itemModelIndex:e,isDisplayPanel:s,isApplyFadeAction:a},u=!1;try{u=decodeURIComponent(o.src)===decodeURIComponent(r)}catch(t){}return new xh(function(t,e){u?i.afterLoadImage(l,t):(o.setAttribute("data-src",r),i.setCss(o,a),zh(o).then(function(){i.afterLoadImage(l,t)}).catch(function(){o.src=Lt,i.afterLoadImage(l,e)}))})},c.prototype.setCss=function(t,e){var n={};e?n.opacity="0":n.display="none",n.transform="translate3d(0px, 0px, 0px) scale3d(1, 1, 1)",wu(t,n)},c.getAfterLoadData=function(t){var e=t.data;return{itemModelIndex:t.itemModelIndex,itemType:e.itemType}},c.afterLoadAction=function(t,e,n){t?(n&&wu(e,{opacity:"0"}),c.onFadeAction(e)):c.defaultImageLoadAction(e)},c.onFadeAction=function(t){Vu(t,"__dummy1",{opacity:"1",display:"inline-block"},function(){t.style.transition=""})},c.defaultImageLoadAction=function(t){wu(t,{display:"inline-block",opacity:"1"})},c.USE_EFFECT_OFF=!1,c}(py),dy=function(){function t(t){this.injectData=t.getData(),this.eventProxy=this.injectData.eventProxy,this.fadeEffect=new cg,this.switchPanelEffect=new hg}return t.prototype.gestureExitProcess=function(t,e,n,i){var r=this.injectData,o=r.image,s=r.elBase,a=r.ghostImageLayout,l=r.state,u={imageTimeout:r.options.loadImageTimeout,loadImage:o,baseElement:s,ghostImageLayout:a,opacity:0};this.fadeEffect.setup(u).fadeOutWithBaseElement(t,l.height,e,n,i)},t.prototype.guestureExitComplete=function(t,e,n){var i=this.injectData,r=i.image,o=i.elBase,s=i.ghostImageLayout,a={imageTimeout:i.options.loadImageTimeout,loadImage:r,baseElement:o,ghostImageLayout:s,opacity:0};this.fadeEffect.setup(a).hideToUp(t,e,n)},t.prototype.gestureHideProcess=function(t,e,n){var i=this.injectData,r=i.image,o=i.elBase,s=i.ghostImageLayout,a=i.state,l={imageTimeout:i.options.loadImageTimeout,loadImage:r,baseElement:o,ghostImageLayout:s,opacity:0};this.fadeEffect.setup(l).hideToDown(t,a.centerY,e.gestureDistance,n)},t.prototype.gestureSwipeVerticalBehavior=function(t){var e=this.injectData.hrImageIndexLayout,n=e.isVisiblity();n&&t?e.toggle(!1):n||t||e.toggle(!0)},t.prototype.buildIn=function(t,e,n,i){var r=this.injectData,o=r.image,s=r.elBase,a=r.ghostImageLayout,l=r.flicking,u=r.options,c=l.getElement().querySelector(Ht.IMAGE_PANEL_LOADING),h={imageTimeout:u.loadImageTimeout,isMobile:!1,loadImage:o,baseElement:s,ghostImageLayout:a,opacity:1};fy.USE_EFFECT_OFF=!0,this.fadeEffect.setup(h).fadeIn(t,c,0,n,i,e)},t.prototype.buildOut=function(t,e){var n=this.injectData,i=n.image,r=n.elBase,o=n.ghostImageLayout,s={imageTimeout:n.options.loadImageTimeout,isMobile:!1,loadImage:i,baseElement:r,ghostImageLayout:o,opacity:0};this.fadeEffect.setup(s).fadeOut(t,e)},t.prototype.cover=function(){var t=this.injectData,e=t.state,n={image:t.image,imageList:t.elItemList,useScrollSync:t.options.useScrollSync,cssProperty:{overflow:"hidden"}};this.switchPanelEffect.setup(n).on(e.scrollY)},t.prototype.uncover=function(t){var e=this.injectData,n=e.state,i=e.elItemList,r=e.options,o=r.elScrollBody,s={image:null,imageList:i,useScrollSync:r.useScrollSync,cssProperty:{overflow:"auto"}},a=o?o.scrollTop:n.scrollY;n.centerY=this.switchPanelEffect.setup(s).off(t,n.height,a)},t}(),vy=function(){function t(t){this.injectData=t.getData(),this.eventProxy=this.injectData.eventProxy,this.resizeShapeUnit=new lg}return t.prototype.resizeModue=function(){var t=this.injectData,e=t.flicking,n=t.hrImageIndexLayout,i=t.vrImageIndexLayout,r=t.videoToolbarLayout;e&&e.resize(),n.refresh(),i.refresh(),r.resize(),this.eventProxy.trigger(zt.TRIGGER_RESIZE)},t.prototype.afterResizeHeight=function(){this.injectData.gestureProxy.gesture.reset({silently:!1,alignAnimate:!1})},t.prototype.initStyleImagePanel=function(){var t=this.injectData,e=t.itemPanel,n=t.options;lg.applyPanelStyle(n.useDownload,e)},t.prototype.resizeLayout=function(t,e){var n,i=this.injectData,r=i.elBase,o=i.browserInfo,s=_u(n=this.afterResizeHeight).call(n,this);r&&(this.calculateSize(),this.resizeModue(),e(),this.resizeShapeUnit.resizeViewer(r,t,o.isIOS,s))},t.prototype.openFullScreenViewer=function(){var f=this;return new xh(function(t){var e=f.injectData,n=e.gestureProxy,i=e.image,r=e.state,o=e.fullModeLayout,s=e.normalModeLayout,a=e.vrImageIndexLayout,l=e.hrImageIndexLayout,u=e.navigatorLayout,c=e.flicking,h=n.gesture,p=c.getElement().querySelector(Ht.IMAGE_WRAP);!1===a.isActiveLayout?o.hideSideMenu():(a.activate(),a.setFullScreen(!0)),u.togglePrevBtn({isShow:!1}),u.toggleNextBtn({isShow:!1}),l.deactivate(),l.unvisible(),o.openFullScreen(),s.deactivate(),r.fullScreen=!0,a.refresh(),i.style.transform=null,h.updateFullScreenMode(!0),h.setViewePortTarget(p),h.activate(),h.setTargetImage(i),t(!0),f.eventProxy.trigger(Dt.CHANGE_FULL_MODE)})},t.prototype.closeFullScreenViewer=function(){var h=this;return new xh(function(t){var e=h.injectData,n=e.gestureProxy,i=e.state,r=e.fullModeLayout,o=e.normalModeLayout,s=e.hrImageIndexLayout,a=e.vrImageIndexLayout,l=e.navigatorLayout,u=e.flicking,c=n.gesture;a.deactivate(),c.updateFullScreenMode(!1),c.reset(),c.deactivate(),i.fullScreen=!1,r.closeFullScreen(),o.activate(),o.awakePanelEvent(),l.togglePrevBtn({isShow:u.prevFlick,isOpacity:!0}),l.toggleNextBtn({isShow:u.nextFlick,isOpacity:!0}),i.currentItemType===kt.IMAGE&&(s.activate(),s.visible()),a.setFullScreen(!1),t(!0),h.eventProxy.trigger(Dt.CHANGE_NORMAL_MODE)})},t.prototype.settingNormalMode=function(){var t=this.injectData,e=t.fullModeLayout;t.normalModeLayout.activate(),e.closeFullScreen()},t.prototype.toggleFullScreen=function(t,e){var n=this.injectData.state,i=n.fullScreen;(i=void 0!==e?e:!i)?(this.openFullScreenViewer(),t(!0)):(this.closeFullScreenViewer(),t(!1)),n.fullScreen=i},t.prototype.calculateSize=function(){var t=this.injectData.state;t.width=window.innerWidth,t.height=window.innerHeight},t}(),gy=function(n){function t(t){var e=n.call(this)||this;return e.onChangeFullScreen=function(){var t=e.injectData.itemModel;requestAnimationFrame(function(){e.resizeLayout(!1)}),e.updateViewerLayoutByItem(t.getCurrent())},e.di=t,e.injectData=e.di.getData(),e.eventProxy=e.injectData.eventProxy,e}return js(t,n),t.prototype.initialize=function(){this.initElementPosition(),this.initService(),this.initLayoutEventBind(),this.itemControlService.applyDominantColor()},t.prototype.getHrImageIndexEventSet=function(){var t,e,n,r=this,i=rp.HIDE,o=rp.CLICK,s=rp.TOGGLE,a=rp.HIDED,l=rp.NEXT_CLICK,u=rp.PREV_CLICK;return(n={})[rp.SHOW]=_u(t=this.onVisibleHrIndex).call(t,this),n[i]=_u(e=this.onVisibleHrIndex).call(e,this),n[a]=function(){},n[o]=function(t){var e=t.listIndex;r.loadIndexData(e),r.eventProxy.trigger(Dt.H_INDEX_CLICK,t)},n[l]=function(){r.eventProxy.trigger(Dt.H_INDEX_NEXT_MOVE)},n[u]=function(){r.eventProxy.trigger(Dt.H_INDEX_PREV_MOVE)},n[s]=function(){var t=r.injectData,e=t.flicking,n=t.gestureProxy,i=r.isImageIndexVisible();n.gesture.resetIdentityPosition(),e.setPanelPadding(i)},n},t.prototype.getVrImageIndexEventSet=function(){var t,e,n,i=this,r=oe,o=se,s=ue,a=ce,l=he;return(n={})[re]=_u(t=this.onVisibleVrIndex).call(t,this),n[r]=_u(e=this.onVisibleVrIndex).call(e,this),n[o]=function(t){var e=t.listIndex;i.loadIndexData(e),i.eventProxy.trigger(Dt.V_INDEX_CLICK,t)},n[s]=function(){i.resizeLayout(!1)},n[a]=function(){var t=i.injectData,e=t.normalModeLayout;t.gestureProxy.gesture.deactivate(),e.freezePanelEvent()},n[l]=function(){var t=i.injectData,e=t.normalModeLayout;t.gestureProxy.gesture.activate(),e.awakePanelEvent()},n},t.prototype.getVideoToolbarEventSet=function(){var t,n=this,e=Ee,i=Ie,r=be,o=Te;return(t={})[ye]=function(){n.eventProxy.trigger(zt.TRIGGER_PLAY)},t[e]=function(){n.eventProxy.trigger(zt.TRIGGER_PAUSE)},t[i]=function(){n.eventProxy.trigger(zt.TRIGGER_SOUND_MUTE_ON)},t[r]=function(){n.eventProxy.trigger(zt.TRIGGER_SOUND_MUTE_OFF)},t[o]=function(t){var e=t.seekTime;n.eventProxy.trigger(zt.TRIGGER_CHANGE_TIME,{seekTime:e})},t},t.prototype.getVideoEvent=function(){var t,e=this.injectData,o=e.videoToolbarLayout,i=e.state,r=e.exceptionLayout,n=this.videoEventBlockedFilter,s=function(t){var e=!1!==t.played||t.playing,n=Xs({},t,{showToolbar:e});i.videoPlayed=e,o.refresh(n)};return(t={})[zt.PLAY]=n(function(){i.videoPlayed=!0,o.refresh({playing:!0,showToolbar:!0})}),t[zt.PAUSE]=n(function(){o.refresh({playing:!1})}),t[zt.END]=n(function(){o.refresh({playing:!1})}),t[zt.PROGRESS]=n(s),t[zt.SUSPEND]=n(s),t[zt.CANPLAY]=n(function(t){var e=Xs({},t,{showToolbar:!0});i.videoPlayed=t.playing,o.refresh(e),!1===t.played&&o.hide()}),t[zt.UPDATE_CURRENT_TIME]=n(function(t){var e=t.currentTime,n=t.seekStartTime,i=t.seekEndTime,r={durationTime:t.durationTime,currentTime:e,seekStartTime:n,seekEndTime:i,showToolbar:!0};o.refresh(r)}),t[zt.VOLUME_CHANGE]=n(function(t){var e={muted:t.muted};o.refresh(e)}),t[zt.ERROR]=n(function(t){var e=t.itemPanel,n=t.itemData,i={message:jt,itemType:n.itemType};r.show(i,e),o.hide()}),t},t.prototype.onVisibleVrIndex=function(){var t=this.injectData.vrImageIndexLayout.isVisiblity()?Dt.V_INDEX_OPEN:Dt.V_INDEX_CLOSE;this.eventProxy.trigger(t)},t.prototype.onVisibleHrIndex=function(){var t=this.injectData,e=t.normalModeLayout,n=t.hrImageIndexLayout,i=this.isImageIndexVisible(),r=i?Dt.H_INDEX_OPEN:Dt.H_INDEX_CLOSE;i?(n.moveScrollPage(),e.applyIndexMode()):e.applyViewerMode(),this.eventProxy.trigger(r)},t.prototype.getViewerEvent=function(){var t,n=this,e=this.injectData,i=e.flicking,r=e.itemModel,o=e.hrImageIndexLayout,s=e.vrImageIndexLayout,a=e.navigatorLayout;return(t={})[Kh.NAVI_PREV]=function(){i.prevFlick&&i.movePrev(0),n.eventProxy.trigger(Dt.PREV_MOVE)},t[Kh.NAVI_NEXT]=function(){i.nextFlick&&i.moveNext(0),n.eventProxy.trigger(Dt.NEXT_MOVE)},t[Kh.MODE_PICTURE]=function(){n.isImageIndexVisible()&&o.hide()},t[Kh.TOGGLE_FULL_VIEW]=function(){n.toggleFullScreen()},t[Kh.DOWN_LOAD_IMAGE]=function(){!function(t){var e,n=t.split("/").pop().split("?").shift();if(ji.ActiveXObject||"ActiveXObject"in ji){var i=new XMLHttpRequest;i.open("GET",t,!0),i.responseType="blob",i.onload=function(){var t=new Blob([i.response],{type:"application/octet-stream"});navigator.msSaveOrOpenBlob(t,n)},i.send()}else(e=Xi.createElement("a")).style.display="none",e.setAttribute("href",t),e.setAttribute("download",n),Xi.body.appendChild(e),e.click(),Ui(function(){Xi.body.removeChild(e)},100)}(r.getCurrent().imgSrc)},t[Kh.SCALE_INCREASE]=function(){n.injectData.gestureProxy.gesture.increaseScale()},t[Kh.SCALE_DECREASE]=function(){n.injectData.gestureProxy.gesture.decreaseScale()},t[Kh.SCALE_INIT]=function(){var t=n.injectData,e=t.image;t.gestureProxy.gesture.setTargetImage(e)},t[Kh.TOGGLE_SIDE_INDEX]=function(t){var e=t.isOpen,n=t.isAnimation,i=r.getComputedIndex();s.toggle(e,n,i)},t[Kh.FULL_MODE_MOUSE_MOVE]=function(t){switch(t.mouseArea){case qh.LEFT:a.togglePrevBtn({isShow:i.prevFlick}),a.toggleNextBtn({isShow:!1});break;case qh.RIGHT:a.togglePrevBtn({isShow:!1}),a.toggleNextBtn({isShow:i.nextFlick})}},t},t.prototype.initLayoutEventBind=function(){var t,e=this,n=this.injectData,i=n.wrapViewUnit,r=n.normalModeLayout,o=n.fullModeLayout,s=uu({},this.getHrImageIndexEventSet(),this.getVrImageIndexEventSet(),this.getVideoToolbarEventSet(),this.getVideoEvent(),this.getViewerEvent(),((t={})[ne.SHOW]=function(){i.hide(),r.setExceptionMode(!0),o.setExceptionMode(!0)},t[ne.HIDE]=function(){i.show(),r.setExceptionMode(!1),o.setExceptionMode(!1)},t[ne.REFRESH]=function(){e.itemControlService.loadPanelItem()},t));this.eventProxy.on(s)},t.prototype.initService=function(){this.itemControlService=new Sg(this.di),this.shapeService=new vy(this.di),this.animationService=new dy(this.di)},t.prototype.buildIn=function(t,e){var n=this,i=this.injectData,r=i.image,o=i.itemPanel;this.animationService.buildIn(t,function(){n.itemControlService.failItemLoad(kt.IMAGE,{loadImage:r,currentImage:r,itemPanel:o})},null,e)},t.prototype.buildOut=function(t,e){this.animationService.buildOut(t,e)},t.prototype.showView=function(t,e){void 0===e&&(e=!0);var n=this.injectData,i=n.state,r=n.elBase,o=n.options,s=!1===e,a=n.flicking.getElement().querySelector(Ht.IMAGE_WRAP).querySelector("img");this.di.regist({image:a}),wu(a,{visibility:"hidden"}),wu(document.body,{overflow:"hidden"}),i.scrollY=Nu().scrollTop,this.hideExceptionLayout(),wu(r,{visibility:"visible",display:hu(o,"styleOption.canvasDisplay")||"block",opacity:s?"1":"0",top:i.scrollY+"px"}),this.confirmOpenVideoItem(t),this.loadIndexData(t),this.resizeLayout(!1),this.setDisplayView()},t.prototype.setDisplayView=function(){var t=this.injectData,e=t.normalModeLayout,n=t.fullModeLayout,i=t.options,r=t.hrImageIndexLayout,o=!n.isActiveLayout||!!i.useOpenFullScreen,s=!i.useDownload;e.hideButton({fullMode:o,useDownload:s}),r.visible(),r.refresh(),i.useOpenFullScreen?this.toggleFullScreen(!0):this.shapeService.settingNormalMode()},t.prototype.afterHide=function(t,e){var n=this.injectData,i=n.elItemList,r=n.elBase,o=n.state,s=n.image,a=n.browserInfo,l=n.options,u=n.itemLoader,c=l.elScrollBody;wu(t,{visibility:"visible"}),wu(i,{transform:null}),wu(r,{transform:null,display:"none",opacity:0}),wu(document.body,{overflow:"auto"}),c?c.scrollTop=o.centerY:window.scrollTo(0,o.centerY),s.src=Lt,this.eventProxy.trigger(Kh.HIDE,e),a.isNaverApp&&(location.href=Ct),u.reset(),o.isPlaying=!1},t.prototype.hideView=function(t,e){var n,i=_u(n=this.afterHide).call(n,this,t,e),r=0!==e.gestureDistance,o=this.injectData,s=o.ghostImageLayout,a=o.state;if(r){var l=s.getElement();this.animationService.gestureHideProcess(l,e,function(){s.hide(),i()})}else i();!0===a.fullScreen&&this.toggleFullScreen(!1)},t.prototype.updateViewerLayoutByItem=function(t){var e=this.injectData,n=e.videoToolbarLayout,i=e.hrImageIndexLayout,r=e.fullModeLayout,o=e.normalModeLayout,s=e.state,a=t.itemType;a===kt.IMAGE?(n.hide(),s.fullScreen||(i.activate(),i.visible())):a===kt.VIDEO&&(i.deactivate(),i.unvisible()),r.setItemType(a),o.setItemType(a)},t.prototype.toggleFullScreen=function(t){this.shapeService.toggleFullScreen(this.onChangeFullScreen,t)},t.prototype.resizeLayout=function(t){var e=this;this.shapeService.resizeLayout(t,function(){e.itemControlService.shrinkImageLayout()})},t.prototype.activate=function(){var t=this.injectData,e=t.hrImageIndexLayout,n=t.normalModeLayout,i=t.wrapViewUnit,r=t.state;this.cover(),n.activate(),i.activate(),r.currentItemType===kt.IMAGE&&e.activate()},t.prototype.deactivate=function(){var t=this.injectData,e=t.hrImageIndexLayout,n=t.vrImageIndexLayout,i=t.exceptionLayout,r=t.wrapViewUnit,o=t.toastLayout,s=t.normalModeLayout,a=t.fullModeLayout;r.deactivate(),e.deactivate(),n.deactivate(),i.hide(),s.deactivate(),a.deactivate(),o.hide()},t.prototype.updateDataList=function(t){var e=this.injectData,n=e.navigatorLayout,i=e.fullModeLayout,r=e.hrImageIndexLayout,o=e.vrImageIndexLayout,s=1<(t?t.length:0);n.setActiveToggle(s),n.togglePrevBtn({isShow:s}),n.toggleNextBtn({isShow:s}),i.setActivateAreaEvent(s),r.itemDataList=t,o.itemDataList=t},t.prototype.loadIndexData=function(t){var e=this.injectData,n=e.itemModel,i=e.image,r=e.gestureProxy,o=n.getNotCumputedIndex(),s=r.gesture;if(t!==o){var a="number"==typeof t?t:o;this.itemControlService.loadPanelItem(a,function(){s.setTargetImage(i)})}},t.prototype.getImgFromList=function(t){return this.itemControlService.getImgFromList(t)},t.prototype.cover=function(){this.animationService.cover()},t.prototype.uncover=function(){var t=this.itemControlService.getImgFromList();this.animationService.uncover(t)},t.prototype.isImageIndexVisible=function(){return this.injectData.hrImageIndexLayout.isVisiblity()},t.prototype.isExceptionVisible=function(){return this.injectData.exceptionLayout.isVisiblity()},t.prototype.hideExceptionLayout=function(){this.injectData.exceptionLayout.hide()},t.prototype.hideImageIndexLayout=function(){return this.injectData.hrImageIndexLayout.hide()},t.prototype.destroy=function(){this.injectData.layoutPool.destroy()},t}(hy),_y=function(e){function t(t){var c=e.call(this)||this;return c.isZoomed=!1,c._beforeFlickStart=function(t){var e=c.injectData.itemModel,n=t.direction;n===Xm.Next?e.moveNext():n===Xm.Prev&&e.movePrev()},c._onFlick=function(){var t=c.injectData.state;t.resizeTimer&&window.clearTimeout(t.resizeTimer)},c._onFlickEnd=function(t){var e=c.injectData,n=e.hrImageIndexLayout,i=e.vrImageIndexLayout,r=e.itemModel,o=e.flicking,s=e.state,a=o.getElement().querySelector(Ht.IMAGE_WRAP),l=a.querySelector("img");if(!1!==s.open){c.gestureService.setViewePortTarget(a),c.gestureService.setTargetImage(l),c.changeActivePanel(),c.di.regist({image:l}),c.itemControlService.loadPanelItem();var u=r.getComputedIndex();c.eventProxy.trigger(Dt.FLICK,{direction:t.dirctionStr,index:u}),n.currentIndex=u,i.currentIndex=u}},c.onPinchComplete=function(){c.itemControlService.changeThumbToOrgImg(),c.isZoomed||(c.isZoomed=!0,c.eventProxy.trigger(Dt.ZOOM_ENTER))},c.onResetGesture=function(){var t=c.injectData,e=t.flicking,n=t.state,i=t.fullModeLayout,r=t.normalModeLayout;e.enableInput(),n.resizeTimer&&window.clearTimeout(n.resizeTimer),i.updateScale({percent:100,isMax:!1,isMin:!0}),r.awakePanelEvent()},c.onLockFlicking=function(){c.injectData.flicking.disableInput(!0)},c.onUnlockFlicking=function(){c.injectData.flicking.enableInput()},c.changeScale=function(t){var e=c.injectData,n=e.fullModeLayout,i=e.normalModeLayout,r=e.image,o=t.scale,s=o===t.scaleRule.time3,a=1===o;c.isZoomed=!1===a;var l={percent:100*o,isMax:s,isMin:a};!1===a?c.itemControlService.changeThumbToOrgImg():r.removeAttribute("width"),c.isZoomed?i.freezePanelEvent():i.awakePanelEvent(),n.updateScale(l),a?c.eventProxy.trigger(Dt.ZOOM_MIN):a?c.eventProxy.trigger(Dt.ZOOM_MAX):c.eventProxy.trigger(Dt.ZOOM_SCALE,{scale:o})},c.di=t,c.injectData=c.di.getData(),c.eventProxy=c.injectData.eventProxy,c.state=c.injectData.state,c}return js(t,e),t.prototype.initialize=function(){this.initService(),this.initFlicking(),this.initGesture()},t.prototype.initService=function(){this.shapeService=new vy(this.di),this.itemControlService=new Sg(this.di),this.animationService=new dy(this.di)},t.prototype.initFlicking=function(){var t,e,n,i=this.injectData.flicking;i.on({beforeFlickStart:_u(t=this._beforeFlickStart).call(t,this),flick:_u(e=this._onFlick).call(e,this),flickEnd:_u(n=this._onFlickEnd).call(n,this)}),i.disableInput(),this.shapeService.initStyleImagePanel(),this.changeActivePanel()},t.prototype.changeActivePanel=function(){var t=this.injectData.flicking.panel,e=t.current,n=t.prev,i=t.next;Pu(e,Rt.FLICK_PANEL_ACTIVE,!0),Pu(n,Rt.FLICK_PANEL_ACTIVE,!1),Pu(i,Rt.FLICK_PANEL_ACTIVE,!1)},t.prototype.initGesture=function(){var t,e,n,i,r,o,s,a=this.injectData.itemPanel,l=new ly(a,{viewportWidth:this.state.width,viewportHeight:this.state.height,deviceType:St.DESKTOP});l.on({reset:_u(t=this.onResetGesture).call(t,this),pinchstart:_u(e=this.onPinchStart).call(e,this),pinchidentity:_u(n=this.onPinchIdentity).call(n,this),pinchcomplete:_u(i=this.onPinchComplete).call(i,this),lockFlicking:_u(r=this.onLockFlicking).call(r,this),unlockFlicking:_u(o=this.onUnlockFlicking).call(o,this),changeScale:_u(s=this.changeScale).call(s,this)}),l.activate(),this.gestureService=l},t.prototype.onPinchStart=function(t){var e=this.injectData,n=e.hrImageIndexLayout,i=e.flicking,r=e.state,o=t.scale<1,s=n.isVisiblity();if(r.currentItemType!==kt.VIDEO)return s?(!o&&n.hide(),void t.stop()):void i.disableInput();t.stop()},t.prototype.onPinchIdentity=function(){this.injectData.flicking.enableInput(),this.isZoomed&&(this.isZoomed=!1,this.eventProxy.trigger(Dt.ZOOM_LEAVE))},t.prototype.getGestureProxy=function(){return{setVerticalPanTracking:function(){},gesture:this.gestureService}},t.prototype.activate=function(){this.injectData.flicking.enableInput(),this.gestureService.activate()},t.prototype.deactivate=function(){this.injectData.flicking.resetPanel(),this.gestureService.deactivate()},t.prototype.destroy=function(){var t=this.injectData.flicking;this.gestureService.destroy(),t.destroy()},t}(Ph),my=function(o){function t(t,e,n,i){var r=o.call(this)||this;return r.customLayoutPool={},r.elBase=t,r.eventProxy=e,r.defaultLayoutPool=n,r.mergePool(),r.createInstance(),r.initalizeLayout(t,i),r.collectedEvent(),r}return js(t,o),t.prototype.createInstance=function(){var i=this.defaultLayoutPool,r=this.customLayoutPool;mu(i,function(t,e){var n=new t;n instanceof av||n instanceof rv?r[n.getLayoutId()]=n:i[e]=n})},t.prototype.mergePool=function(){var t=this.defaultLayoutPool,e=this.customLayoutPool;this.layoutPool=uu(t,e)},t.prototype.initalizeLayout=function(n,i){var r,t=this.defaultLayoutPool,o=this.eventProxy;mu(t,function(t,e){r=uu({},i[e],{eventProxy:o}),t.initialize(n,r),t.defineCustomEvent()})},t.prototype.collectedEvent=function(){var e=this;mu(uu(this.layoutPool,this.customLayoutPool),function(t){e.eventProxy.collectAttachedEvent(t)})},t.prototype.getLayoutInstance=function(t){var e=this,n=ou(t);return au(t)?At(t).call(t,function(t){return e.layoutPool[t]},[]):"string"===n?this.layoutPool[t]:this.layoutPool},t.prototype.addCustomLayout=function(t){t.initialize(this.elBase),this.customLayoutPool[t.getLayoutId()]=t,this.eventProxy.collectAttachedEvent(t)},t.prototype.removeCustomLayout=function(t){var e=this.customLayoutPool[t];delete this.customLayoutPool[t],e.deactivate(),e=null},t.prototype.getCustomLayoutsProxy=function(){var i=this.customLayoutPool,n=function(e,n){var t;Gs(t=ht(i)).call(t,function(t){i[t][e]&&i[t][e](n)})};return{deactivate:function(){n("deactivate")},activate:function(){n("activate")},hide:function(){n("hide")},show:function(){n("show")},refresh:function(t,e){n("refresh",{data:t,index:e})},toggle:function(){n("toggle")},listenViewerEvent:function(t,e){n("listenViewerEvent",{eventName:t,eventData:e})}}},t.prototype.addLayout=function(t){var e=this;if(au(t)){var n=t;Gs(n).call(n,function(t){e.addCustomLayout(t)})}else this.addCustomLayout(t)},t.prototype.removeLayout=function(t){var e=this;if(au(t)){var n=t;Gs(n).call(n,function(t){e.removeCustomLayout(t)})}else this.removeCustomLayout(t)},t.prototype.destroy=function(){mu(this.layoutPool,function(t){t.destroy()})},t}(Ph),yy=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return js(e,t),e.prototype.collectAttachedEvent=function(t){var n=this,e=t.getEventMap();null!==e&&mu(e,function(e){t.on(e,function(t){n.trigger(e,t)})})},e.ATTACH_EVENT={},e.PUBLISH_EVENT={},e}(Ph),Ey=function(){function t(t){this.injectData=t.getData()}return t.prototype.resize=function(){var t=this.injectData,e=t.captionLayout,n=t.hrImageIndexLayout;e.resize(),n.refresh()},t.prototype.update=function(t,e,n){var i=this.injectData,r=i.captionLayout,o=i.linkLayout,s=i.indexIndicatorLayout,a=i.navigatorLayout,l=i.customLayoutsProxy,u=i.state.fullScreen;if(-1<t&&-1<e){var c={index:t,total:e};s.refresh(c);var h=1!==t,p=t!==e;u?(h||a.togglePrevBtn({isShow:h}),p||a.toggleNextBtn({isShow:p})):(a.togglePrevBtn({isShow:h,isOpacity:!0}),a.toggleNextBtn({isShow:p,isOpacity:!0}))}l.refresh(n,t),r.refresh(n),o.refresh(n),o.show(),r.show()},t.prototype.hide=function(){var t=this.injectData,e=t.captionLayout,n=t.linkLayout,i=t.customLayoutsProxy;n.hide(),e.hide(),i.hide()},t.prototype.show=function(){var t=this.injectData,e=t.captionLayout,n=t.linkLayout,i=t.customLayoutsProxy;n.show(),e.show(),i.show()},t.prototype.activate=function(){var t=this.injectData,e=t.captionLayout,n=t.linkLayout,i=t.indexIndicatorLayout,r=t.navigatorLayout,o=t.customLayoutsProxy;e.activate(),n.activate(),i.activate(),r.activate(),o.activate()},t.prototype.deactivate=function(){var t=this.injectData,e=t.captionLayout,n=t.linkLayout,i=t.indexIndicatorLayout,r=t.navigatorLayout,o=t.customLayoutsProxy;e.deactivate(),n.deactivate(),i.deactivate(),r.deactivate(),o.deactivate()},t}(),Iy={options:null,browserInfo:$a(),flicking:null,elBase:null,elRoot:null,elItemList:null,itemModel:null,image:null,state:null,imageWrap:null,itemPanel:null,wrapViewUnit:null,layoutPool:null,itemLoader:null,customLayoutsProxy:null,eventProxy:null};function by(n,t){return mu(t,function(t,e){Oh(n,e,{get:t})}),n}var Ty,Sy,xy,wy,Py={getCommonProps:function(n){var t={},e={},i=["options","browserInfo","wrapViewUnit","flicking","elBase","elRoot","elItemList","itemModel","image","state","imageWrap","itemPanel","layoutPool","itemLoader","customLayoutsProxy","eventProxy"];return At(i).call(i,function(t,e){return t[e]=function(){return n[e]},t},e),t=by(t=by(t,e),{hrImageIndexLayout:function(){return n.layoutPool.getLayoutInstance(Mt.H_IMAGE_INDEX)},ghostImageLayout:function(){return n.layoutPool.getLayoutInstance(Mt.GHOST_IMAGE)},headerLayout:function(){return n.layoutPool.getLayoutInstance(Mt.HEADER)},footerLayout:function(){return n.layoutPool.getLayoutInstance(Mt.FOOTTER)},backgroundLayout:function(){return n.layoutPool.getLayoutInstance(Mt.BACKGROUND)},gestureProxy:function(){return n.gestureProxy},captionLayout:function(){return n.layoutPool.getLayoutInstance(Mt.CAPTION)},closeButtonLayout:function(){return n.layoutPool.getLayoutInstance(Mt.CLOSE_BTN)},indexIndicatorLayout:function(){return n.layoutPool.getLayoutInstance(Mt.INDEX_INDICATOR)},linkLayout:function(){return n.layoutPool.getLayoutInstance(Mt.LINK)},exceptionLayout:function(){return n.layoutPool.getLayoutInstance(Mt.EXCEPTION)},toastLayout:function(){return n.layoutPool.getLayoutInstance(Mt.TOAST)},videoToolbarLayout:function(){return n.layoutPool.getLayoutInstance(Mt.VIDEO_TOOLBAR)}})},defineGetter:by},Oy=function(){function t(){this.props={},this.props={},this.onSuccess=function(){},this.onFail=function(){}}return t.prototype.bindProps=function(t){this.props=Xs({},this.props,t)},t.prototype.setOnSuccess=function(t){this.onSuccess=t},t.prototype.setOnFail=function(t){this.onFail=t},t.prototype.getProps=function(){return this.props},t}(),Ay=$a(),Ly=function(i){function t(t,e){var s=i.call(this)||this;s.appleDevice=Ay.isIOS||Ay.isMacOs,s.isDeskTop=Ay.isDeskTop,s.selectDataProvider=!1,s.promiseCallFunc={canplay:null,error:null,loadeddata:null},s.triggerProgress=function(t){var e=s.getVideoStatus();s.trigger("progress",Xs({eventObj:t},e))},s.triggerSuspend=function(t){var e=s.getVideoStatus();s.selectDataProvider&&s.promiseCallFunc.canplay&&s.promiseCallFunc.canplay(t),s.trigger("suspend",Xs({eventObj:t},e))},s.triggerDurationChange=function(t){var e=s.getVideoStatus();s.trigger("durationChange",Xs({eventObj:t},e))},s.triggerMetaLoadedData=function(t){s.promiseCallFunc.canplay&&s.promiseCallFunc.canplay(t)},s.triggerCanplay=function(t){var e=s.getVideoStatus();s.trigger("canplay",Xs({eventObj:t},e)),s.promiseCallFunc.canplay&&s.promiseCallFunc.canplay(t)},s.triggerPlaying=function(t){var e=s.getVideoStatus();s.trigger("playing",Xs({eventObj:t},e))},s.triggerError=function(t){s.unbindEvent(),s.resetVideoPlayer(),s.promiseCallFunc.error&&s.promiseCallFunc.error(t),s.trigger("error",{eventObj:t})},s.triggerUpdateTime=function(t){var e=s.getVideoStatus();s.trigger("updateTime",Xs({eventObj:t},e))},s.triggerVolumechange=function(t){var e=s.corePlayer.muted;s.trigger("volumeChange",{eventObj:t,muted:e})},s.triggerEnd=function(t){var e=s.getVideoStatus();s.trigger("end",Xs({eventObj:t},e))},s.resize=function(){var t=s.corePlayer.shadowRoot.querySelector("video"),e=s.corePlayer,n=e.videoWidth,i=e.videoHeight,r=0,o=0;t&&wu(t,{width:(o=0===n||0===i?(wu(t,{width:"auto",height:"auto"}),r=t.offsetWidth,t.offsetHeight):(r=n,i))<r||r===o?"100%":"auto",height:r<o||r===o?"100%":"auto"})};var n=t.default;return s.envType=e,s.playerModule=t,s.corePlayer=new n,s}return js(t,i),t.prototype.load=function(t){var n=this,i=t.isDisplayPanel,e=t.thumbImage,r=t.panel,o=t.loadData,s=t.itemData;return this.panel=r,i?(this.createVideoPlayer(),xu(e)):this.resetVideoPlayer(),new xh(function(t,e){i?(n.promiseCallFunc.canplay=function(){Su(n.corePlayer.shadowRoot),t(o),n.promiseCallFunc.canplay=null,n.promiseCallFunc.error=null},n.promiseCallFunc.error=function(){s.videoData.autoPlay=!1,e(o),n.promiseCallFunc.canplay=null,n.promiseCallFunc.error=null},n.selectDataProvider=!1,n.unbindEvent(),n.videoLoad(s),n.bindEvent(),n.corePlayer.autoplay=s.videoData.autoPlay):(n.promiseCallFunc.canplay=null,n.promiseCallFunc.error=null,t(o))})},t.prototype.createVideoPlayer=function(){var t=this.panel.querySelector(Ht.VIDEO_WRAP),e=t.querySelector(Ht.VIDEO_ITEM),n=e.childNodes[0],i=this.corePlayer.shadowRoot,r=i.querySelector("video").parentNode;wu(t,{position:"absolute",height:"100%",width:"100%",top:"50%",left:"50%",transform:"translate(-50%, -50%)",display:"block"}),n&&e.removeChild(n),Pu(i,Rt.VIDEO_CONTENTS,!0),Pu(r,Rt.VIDEO_SOURCE,!0),xu(i),e.appendChild(i)},t.prototype.resetVideoPlayer=function(){if(this.unbindEvent(),this.corePlayer.pause(),this.corePlayer.src="",this.corePlayer.autoplay=!1,this.panel){var t=this.panel.querySelector(Ht.VIDEO_WRAP).querySelector(Ht.VIDEO_ITEM),e=t.childNodes[0];e&&t.removeChild(e)}},t.prototype.getBufferRange=function(){var t=this.corePlayer.buffered;return{bufferedStartTime:0<t.length?t.start(0):0,bufferedEndTime:0<t.length?t.end(0):0}},t.prototype.getSeekRange=function(){var t=this.corePlayer.seekable;return{seekStartTime:0<t.length?t.start(0):0,seekEndTime:0<t.length?t.end(0):0}},t.prototype.getVideoProps=function(){var t=this.corePlayer.shadowRoot.querySelector("video"),e=0;return t&&(e=t.duration),{durationTime:e}},t.prototype.unbindEvent=function(){this.corePlayer.removeEventListener("loadedmetadata",this.triggerMetaLoadedData),this.corePlayer.removeEventListener("playing",this.triggerPlaying),this.corePlayer.removeEventListener("canplay",this.triggerCanplay),this.corePlayer.removeEventListener("timeupdate",this.triggerUpdateTime),this.corePlayer.removeEventListener("error",this.triggerError),this.corePlayer.removeEventListener("durationchange",this.triggerDurationChange),this.corePlayer.removeEventListener("progress",this.triggerProgress),this.corePlayer.removeEventListener("suspend",this.triggerSuspend),this.corePlayer.removeEventListener("volumechange",this.triggerVolumechange),this.corePlayer.removeEventListener("resize",this.resize),this.corePlayer.removeEventListener("ended",this.triggerEnd)},t.prototype.bindEvent=function(){this.corePlayer.addEventListener("loadedmetadata",this.triggerMetaLoadedData),this.corePlayer.addEventListener("canplay",this.triggerCanplay),this.corePlayer.addEventListener("playing",this.triggerPlaying),this.corePlayer.addEventListener("timeupdate",this.triggerUpdateTime),this.corePlayer.addEventListener("error",this.triggerError),this.corePlayer.addEventListener("durationchange",this.triggerDurationChange),this.corePlayer.addEventListener("progress",this.triggerProgress),this.corePlayer.addEventListener("suspend",this.triggerSuspend),this.corePlayer.addEventListener("volumechange",this.triggerVolumechange),this.corePlayer.addEventListener("ended",this.triggerEnd)},t.prototype.getVideoStatus=function(){var t=this.getVideoProps().durationTime,e=this.getBufferRange(),n=e.bufferedStartTime,i=e.bufferedEndTime,r=this.corePlayer,o=r.muted,s=void 0!==o&&o,a=r.currentTime,l=r.paused,u=this.getSeekRange();return{playing:!l,durationTime:t,currentTime:a,bufferedStartTime:n,bufferedEndTime:i,seekStartTime:u.seekStartTime,seekEndTime:u.seekEndTime,muted:s}},t.prototype.videoLoad=function(t){t.videoData.provider===Bt.DATA?(this.dataByLoad(t),this.selectDataProvider=!0):this.vodByLoad(t)},t.prototype.dataByLoad=function(t){var e=this.validateVideoData(t.videoData),n=e.isValid,i=e.errorMessage,r=t.width,o=t.height;if(!n)throw new Error(i);var s=new this.playerModule.DataProvider({videoTracks:[{src:t.videoData.url,width:r,height:o,selected:!0}],poster:t.thumbUrl,textTracks:[]});(this.corePlayer.srcObject=s).load()},t.prototype.vodByLoad=function(t){var e=this.validateVideoData(t.videoData),n=e.isValid,i=e.errorMessage;if(!n)throw new Error(i);var r="720p";this.isDeskTop&&(r="1080p");var o=Bt.VOD+"://"+t.videoData.serviceId+":"+t.videoData.vodKey+"@"+t.videoData.vodId+"?providerEnv="+this.envType+"#track="+r;this.corePlayer.src=o},t.prototype.play=function(){this.corePlayer.play(),this.trigger("play",{currentTime:this.corePlayer.currentTime})},t.prototype.pause=function(){this.corePlayer.pause(),this.trigger("pause",{currentTime:this.corePlayer.currentTime})},t.prototype.close=function(){this.corePlayer.pause(),this.resetVideoPlayer()},t.prototype.isPaused=function(){return this.corePlayer.paused},t.prototype.seekTime=function(t){this.corePlayer.currentTime=t},t.prototype.toggleMuteSound=function(t){var e="boolean"!=typeof t?!this.corePlayer.muted:t;this.corePlayer.muted=e},t.prototype.stop=function(){this.corePlayer.pause()},t.prototype.validateVideoData=function(t){var e=this.errorMessage;return t?t.provider!==Bt.DATA||t.url?t.provider!==Bt.VOD||t.vodId&&t.vodKey||(e="VOD 형식의 Video는 vodId와 vodKey가 필요합니다."):e="Data 형식의 Video는 url이 필요합니다.":e="Video Item은 videoData 객체가 필요합니다.",{isValid:!e,errorMessage:e}},t}(cv),Cy=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.player={state:"none"},t}return js(t,e),t.prototype.load=function(t){var e=t.loadData;return this.player.state="load",xh.resolve(e)},t.prototype.play=function(){this.player.state="play"},t.prototype.pause=function(){this.player.state="pause"},t.prototype.isPaused=function(){return"pause"===this.player.state},t.prototype.stop=function(){this.player.state="stop"},t.prototype.seekTime=function(t){this.player.seekTime=t},t.prototype.toggleMuteSound=function(t){this.player.soundOn=t},t.prototype.resize=function(){this.player.state="resize"},t.prototype.close=function(){this.player.state="close"},t.prototype.validateVideoData=function(t){var e=this.errorMessage;return t||(e="Video Item은 videoData 객체가 필요합니다."),{isValid:!e,errorMessage:e}},t}(cv),Dy=function(i){function t(t,e){void 0===t&&(t={});var n=i.call(this,t,e)||this;return n.isMobile=$a().isMobile,n.displayPanelLoad=!1,n.play=function(t){Cp(t),n.videoPlayer.play()},n.pause=function(t){Cp(t),n.videoPlayer.pause()},n.resize=function(){n.videoPlayer.resize()},n.close=function(){n.videoPlayer.close()},n.unbindEventTrigger=function(){n.unbindEvent()},n.updateCurrentTime=function(t){var e=t.seekTime;n.videoPlayer.seekTime(e)},n.soundMuteOn=function(){Yi(ge),n.videoPlayer.toggleMuteSound(!0)},n.soundMuteOff=function(){Wi(ge,"off"),n.videoPlayer.toggleMuteSound(!1)},n.onVideoButtons=function(t){Cp(t)},n.initPlayer(),n}return js(t,i),t.prototype.initPlayer=function(){var t,e,n,i=this._options.videoPlayerSettings,r=i.playerModule,o=void 0===r?{}:r,s=i.type,a=void 0===s?"":s,l=i.envType,u=void 0===l?fe:l;this.videoPlayer=(e=o,n=u,(t=a)===de.VINFRA?new Ly(e,n):t===de.CUSTOM&&e?new e(n):new Cy)},t.prototype.initPanel=function(t){var e=t.thumbUrl,n=this.panel.querySelector("img"),i=this.panel.querySelector(Ht.IMAGE_WRAP),r=this.panel.querySelector(Ht.VIDEO_WRAP),o=this.panel.querySelector(Ht.IMAGE_PANEL_LOADING),s=this.panel.querySelector(Ht.VIDEO_BUTTONS),a=s.querySelector(Ht.PLAY_BUTTON),l=s.querySelector(Ht.PAUSE_BUTTON);this.videoButtons=s,this.playButton=a,this.pauseButton=l,e&&(n.setAttribute("data-src",e),zh(n),Su(i),xu(r),xu(o))},t.prototype.setLoadingEl=function(){Su(this.panel.querySelector(Ht.IMAGE_PANEL_LOADING))},t.prototype.loadItem=function(t,e,n){var i=this,r={itemModelIndex:e,itemType:n.itemType,metaData:{duration:null}},o=t===e,s=this.panel.querySelector(Ht.IMAGE_WRAP),a=this.videoPlayer.validateVideoData(n.videoData),l=a.isValid,u=a.errorMessage;if(this.displayPanelLoad=o,this.itemData=n,this.itemIndex=e,!l)throw new Error(u);this.unbindEvent(),o&&(this.played=!1,this.bindEvent());var c=this.panel,h={isDisplayPanel:o,thumbImage:s,panel:c,itemData:n,loadData:r};return this.videoPlayer.load(h).then(function(t){return o&&(i.initPlayerPanel(n.videoData.autoPlay),n.videoData.autoPlay=!1,i.eventProxy.trigger(zt.PAUSE,{itemData:n,played:i.played})),t})},t.prototype.unbindEvent=function(){var t,e=this.videoPlayer,n=this.eventProxy,i=zt.TRIGGER_PLAY,r=zt.TRIGGER_PAUSE,o=zt.TRIGGER_CHANGE_TIME,s=zt.TRIGGER_SOUND_MUTE_ON,a=zt.TRIGGER_SOUND_MUTE_OFF,l=zt.TRIGGER_RESIZE,u=zt.TIGGER_TOGGLE_PLAY,c=zt.TRIGGER_CLOSE,h=zt.TRIGGER_UNBIND;Gs(t=["canplay","play","playing","pause","updateTime","durationChange","progress","suspend","error","volumeChange","end"]).call(t,function(t){e.off(t)}),n.off(u,this.togglePlay),n.off(i,this.play),n.off(r,this.pause),n.off(o,this.updateCurrentTime),n.off(s,this.soundMuteOn),n.off(a,this.soundMuteOff),n.off(l,this.resize),n.off(c,this.close),n.off(h,this.unbindEventTrigger)},t.prototype.bindEvent=function(){var c=this,h=this.videoPlayer,p=this.eventProxy,f=this.itemData,d=zt.CANPLAY,n=zt.PLAY,e=zt.PLAYING,i=zt.PAUSE,r=zt.UPDATE_CURRENT_TIME,o=zt.UPDATE_DURATION_TIME,s=zt.PROGRESS,a=zt.SUSPEND,l=zt.ERROR,u=zt.END,v=zt.VOLUME_CHANGE,t=zt.TRIGGER_PLAY,g=zt.TRIGGER_PAUSE,_=zt.TRIGGER_CHANGE_TIME,m=zt.TRIGGER_SOUND_MUTE_ON,y=zt.TRIGGER_SOUND_MUTE_OFF,E=zt.TRIGGER_RESIZE,I=zt.TIGGER_TOGGLE_PLAY,b=zt.TRIGGER_CLOSE,T=zt.TRIGGER_UNBIND;h.on("canplay",function(t){var e=t.playing,n=t.durationTime,i=t.currentTime,r=t.bufferedStartTime,o=t.bufferedEndTime,s=t.seekStartTime,a=t.seekEndTime,l=c.played,u="off"!==qi(ge);p.trigger(d,{playing:e,itemData:f,durationTime:n,currentTime:i,bufferedStartTime:r,bufferedEndTime:o,seekStartTime:s,seekEndTime:a,muted:u,played:l}),!1===c.isMobile&&h.toggleMuteSound(u)}),h.on("play",function(t){var e=c.played;p.trigger(n,Xs({itemData:f,played:e},t)),c.firstPlayCheck()}),h.on("playing",function(t){c.played=!0,p.trigger(e,Xs({itemData:f,played:c.played},t)),c.firstPlayCheck()}),h.on("pause",function(t){var e=c.played;p.trigger(i,Xs({itemData:f,played:e},t))}),h.on("end",function(t){var e=c.played;p.trigger(u,Xs({itemData:f,played:e},t))}),h.on("updateTime",function(t){var e=c.played;p.trigger(r,Xs({itemData:f,played:e},t))}),h.on("durationChange",function(t){var e=c.played;p.trigger(o,Xs({itemData:f,played:e},t))}),h.on("progress",function(t){var e=c.played;p.trigger(s,Xs({itemData:f,played:e},t))}),h.on("suspend",function(t){var e=c.played;p.trigger(a,Xs({itemData:f,played:e},t))}),h.on("volumeChange",function(t){var e=t.muted;p.trigger(v,{itemData:f,muted:e})}),h.on("error",function(t){if(!1!==c.displayPanelLoad){var e=c,n=e.panel,i=e.itemIndex,r=e.playButton,o=e.pauseButton;xu(r),xu(o),f.videoData.autoPlay=!1,p.trigger(l,Xs({itemData:f,itemIndex:i,itemPanel:n},t))}}),p.on(I,this.togglePlay),p.on(t,this.play),p.on(g,this.pause),p.on(_,this.updateCurrentTime),p.on(m,this.soundMuteOn),p.on(y,this.soundMuteOff),p.on(E,this.resize),p.on(b,this.close),p.on(T,this.unbindEventTrigger)},t.prototype.firstPlayCheck=function(){var t=this.playButton,e=this.pauseButton;this.played||(xu(t),xu(e),this.played=!0)},t.prototype.togglePlay=function(){this.videoPlayer.isPaused()?this.videoPlayer.play():this.videoPlayer.pause()},t.prototype.initPlayerPanel=function(t){this.renderButtons(t),this.unbindControlButtonEvent(),this.bindcontrolButtonEvent()},t.prototype.renderButtons=function(t){var e=this.playButton,n=this.pauseButton;this.videoButtons&&(xu(n),t?xu(e):Su(e))},t.prototype.unbindControlButtonEvent=function(){var t=this.playButton,e=this.play,n=this.videoButtons,i=this.onVideoButtons;Lu(t,"click",e),Lu(n,"click",i)},t.prototype.bindcontrolButtonEvent=function(){var t=this.videoButtons,e=this.playButton,n=this.play,i=this.onVideoButtons;Au(e,"click",n),Au(t,"click",i)},t}(py),My=function(){function t(t,e){this.imageItemPool=[],this.videoItemPool=[],this.itemMap={},this._options=t,this.eventProxy=e}return t.prototype.getItemFromPool=function(t,e){var n=t===kt.IMAGE,i=n?fy:Dy,r=n?this.imageItemPool:this.videoItemPool;return this.itemMap[e]?this.itemMap[e]:0<r.length?r.pop():new i(this._options,this.eventProxy)},t.prototype.setItemInMap=function(t,e){this.itemMap[t]=e},t.prototype.releaseItemByIndex=function(i){var r=this,o=this.itemMap,t=ht(o);Gs(t).call(t,function(t){var e=Number(t.replace(/item/gi,""));if(!(i-1<=e&&e<=i+1)){var n=o[e];r.returnItemInPool(n),delete o[e]}})},t.prototype.returnItemInPool=function(t){t instanceof fy?this.imageItemPool.push(t):t instanceof Dy&&(t.initPlayer(),this.videoItemPool.push(t))},t.prototype.clear=function(){this.imageItemPool=[],this.videoItemPool=[]},t}(),Ny=function(i){function p(t,e){var n=i.call(this)||this;return n.loadCounter=0,n.willLodCount=0,n.loading=!1,n._options=uu({},{useFadeEffect:!1,videoPlayerSettings:{}},e),n.callbackProxy=new Oy,n.itemPoolManager=new My(n._options,t),n}return js(p,i),p.imagePresetData=function(t){return t?(t.imgSrc=Hh(t.thumbUrl),t):null},p.prototype.loadCount=function(){this.loadCounter++,this.loadCounter===this.willLodCount&&(this.loading=!1,this.trigger("onAllLoadItem"))},p.prototype.setItemInPanel=function(t,e){var r=this,o=e.itemModelIndex,s=e.panel,n=e.data;if(!n)throw new Error;var i=this.itemPoolManager.getItemFromPool(e.type,o),a=e.type;i.once("itemLoaded",function(){return r.itemLoaded(i,o)}),i.load(t,o,s,n).then(function(){Su(s),r.callbackProxy.onSuccess(o)}).catch(function(t){var e=t.metaData,n=void 0===e?{}:e,i=uu(r.callbackProxy.getProps().extendMetaData,n,{itemPanel:s});r.callbackProxy.onFail(a,i,o)})},p.prototype.itemLoaded=function(t,e){this.itemPoolManager.setItemInMap(e,t),this.loadCount()},p.presetItemData=function(t){return t&&t.itemType===kt.IMAGE?p.imagePresetData(t):t&&t.itemType===kt.VIDEO?t:null},p.prototype.setItemsByIndex=function(e,t){var n,i=this,r=mv(),o=t.current,s=t.prev,a=t.next,l=p.presetItemData(r.get(e-1)),u=p.presetItemData(r.get(e)),c=p.presetItemData(r.get(e+1)),h=[{itemModelIndex:e-1,panel:s,data:l,type:l?l.itemType:null},{itemModelIndex:e,panel:o,data:u,type:u?u.itemType:null},{itemModelIndex:e+1,panel:a,data:c,type:c?c.itemType:null}];this.itemPoolManager.releaseItemByIndex(e),this.loadCounter=0,this.willLodCount=0,Gs(n=qp(h).call(h,function(t){return t.data&&i.willLodCount++,t.data})).call(n,function(t){i.setItemInPanel(e,t)}),this.loading=!0},p.prototype.isLoading=function(){return this.loading},p.prototype.reset=function(){this.itemPoolManager.clear(),this.loading=!1},p}(Ph),Ry=function(){function t(){}return t.prototype.bindProps=function(t,e){this.getProps=t,this.setProps=e},t.prototype.regist=function(t){for(var e in t)t[e]&&(this.setProps[e]=t[e])},t.prototype.getData=function(){return this.getProps},t.prototype.destroy=function(){this.getProps=null,this.setProps=null},t}(),ky=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.isActiveToggle=!0,e.onClickPrev=function(t){Cp(t),e.trigger(Kh.NAVI_PREV)},e.onClickNext=function(t){Cp(t),e.trigger(Kh.NAVI_NEXT)},e}return js(e,t),e.prototype.initialize=function(){this.prevButton=document.querySelector(ip.NAVI_PREV_BTN),this.nextButton=document.querySelector(ip.NAVI_NEXT_BTN),this.bindEvent()},e.prototype.defineCustomEvent=function(){var t;this.eventNameMap=((t={})[Kh.NAVI_PREV]=Kh.NAVI_PREV,t[Kh.NAVI_NEXT]=Kh.NAVI_NEXT,t)},e.prototype.setActiveToggle=function(t){this.isActiveToggle=t},e.prototype.togglePrevBtn=function(t){if(!1!==this.isActiveToggle){var e=t.isShow;if(t.isOpacity){var n=e?1:.15;Su(this.prevButton),wu(this.prevButton,{opacity:n})}else wu(this.prevButton,{opacity:1}),e?Su(this.prevButton):xu(this.prevButton)}else xu(this.prevButton)},e.prototype.toggleNextBtn=function(t){if(!1!==this.isActiveToggle){var e=t.isShow;if(t.isOpacity){var n=e?1:.15;Su(this.nextButton),wu(this.nextButton,{opacity:n})}else wu(this.nextButton,{opacity:1}),e?Su(this.nextButton):xu(this.nextButton)}else xu(this.nextButton)},e.prototype.bindEvent=function(){Au(this.prevButton,"click",this.onClickPrev),Au(this.nextButton,"click",this.onClickNext)},e.prototype.unbindEvent=function(){Lu(this.prevButton,"click",this.onClickPrev),Lu(this.nextButton,"click",this.onClickNext)},Ws([Qp],e.prototype,"bindEvent",null),Ws([Jp],e.prototype,"unbindEvent",null),e}(op);(Sy=Ty||(Ty={})).LEFT="left",Sy.RIGHT="right",Sy.OUTTER="out",Sy.VIDEO_BUTTONS="video_buttons",Sy.NONE="none",(wy=xy||(xy={})).VIEWER="VIEWER",wy.INDEX="INDEX",wy.PICTURE="PICTURE";var Vy=function(t){function e(){var c=null!==t&&t.apply(this,arguments)||this;return c.freezePanelClick=!1,c.showException=!1,c.useDownload=!0,c.onMouseenter=function(){c.applyViewerMode()},c.onMouseleave=function(){c.applyPictureMode()},c.onClickDownLoad=function(t){Cp(t),c.trigger(Kh.DOWN_LOAD_IMAGE)},c.clickFullButton=function(t){Cp(t),c.trigger(Kh.TOGGLE_FULL_VIEW)},c.clickPanel=function(t){if(c.freezePanelClick)Cp(t);else switch(c.getClickArea(t)){case Ty.LEFT:c.trigger(Kh.NAVI_PREV);break;case Ty.RIGHT:c.trigger(Kh.NAVI_NEXT);break;case Ty.NONE:Cp(t);break;default:c.isNormalMode&&(Cp(t),c.trigger(Dt.CLOSE))}},c.getClickArea=function(t){var e=t.target;if(ku(e,ip.HEADER)||ku(e,ip.EXCEPTION_LAYER)||ku(e,ip.VIDEO_BUTTONS)||ku(e,ip.VIDEO_TOOLBAR))return Ty.NONE;var n=t.clientX,i=t.clientY,r=c.elPanelArea.getBoundingClientRect(),o=r.left,s=r.left+r.width,a=r.top,l=r.top+r.height,u=r.left+r.width/2;return o<=n&&n<=s&&a<=i&&i<=l?n<=u?Ty.LEFT:Ty.RIGHT:Ty.OUTTER},c}return js(e,t),e.prototype.initialize=function(t){this.elBase=t,this.elPanelArea=t.querySelector(ip.PANEL_WRAPER),this.elPanelArea=t.querySelector(ip.PANEL_WRAPER),this.elFullModeOpenBtn=t.querySelector(ip.VIEW_MODE_FULL_BUTTON),this.elDownLoadBtn=t.querySelector(ip.DOWN_LOAD_BTN),this.isNormalMode=!0,Au(this.elFullModeOpenBtn,"click",this.clickFullButton),Au(this.elBase,"click",this.clickPanel),Au(this.elDownLoadBtn,"click",this.onClickDownLoad)},e.prototype.setNormalMode=function(t){this.isNormalMode=t},e.prototype.freezePanelEvent=function(){this.freezePanelClick=!0},e.prototype.awakePanelEvent=function(){this.freezePanelClick=!1},e.prototype.defineCustomEvent=function(){var t;this.eventNameMap=((t={})[Kh.MODE_VIEWER]=Kh.MODE_VIEWER,t[Kh.MODE_PICTURE]=Kh.MODE_PICTURE,t[Kh.MODE_INDEX]=Kh.MODE_INDEX,t[Kh.NAVI_PREV]=Kh.NAVI_PREV,t[Kh.NAVI_NEXT]=Kh.NAVI_NEXT,t[Kh.TOGGLE_FULL_VIEW]=Kh.TOGGLE_FULL_VIEW,t[Dt.CLOSE]=Dt.CLOSE,t[Kh.DOWN_LOAD_IMAGE]=Kh.DOWN_LOAD_IMAGE,t)},e.prototype.applyViewerMode=function(){this.currentMode!==xy.VIEWER&&(this.currentMode=xy.VIEWER,Pu(this.elPanelArea,np.IS_HOVER,!0),this.trigger(Kh.MODE_VIEWER))},e.prototype.applyIndexMode=function(){this.currentMode!==xy.INDEX&&(this.currentMode=xy.INDEX,Pu(this.elPanelArea,np.IS_HOVER,!0),this.trigger(Kh.MODE_INDEX))},e.prototype.applyPictureMode=function(){this.currentMode!==xy.PICTURE&&(this.currentMode=xy.PICTURE,Pu(this.elPanelArea,np.IS_HOVER,!1),this.trigger(Kh.MODE_PICTURE))},e.prototype.hideButton=function(t){var e=t.fullMode,n=t.useDownload;e&&xu(this.elFullModeOpenBtn),n&&(this.useDownload=!1,xu(this.elDownLoadBtn))},e.prototype.activate=function(){this.bindEvent()},e.prototype.deactivate=function(){this.unbindEvent()},e.prototype.bindEvent=function(){Au(this.elPanelArea,"mouseenter",this.onMouseenter),Au(this.elPanelArea,"mouseleave",this.onMouseleave)},e.prototype.unbindEvent=function(){Lu(this.elPanelArea,"mouseenter",this.onMouseenter),Lu(this.elPanelArea,"mouseleave",this.onMouseleave)},e.prototype.setItemType=function(t){this.itemType=t,this.updateButtonDisplay()},e.prototype.setExceptionMode=function(t){this.showException=t,this.updateButtonDisplay()},e.prototype.updateButtonDisplay=function(){var t=this.elDownLoadBtn,e=this.showException,n=this.itemType;t&&(!1===e&&n===kt.IMAGE&&!0===this.useDownload?t.removeAttribute("style"):(e||n===kt.VIDEO)&&xu(t))},Ws([Zp],e.prototype,"applyViewerMode",null),Ws([Zp],e.prototype,"applyIndexMode",null),Ws([Zp],e.prototype,"applyPictureMode",null),Ws([$p(!1)],e.prototype,"activate",null),Ws([$p(!0)],e.prototype,"deactivate",null),Ws([Qp],e.prototype,"bindEvent",null),Ws([Jp],e.prototype,"unbindEvent",null),Ws([Zp],e.prototype,"updateButtonDisplay",null),e}(op),By=function(t){function e(){var n=null!==t&&t.apply(this,arguments)||this;return n.isFullScreen=!1,n.isActiveAreaEvent=!0,n.scaleMode=!1,n.showException=!1,n.hideScaleControl=kp(function(){var t=n.elScaleControl.querySelector("div");xu(n.elScalePercentControl),Su(t)},2e3),n.wheelScale=Vp(function(t){var e=t.deltaY<0;n.itemType!==kt.VIDEO&&(e?n.scaleIncreaseAction():n.scaleDecreaseAction())},1e3),n.clickToggleSideIndex=function(t){Cp(t);var e=!Ou(n.elSideIndexToggleBtn,np.TOGGLE_INDEX_CLASS);n.toggleSideIndex(e,!0),Wi(ve,String(e))},n.clickScaleControl=function(t){Cp(t),Ou(n.elScaleControl,np.SCALE_MAX)?n.trigger(Kh.SCALE_INIT):n.trigger(Kh.SCALE_INCREASE)},n.clickCloseViewer=function(t){Cp(t),n.trigger(Dt.CLOSE)},n.clickScaleIncrease=function(t){Cp(t),n.trigger(Kh.SCALE_INCREASE)},n.clickScaleDecrease=function(t){Cp(t),n.trigger(Kh.SCALE_DECREASE)},n.showLayouts=function(){wu(n.elHeader,{opacity:1}),Su(n.elNavigator),n.hideLayouts()},n.hideLayouts=kp(function(){var t=Ou(n.elSideIndexToggleBtn,np.TOGGLE_INDEX_CLASS);n.isFullScreen&&!n.scaleMode&&(t||wu(n.elHeader,{opacity:0}),xu(n.elNavigator))},5e3),n.moveMouseEvent=Vp(function(t){if(!1!==n.isActiveAreaEvent){var e=n.getMouseArea(t);e&&n.trigger(Kh.FULL_MODE_MOUSE_MOVE,{mouseArea:e}),n.showLayouts()}},100),n}return js(e,t),e.prototype.initialize=function(t,e){t&&(this.elHeader=t.querySelector(ip.HEADER),this.elCloseBtn=t.querySelector(ip.VIEWER_CLOSE_BTN),this.elPanelArea=t.querySelector(ip.PANEL_WRAPER),this.elScaleControl=t.querySelector(ip.SCALE_CONTROL),this.elScalePercentControl=t.querySelector(ip.SCALE_PERCENT_CONTROL),this.elIncreaseScaleBtn=t.querySelector(ip.SCALE_INCREASE_BTN),this.elDecreaseScaleBtn=t.querySelector(ip.SCALE_DECREASE_BTN),this.elFullModeOpenBtn=t.querySelector(ip.VIEW_MODE_FULL_BUTTON),this.elSideIndexToggleBtn=t.querySelector(ip.IMAGE_INDEX_TOGGLE_BTM),this.elNavigator=t.querySelector(ip.NAVI_ROOT),this.elBase=t),!1===this._isActivePlugin(t,e)&&this.hideControlUI()},e.prototype.defineCustomEvent=function(){var t;this.eventNameMap=((t={})[Dt.CLOSE]=Dt.CLOSE,t[Kh.SCALE_INCREASE]=Kh.SCALE_INCREASE,t[Kh.SCALE_DECREASE]=Kh.SCALE_DECREASE,t[Kh.SCALE_INIT]=Kh.SCALE_INIT,t[Kh.TOGGLE_SIDE_INDEX]=Kh.TOGGLE_SIDE_INDEX,t[Kh.FULL_MODE_MOUSE_MOVE]=Kh.FULL_MODE_MOUSE_MOVE,t)},e.prototype.isScaleMode=function(){return this.scaleMode},e.prototype.updateScale=function(t){var e=!t.isMax,n=!t.isMin;this.scaleMode=!1===t.isMin,t.isMin||this.showScaleControl(),Pu(this.elScaleControl,np.SCALE_MAX,t.isMax),wu(this.elIncreaseScaleBtn,{opacity:e?1:.15}),wu(this.elDecreaseScaleBtn,{opacity:n?1:.15}),this.changeScaleCursor(!t.isMin)},e.prototype.changeScaleCursor=function(t){this.elPanelArea&&(this.elPanelArea.style.cursor=t?"move":"auto")},e.prototype.hideSideMenu=function(){xu(this.elSideIndexToggleBtn)},e.prototype.openFullScreen=function(){Au(this.elPanelArea,"mousemove",this.moveMouseEvent),this.showControlUI(),this.updateFullButtonText("전체화면 해제"),this.activate(),this.showLayouts(),this.isFullScreen=!0},e.prototype.setItemType=function(t){this.itemType=t,this.isFullScreen&&this.updateButtonDisplay()},e.prototype.setExceptionMode=function(t){this.showException=t,this.isFullScreen&&this.updateButtonDisplay()},e.prototype.updateButtonDisplay=function(){var t=this.elScaleControl,e=this.showException,n=this.itemType;!1===e&&n===kt.IMAGE?wu(t,{display:"inline-block"}):(e||n===kt.VIDEO)&&xu(t)},e.prototype.showControlUI=function(){var t=this.elCloseBtn,e=this.elPanelArea,n=this.elScaleControl,i=this.elBase,r=this.elFullModeOpenBtn;Pu(e,np.IS_HOVER,!0),t.style.display="inline-block",n.style.display="inline-block",Pu(n,np.SCALE_MAX,!1),Pu(i,np.FULL_SCREEN_MODE,!0),Pu(r,np.FULL_MODE_INDICATE,!0)},e.prototype.updateFullButtonText=function(t){var e=this.elFullModeOpenBtn;if(e){var n=e.querySelector("div");n&&(n.innerText=t)}},e.prototype.closeFullScreen=function(){Lu(this.elPanelArea,"mousemove",this.moveMouseEvent),this.hideControlUI(),this.updateFullButtonText("전체화면"),this.deactivate(),this.isFullScreen=!1},e.prototype.showScaleControl=function(){var t=this.elScaleControl.querySelector("div");Su(this.elScalePercentControl),xu(t),this.hideScaleControl()},e.prototype.hideControlUI=function(){var t=this.elCloseBtn,e=this.elPanelArea,n=this.elScaleControl,i=this.elScalePercentControl,r=this.elSideIndexToggleBtn,o=this.elBase,s=this.elFullModeOpenBtn,a=this.elHeader,l=this.elNavigator;Pu(e,np.IS_HOVER,!0),xu(t),xu(n),xu(i),Su(l),wu(a,{opacity:1}),Pu(n,np.SCALE_MAX,!1),Pu(o,np.FULL_SCREEN_MODE,!1),Pu(s,np.FULL_MODE_INDICATE,!1),Pu(r,np.TOGGLE_INDEX_CLASS,!1)},e.prototype.activate=function(){var t="true"===(qi(ve)||"false");this.bindEvent(),this.toggleSideIndex(t,!1)},e.prototype.deactivate=function(){this.changeScaleCursor(!1),this.unbindEvent()},e.prototype.scaleIncreaseAction=function(){this.isFullScreen&&this.trigger(Kh.SCALE_INCREASE)},e.prototype.scaleDecreaseAction=function(){this.isFullScreen&&this.trigger(Kh.SCALE_DECREASE)},e.prototype.setActivateAreaEvent=function(t){this.isActiveAreaEvent=t},e.prototype.bindEvent=function(){Au(this.elScaleControl,"click",this.clickScaleControl),Au(this.elCloseBtn,"click",this.clickCloseViewer),Au(this.elIncreaseScaleBtn,"click",this.clickScaleIncrease),Au(this.elDecreaseScaleBtn,"click",this.clickScaleDecrease),Au(this.elSideIndexToggleBtn,"click",this.clickToggleSideIndex),Au(this.elPanelArea,"wheel",this.wheelScale)},e.prototype.unbindEvent=function(){Lu(this.elScaleControl,"click",this.clickScaleControl),Lu(this.elCloseBtn,"click",this.clickCloseViewer),Lu(this.elIncreaseScaleBtn,"click",this.clickScaleIncrease),Lu(this.elDecreaseScaleBtn,"click",this.clickScaleDecrease),Lu(this.elSideIndexToggleBtn,"click",this.clickToggleSideIndex),Lu(this.elPanelArea,"wheel",this.wheelScale)},e.prototype.toggleSideIndex=function(t,e){void 0===e&&(e=!0),Pu(this.elSideIndexToggleBtn,np.TOGGLE_INDEX_CLASS,t),this.trigger(Kh.TOGGLE_SIDE_INDEX,{isOpen:t,isAnimation:e})},e.prototype.getMouseArea=function(t){var e=t.clientX,n=t.clientY,i=this.elPanelArea.getClientRects()[0],r=i.left,o=i.left+i.width,s=i.top,a=i.top+i.height,l=i.left+i.width/2;return r<=e&&e<=o&&s<=n&&n<=a?e<=l?qh.LEFT:qh.RIGHT:null},Ws([Zp],e.prototype,"updateScale",null),Ws([Zp],e.prototype,"openFullScreen",null),Ws([Zp],e.prototype,"updateButtonDisplay",null),Ws([Zp],e.prototype,"closeFullScreen",null),Ws([Zp],e.prototype,"activate",null),Ws([Zp],e.prototype,"deactivate",null),Ws([Zp],e.prototype,"scaleIncreaseAction",null),Ws([Zp],e.prototype,"scaleDecreaseAction",null),Ws([Qp],e.prototype,"bindEvent",null),Ws([Jp],e.prototype,"unbindEvent",null),e}(op),Fy=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return js(e,t),e.prototype.show=function(t,e){var n=uu({},t),i=e,r=t.message,o=t.itemType,s=Fv;this.visibility&&this.hide(),o===kt.VIDEO&&(s=zv),Su(this.element),this.element.innerHTML=Gv({type:s,message:r,btnText:"새로고침"}),this.appendTarget||i.appendChild(this.element),this.appendTarget=i,this.visibility=!0,Au(this.element,"click",this.onClickReload),this.trigger(ne.SHOW,{renderData:n})},e}(Bp),zy=function(){function d(t,e){var n=this.property,i=this.getterProps;n=uu(Iy,{normalModeLayout:null,fullModeLayout:null,navigatorLayout:null,wrapViewUnit:null,vrImageIndexLayout:null}),i=Py.getCommonProps(n),this.di=new Ry,this.di.bindProps(d.configureProps({property:n,getterProps:i}),n),this.bindPropsData(t,e)}return d.prototype.getDI=function(){return this.di},d.prototype.bindPropsData=function(t,e){var n=e.videoPlayerSettings,i=t.elRoot,r=new yy,o=gv(),s=mv(),a=d.createLayoutPool(t,r,e),l=new Ey(this.di),u=d.createFlicking(t),c=u.getElement().querySelector(Ht.IMAGE_WRAP),h=c.querySelector("img"),p=a.getCustomLayoutsProxy(),f=new Ny(r,{useFadeEffect:!0,videoPlayerSettings:n});o.elRootOverflow=wu(i,"overflow"),this.di.regist(Xs({},t,{options:e,state:o,itemModel:s,layoutPool:a,wrapViewUnit:l,flicking:u,imageWrap:c,image:h,itemLoader:f,customLayoutsProxy:p,eventProxy:r}))},d.configureProps=function(t){var e=t.property,n=t.getterProps;return Py.defineGetter(n,{normalModeLayout:function(){return e.layoutPool.getLayoutInstance(Zh.NORMAL_MODE)},fullModeLayout:function(){return e.layoutPool.getLayoutInstance(Zh.FULL_MODE)},navigatorLayout:function(){return e.layoutPool.getLayoutInstance(Zh.NAVI_BTN)},vrImageIndexLayout:function(){return e.layoutPool.getLayoutInstance(Zh.V_IMAGE_INDEX)}}),n},d.createLayoutPool=function(t,e,n){var i,r,o=n.layoutOption,s=t.elRoot,a=t.elBase;o=uu({},((i={})[Mt.H_IMAGE_INDEX]={vlisibleClass:Rt.IMAGE_PANEL,useHoverShow:!0,scrollPagingMode:!0,scrollUnit:10},i[Mt.V_IMAGE_INDEX]={itemTemplate:Uv,loadingTemplate:Hv},i[Mt.GHOST_IMAGE]={elParent:s},i[Mt.LINK]={template:Av},i),o);var l=((r={})[Mt.HEADER]=sp,r[Mt.FOOTTER]=Fp,r[Mt.BACKGROUND]=ap,r[Mt.EXCEPTION]=Fy,r[Mt.GHOST_IMAGE]=tv,r[Mt.H_IMAGE_INDEX]=tf,r[Mt.TOAST]=zp,r[Mt.CAPTION]=ev,r[Mt.CLOSE_BTN]=iv,r[Mt.INDEX_INDICATOR]=ov,r[Mt.LINK]=sv,r[Mt.V_IMAGE_INDEX]=Jd,r[Mt.VIDEO_TOOLBAR]=uv,r[Zh.NAVI_BTN]=ky,r[Zh.NORMAL_MODE]=Vy,r[Zh.FULL_MODE]=By,r);return new my(a,e,l,o)},d.createFlicking=function(t){var e=t.itemPanel;return new ty(e,{circular:!0,prefix:"_CV_flick",zIndex:10,flickPanelPadding:qt,imageSelector:Ht.IMAGE_ITEM,useTranslate:!1,hwAccelerable:!1})},d}(),Gy=function(a){function t(t,e,n){void 0===n&&(n={});var i=a.call(this)||this;i.itemModel=t;var r=uu({useOpenFullScreen:!1},n);i._options=r;var o=i.initElement(),s=new zy(o,r);return i.di=s.getDI(),i.history=e,i.injectData=i.di.getData(),i.injectData.eventProxy.on(i.getMediaViewerEventSet()),i.initSevice(),i.initialize(),r.useScrollSync&&"scrollRestoration"in history&&(history.scrollRestoration="manual"),i}return js(t,a),t.prototype.getMediaViewerEventSet=function(){var t,r=this;return(t={})[Dt.H_INDEX_OPEN]=function(){r.triggerViewerEvent(Dt.H_INDEX_OPEN)},t[Dt.H_INDEX_CLOSE]=function(){r.triggerViewerEvent(Dt.H_INDEX_CLOSE)},t[Dt.H_INDEX_CLICK]=function(t){r.triggerViewerEvent(Dt.H_INDEX_CLICK,t)},t[Dt.H_INDEX_NEXT_MOVE]=function(){r.triggerViewerEvent(Dt.H_INDEX_NEXT_MOVE)},t[Dt.H_INDEX_PREV_MOVE]=function(){r.triggerViewerEvent(Dt.H_INDEX_PREV_MOVE)},t[Dt.V_INDEX_OPEN]=function(){r.triggerViewerEvent(Dt.V_INDEX_OPEN)},t[Dt.V_INDEX_CLOSE]=function(){r.triggerViewerEvent(Dt.V_INDEX_CLOSE)},t[Dt.V_INDEX_CLICK]=function(t){r.triggerViewerEvent(Dt.V_INDEX_CLICK,t)},t[Dt.FLICK]=function(t){r.triggerViewerEvent(Dt.FLICK,t)},t[Dt.PREV_MOVE]=function(){r.triggerViewerEvent(Dt.PREV_MOVE)},t[Dt.NEXT_MOVE]=function(){r.triggerViewerEvent(Dt.NEXT_MOVE)},t[Dt.CLOSE]=function(t){var e=t.toImgEl,n=t.isGoBack,i=t.gestureDistance;r.close(e,n,i)},t[Dt.ZOOM_ENTER]=function(){r.triggerViewerEvent(Dt.ZOOM_ENTER)},t[Dt.ZOOM_LEAVE]=function(){r.triggerViewerEvent(Dt.ZOOM_LEAVE)},t[Dt.CHANGE_FULL_MODE]=function(){r.triggerViewerEvent(Dt.CHANGE_FULL_MODE)},t[Dt.CHANGE_NORMAL_MODE]=function(){r.triggerViewerEvent(Dt.CHANGE_NORMAL_MODE)},t[Tt.LOAD_CURRENT_ITEM]=function(t){var e=t.itemData;r.viewController.updateViewerLayoutByItem(e)},t[Kh.HIDE]=function(t){var e=r.injectData.options;r.triggerViewerEvent(Dt.CLOSE),e.urlCallback&&t.isGoBack&&r.history.back()},t},t.prototype.initialize=function(){var t=this.injectData,e=t.itemModel,n=t.state,i=t.elRoot;this.viewController=new gy(this.di),this.interactionController=new _y(this.di),this.viewController.initialize(),this.interactionController.initialize(),this.itemModelService.bindEvent(),this.di.regist({gestureProxy:this.interactionController.getGestureProxy()}),this.viewController.updateDataList(e.getData()),n.elRootOverflow=wu(i,"overflow")},t.prototype.initSevice=function(){var t,e,n=this,i=this.injectData,r=i.options,o=i.itemModel,s=i.state,a=!!r.urlCallback,l=_u(t=this.close).call(t,this),u=_u(e=this.resize).call(e,this);this.globalEventService=new qv(window,a,uy({close:l,resize:u},this.di));this.itemModelService=new Yv(o,cy(function(t){n.viewController.updateDataList(t.dataList)},function(t){r.urlCallback&&s.open&&n.history.replace(r.urlCallback(t)),n.trigger(Dt.H_INDEX_CHANGE,{dataIndex:t,data:o.getCurrent()})},this.di))},t.prototype.initElement=function(){var t=this._options,e=t.baseHtml,n=t.elRoot,i=t.elItemList,r=document.querySelector(ip.ROOT);r&&r.parentNode.removeChild(r);var o=document.createElement("div"),s=e||jv;o.innerHTML=s;var a=o.querySelector(ip.ROOT);n.appendChild(a);var l=a.querySelector(ip.IMAGE_PANEL);return{elRoot:n,elBase:a,elItemList:i,itemPanel:l}},t.prototype.removeElement=function(){var t=this.injectData,e=t.elRoot,n=t.elBase;e.removeChild(n)},t.prototype.open=function(t){var e=this,n=this.injectData,i=n.state,r=n.options,o=this.viewController.getImgFromList(t),s=function(){e.trigger(Dt.OPEN),i.isPlaying=!1},a=!(!o||!1!==r.useOpenFullScreen);this.openedItemCheck=!1,this.viewController.showView(t,a),a?this.viewController.buildIn(o,function(){e.activate(),s()}):(this.activate(),s()),i.open=!0},t.prototype.close=function(t,e,n){void 0===e&&(e=!0),void 0===n&&(n=0);var i=this.injectData,r=i.state,o=i.exceptionLayout,s=i.itemModel;if(this.globalEventService.unbindEvent(),!r.isPlaying&&!1!==r.open){r.isPlaying=!0,this.deactivate();var a=t||this.viewController.getImgFromList(),l=n;this.viewController.uncover(),!o.isVisiblity()&&a||(l=9999),this.viewController.hideView(a,{isGoBack:e,gestureDistance:l}),s.resetIndex(),r.open=!1,this.injectData.eventProxy.trigger(zt.TRIGGER_CLOSE)}},t.prototype.resize=function(t){this.viewController.resizeLayout(t)},t.prototype.activate=function(){var t=this.injectData.state;this.viewController.activate(),this.interactionController.activate(),this.globalEventService.bindEvent(),t.isPlaying=!1},t.prototype.deactivate=function(){this.globalEventService.unbindEvent(),this.viewController.deactivate(),this.interactionController.deactivate()},t.prototype.destroy=function(){this.injectData.state.open&&this.close(),this.deactivate(),this.viewController.destroy(),this.interactionController.destroy(),this.itemModelService.unbindEvent(),this.removeElement(),this.di.destroy()},t}(Ev);function Hy(t){return(Hy="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function Uy(e,n,t){var i=t.value;if("function"!=typeof i)throw new TypeError("@boundMethod decorator can only be applied to methods not: ".concat(Hy(i)));var r=!1;return{configurable:!0,get:function(){if(r||this===e.prototype||this.hasOwnProperty(n)||"function"!=typeof i)return i;var t=i.bind(this);return r=!0,Object.defineProperty(this,n,{configurable:!0,get:function(){return t},set:function(t){i=t,delete this[n]}}),r=!1,t},set:function(t){i=t}}}var jy=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return js(e,t),e.prototype.initialize=function(){var t=this._options,e=t.baseHtml,n=t.elRoot,i=t.elItemList;this.elRoot=n,this.elItemList=i,this.elRootOverflow=wu(this.elRoot,"overflow");var r=Xi.createElement("div");r.innerHTML=e||jv,this.elBase=r.querySelector(ip.ROOT),this.elRoot.appendChild(this.elBase);var o=this.elBase.querySelector(ip.IMAGE_PANEL);o.innerHTML=Gv({type:Bv,message:Xt,btnText:"닫기"}),this.el=o.querySelector(ip.NOT_SUPPORT_WRAP),this.attachEvent()},e.prototype.attachEvent=function(){Au(this.elRoot,"click",this.closeNotSupportButtonHandler)},e.prototype.detachEvent=function(){Lu(this.elRoot,"click",this.closeNotSupportButtonHandler)},e.prototype.open=function(){var t=this.elRoot.querySelector(ip.LAYOUT_BOTTOM),e=this.elRoot.querySelector(ip.NAVI_ROOT);wu(this.elItemList,{overflow:"hidden",visibility:"hidden",height:0}),Su(this.el),Su(this.elBase),xu(t),xu(e),this.trigger(Dt.OPEN)},e.prototype.close=function(){wu(this.elItemList,{visibility:"visible",overflow:"visible",height:null}),xu(this.el),xu(this.elBase),this.trigger(Dt.CLOSE)},e}(function(n){function t(t){void 0===t&&(t={});var e=n.call(this)||this;return e._options=uu({},t),e.initialize(),e}return js(t,n),t.prototype.closeNotSupportButtonHandler=function(t){Cp(t),this.close()},t.prototype.destroy=function(){this.detachEvent()},Ws([Uy],t.prototype,"closeNotSupportButtonHandler",null),t}(Ph)),Xy=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return js(e,t),e.prototype.creatViewer=function(){var t,e=Dt;this.isNotSupportBrowser?this.unsupportViewer=new jy(this._options):this.viewer=new Gy(this.itemModelData,this.historyManager,this._options).on(this.getBypassEvents(oo(t=ht(e)).call(t,function(t){return e[t]})))},e}(yv),Wy=t(function(t,e){t.exports=function(){function l(t){return"function"==typeof t}var n=Array.isArray?Array.isArray:function(t){return"[object Array]"===Object.prototype.toString.call(t)},i=0,e=void 0,r=void 0,a=function(t,e){p[i]=t,p[i+1]=e,2===(i+=2)&&(r?r(f):m())},t="undefined"!=typeof window?window:void 0,o=t||{},s=o.MutationObserver||o.WebKitMutationObserver,u="undefined"==typeof self&&"undefined"!=typeof process&&"[object process]"==={}.toString.call(process),c="undefined"!=typeof Uint8ClampedArray&&"undefined"!=typeof importScripts&&"undefined"!=typeof MessageChannel;function h(){var t=setTimeout;return function(){return t(f,1)}}var p=new Array(1e3);function f(){for(var t=0;t<i;t+=2){var e=p[t],n=p[t+1];e(n),p[t]=void 0,p[t+1]=void 0}i=0}var d,v,g,_,m=void 0;function y(t,e){var n=this,i=new this.constructor(b);void 0===i[I]&&k(i);var r=n._state;if(r){var o=arguments[r-1];a(function(){return N(r,i,o,n._result)})}else D(n,i,t,e);return i}function E(t){if(t&&"object"==typeof t&&t.constructor===this)return t;var e=new this(b);return O(e,t),e}m=u?function(){return process.nextTick(f)}:s?(v=0,g=new s(f),_=document.createTextNode(""),g.observe(_,{characterData:!0}),function(){_.data=v=++v%2}):c?((d=new MessageChannel).port1.onmessage=f,function(){return d.port2.postMessage(0)}):void 0===t?function(){try{var t=Function("return this")().require("vertx");return void 0===(e=t.runOnLoop||t.runOnContext)?h():function(){e(f)}}catch(t){return h()}}():h();var I=Math.random().toString(36).substring(2);function b(){}var T=void 0,S=1,x=2;function w(t,e,n,i){try{t.call(e,n,i)}catch(t){return t}}function P(t,e,n){var i,r,o,s;e.constructor===t.constructor&&n===y&&e.constructor.resolve===E?(o=t,(s=e)._state===S?L(o,s._result):s._state===x?C(o,s._result):D(s,void 0,function(t){return O(o,t)},function(t){return C(o,t)})):void 0===n?L(t,e):l(n)?(i=e,r=n,a(function(e){var n=!1,t=w(r,i,function(t){n||(n=!0,i!==t?O(e,t):L(e,t))},function(t){n||(n=!0,C(e,t))},e._label);!n&&t&&(n=!0,C(e,t))},t)):L(t,e)}function O(e,t){if(e===t)C(e,new TypeError("You cannot resolve a promise with itself"));else if(r=typeof(i=t),null===i||"object"!==r&&"function"!==r)L(e,t);else{var n=void 0;try{n=t.then}catch(t){return void C(e,t)}P(e,t,n)}var i,r}function A(t){t._onerror&&t._onerror(t._result),M(t)}function L(t,e){t._state===T&&(t._result=e,t._state=S,0!==t._subscribers.length&&a(M,t))}function C(t,e){t._state===T&&(t._state=x,t._result=e,a(A,t))}function D(t,e,n,i){var r=t._subscribers,o=r.length;t._onerror=null,r[o]=e,r[o+S]=n,r[o+x]=i,0===o&&t._state&&a(M,t)}function M(t){var e=t._subscribers,n=t._state;if(0!==e.length){for(var i=void 0,r=void 0,o=t._result,s=0;s<e.length;s+=3)i=e[s],r=e[s+n],i?N(n,i,r,o):r(o);t._subscribers.length=0}}function N(t,e,n,i){var r=l(n),o=void 0,s=void 0,a=!0;if(r){try{o=n(i)}catch(t){a=!1,s=t}if(e===o)return void C(e,new TypeError("A promises callback cannot return that same promise."))}else o=i;e._state!==T||(r&&a?O(e,o):!1===a?C(e,s):t===S?L(e,o):t===x&&C(e,o))}var R=0;function k(t){t[I]=R++,t._state=void 0,t._result=void 0,t._subscribers=[]}var V=function(){function t(t,e){this._instanceConstructor=t,this.promise=new t(b),this.promise[I]||k(this.promise),n(e)?(this.length=e.length,this._remaining=e.length,this._result=new Array(this.length),0===this.length?L(this.promise,this._result):(this.length=this.length||0,this._enumerate(e),0===this._remaining&&L(this.promise,this._result))):C(this.promise,new Error("Array Methods must be provided an Array"))}return t.prototype._enumerate=function(t){for(var e=0;this._state===T&&e<t.length;e++)this._eachEntry(t[e],e)},t.prototype._eachEntry=function(e,t){var n=this._instanceConstructor,i=n.resolve;if(i===E){var r=void 0,o=void 0,s=!1;try{r=e.then}catch(t){s=!0,o=t}if(r===y&&e._state!==T)this._settledAt(e._state,t,e._result);else if("function"!=typeof r)this._remaining--,this._result[t]=e;else if(n===B){var a=new n(b);s?C(a,o):P(a,e,r),this._willSettleAt(a,t)}else this._willSettleAt(new n(function(t){return t(e)}),t)}else this._willSettleAt(i(e),t)},t.prototype._settledAt=function(t,e,n){var i=this.promise;i._state===T&&(this._remaining--,t===x?C(i,n):this._result[e]=n),0===this._remaining&&L(i,this._result)},t.prototype._willSettleAt=function(t,e){var n=this;D(t,void 0,function(t){return n._settledAt(S,e,t)},function(t){return n._settledAt(x,e,t)})},t}(),B=function(){function e(t){this[I]=R++,this._result=this._state=void 0,this._subscribers=[],b!==t&&("function"!=typeof t&&function(){throw new TypeError("You must pass a resolver function as the first argument to the promise constructor")}(),this instanceof e?function(e,t){try{t(function(t){O(e,t)},function(t){C(e,t)})}catch(t){C(e,t)}}(this,t):function(){throw new TypeError("Failed to construct 'Promise': Please use the 'new' operator, this object constructor cannot be called as a function.")}())}return e.prototype.catch=function(t){return this.then(null,t)},e.prototype.finally=function(e){var n=this.constructor;return l(e)?this.then(function(t){return n.resolve(e()).then(function(){return t})},function(t){return n.resolve(e()).then(function(){throw t})}):this.then(e,e)},e}();return B.prototype.then=y,B.all=function(t){return new V(this,t).promise},B.race=function(r){var o=this;return n(r)?new o(function(t,e){for(var n=r.length,i=0;i<n;i++)o.resolve(r[i]).then(t,e)}):new o(function(t,e){return e(new TypeError("You must pass an array to race."))})},B.resolve=E,B.reject=function(t){var e=new this(b);return C(e,t),e},B._setScheduler=function(t){r=t},B._setAsap=function(t){a=t},B._asap=a,B.polyfill=function(){var t=void 0;if(void 0!==F)t=F;else if("undefined"!=typeof self)t=self;else try{t=Function("return this")()}catch(t){throw new Error("polyfill failed because global object is unavailable in this environment")}var e=t.Promise;if(e){var n=null;try{n=Object.prototype.toString.call(e.resolve())}catch(t){}if("[object Promise]"===n&&!e.cast)return}t.Promise=B},B.Promise=B}()});return function(){var t;if($a().isIE)t=window;else if("undefined"!=typeof global)t=global;else if("undefined"!=typeof self)t=self;else try{t=Function("return this")()}catch(t){throw new Error("polyfill failed because global object is unavailable in this environment")}t.Promise=Wy.Promise}(),{Viewer:Xy,SharedButton:rv,CustomLayout:av,ViewerType:St,MediaViewerEvent:Dt,LayoutPosition:Zd,AbstractVideoPlayer:cv,LayoutId:ut({},Mt,Zh),VideoPlayerType:de}});
